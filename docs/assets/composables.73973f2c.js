import{r as y,a as S,o as E}from"./vendor.9cbaf9a0.js";import{M as a,y as I,z as N}from"./index.f86d5f51.js";let u;function _(){const t=y({}),i=S("pending"),s=[];a.forEach(({key:e})=>{t[e]=!1});const f=()=>i.value==="pending",h=()=>i.value==="ready";function l(){!I||!f()||(i.value="resvered",a.forEach(e=>{const{key:o,condition:p}=e,r=window.matchMedia(p),c=g=>{t[o]=g.matches},v={key:o,mql:r,handler:c,remove:()=>{r.removeEventListener("change",c),N(s,v)}};r.addEventListener("change",c),t[o]=r.matches,s.push(v)}))}function d(e){return t[e]}function m(){for(const e of s)t[e.key]=e.mql.matches}function M(){for(const e of s)t[e.key]=!1,e.remove()}const n=function(o){return d(o)};return n.state=()=>t,n.listeners=()=>s,n.conditions=()=>a,n.bootState=()=>i.value,n.isPending=f,n.isBooted=h,n.matches=d,n.flush=m,n.setup=l,n.dispose=M,n}function k(){return u||(u=_()),u}function O(){const t=k();return t.isBooted()||E(()=>{t.setup()}),t}export{O as u};
