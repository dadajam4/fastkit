function zn(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const xv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sv=zn(xv);function vm(t){return!!t||t===""}function Gc(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ke(r)?Tv(r):Gc(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Ke(t))return t;if(Ve(t))return t}}const wv=/;(?![^(]*\))/g,Ov=/:(.+)/;function Tv(t){const e={};return t.split(wv).forEach(n=>{if(n){const r=n.split(Ov);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Yc(t){let e="";if(Ke(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const r=Yc(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Mv="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",_v="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Fv=zn(Mv),Pv=zn(_v);function Nv(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ml(t[r],e[r]);return n}function ml(t,e){if(t===e)return!0;let n=kd(t),r=kd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=fo(t),r=fo(e),n||r)return t===e;if(n=se(t),r=se(e),n||r)return n&&r?Nv(t,e):!1;if(n=Ve(t),r=Ve(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ml(t[o],e[o]))return!1}}return String(t)===String(e)}function Rv(t,e){return t.findIndex(n=>ml(n,e))}const Fe=Object.freeze({}),Hs=Object.freeze([]),kt=()=>{},bm=()=>!1,Iv=/^on[^a-z]/,bs=t=>Iv.test(t),ya=t=>t.startsWith("onUpdate:"),ze=Object.assign,Qc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bv=Object.prototype.hasOwnProperty,Ee=(t,e)=>Bv.call(t,e),se=Array.isArray,Wi=t=>Mo(t)==="[object Map]",Xc=t=>Mo(t)==="[object Set]",kd=t=>Mo(t)==="[object Date]",ye=t=>typeof t=="function",Ke=t=>typeof t=="string",fo=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",Zc=t=>Ve(t)&&ye(t.then)&&ye(t.catch),Lv=Object.prototype.toString,Mo=t=>Lv.call(t),ef=t=>Mo(t).slice(8,-1),$v=t=>Mo(t)==="[object Object]",tf=t=>Ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zs=zn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vv=zn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),gl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},jv=/-(\w)/g,ts=gl(t=>t.replace(jv,(e,n)=>n?n.toUpperCase():"")),Hv=/\B([A-Z])/g,gr=gl(t=>t.replace(Hv,"-$1").toLowerCase()),yl=gl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nr=gl(t=>t?`on${yl(t)}`:""),ho=(t,e)=>!Object.is(t,e),Ti=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},va=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},nf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Cd;const km=()=>Cd||(Cd=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function $u(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let ln;class zv{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&ln&&(this.parent=ln,this.index=(ln.scopes||(ln.scopes=[])).push(this)-1)}run(e){if(this.active){const n=ln;try{return ln=this,e()}finally{ln=n}}else $u("cannot run an inactive effect scope.")}on(){ln=this}off(){ln=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Kv(t,e=ln){e&&e.active&&e.effects.push(t)}const rf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Cm=t=>(t.w&yr)>0,Dm=t=>(t.n&yr)>0,Uv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=yr},qv=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Cm(i)&&!Dm(i)?i.delete(t):e[n++]=i,i.w&=~yr,i.n&=~yr}e.length=n}},Vu=new WeakMap;let Is=0,yr=1;const ju=30;let mt;const Yr=Symbol("iterate"),Hu=Symbol("Map key iterate");class sf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Kv(this,r)}run(){if(!this.active)return this.fn();let e=mt,n=cr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=mt,mt=this,cr=!0,yr=1<<++Is,Is<=ju?Uv(this):Dd(this),this.fn()}finally{Is<=ju&&qv(this),yr=1<<--Is,mt=this.parent,cr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){mt===this?this.deferStop=!0:this.active&&(Dd(this),this.onStop&&this.onStop(),this.active=!1)}}function Dd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let cr=!0;const Em=[];function mi(){Em.push(cr),cr=!1}function gi(){const t=Em.pop();cr=t===void 0?!0:t}function Bt(t,e,n){if(cr&&mt){let r=Vu.get(t);r||Vu.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=rf()),Am(i,{effect:mt,target:t,type:e,key:n})}}function Am(t,e){let n=!1;Is<=ju?Dm(t)||(t.n|=yr,n=!Cm(t)):n=!t.has(mt),n&&(t.add(mt),mt.deps.push(t),mt.onTrack&&mt.onTrack(Object.assign({effect:mt},e)))}function Hn(t,e,n,r,i,s){const o=Vu.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&se(t))o.forEach((c,u)=>{(u==="length"||u>=r)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":se(t)?tf(n)&&a.push(o.get("length")):(a.push(o.get(Yr)),Wi(t)&&a.push(o.get(Hu)));break;case"delete":se(t)||(a.push(o.get(Yr)),Wi(t)&&a.push(o.get(Hu)));break;case"set":Wi(t)&&a.push(o.get(Yr));break}const l={target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s};if(a.length===1)a[0]&&zu(a[0],l);else{const c=[];for(const u of a)u&&c.push(...u);zu(rf(c),l)}}function zu(t,e){const n=se(t)?t:[...t];for(const r of n)r.computed&&Ed(r,e);for(const r of n)r.computed||Ed(r,e)}function Ed(t,e){(t!==mt||t.allowRecurse)&&(t.onTrigger&&t.onTrigger(ze({effect:t},e)),t.scheduler?t.scheduler():t.run())}const Wv=zn("__proto__,__v_isRef,__isVue"),xm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fo)),Jv=vl(),Gv=vl(!1,!0),Yv=vl(!0),Qv=vl(!0,!0),Ad=Xv();function Xv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ce(this);for(let s=0,o=this.length;s<o;s++)Bt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ce)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){mi();const r=Ce(this)[e].apply(this,n);return gi(),r}}),t}function vl(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?Pm:Fm:e?_m:Mm).get(r))return r;const o=se(r);if(!t&&o&&Ee(Ad,i))return Reflect.get(Ad,i,s);const a=Reflect.get(r,i,s);return(fo(i)?xm.has(i):Wv(i))||(t||Bt(r,"get",i),e)?a:Xe(a)?o&&tf(i)?a:a.value:Ve(a)?t?Nm(a):ks(a):a}}const Zv=Sm(),eb=Sm(!0);function Sm(t=!1){return function(n,r,i,s){let o=n[r];if(ai(o)&&Xe(o)&&!Xe(i))return!1;if(!t&&!ai(i)&&(Ku(i)||(i=Ce(i),o=Ce(o)),!se(n)&&Xe(o)&&!Xe(i)))return o.value=i,!0;const a=se(n)&&tf(r)?Number(r)<n.length:Ee(n,r),l=Reflect.set(n,r,i,s);return n===Ce(s)&&(a?ho(i,o)&&Hn(n,"set",r,i,o):Hn(n,"add",r,i)),l}}function tb(t,e){const n=Ee(t,e),r=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&Hn(t,"delete",e,void 0,r),i}function nb(t,e){const n=Reflect.has(t,e);return(!fo(e)||!xm.has(e))&&Bt(t,"has",e),n}function rb(t){return Bt(t,"iterate",se(t)?"length":Yr),Reflect.ownKeys(t)}const wm={get:Jv,set:Zv,deleteProperty:tb,has:nb,ownKeys:rb},Om={get:Yv,set(t,e){return $u(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return $u(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},ib=ze({},wm,{get:Gv,set:eb}),sb=ze({},Om,{get:Qv}),of=t=>t,bl=t=>Reflect.getPrototypeOf(t);function Uo(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ce(t),s=Ce(e);n||(e!==s&&Bt(i,"get",e),Bt(i,"get",s));const{has:o}=bl(i),a=r?of:n?lf:po;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function qo(t,e=!1){const n=this.__v_raw,r=Ce(n),i=Ce(t);return e||(t!==i&&Bt(r,"has",t),Bt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Wo(t,e=!1){return t=t.__v_raw,!e&&Bt(Ce(t),"iterate",Yr),Reflect.get(t,"size",t)}function xd(t){t=Ce(t);const e=Ce(this);return bl(e).has.call(e,t)||(e.add(t),Hn(e,"add",t,t)),this}function Sd(t,e){e=Ce(e);const n=Ce(this),{has:r,get:i}=bl(n);let s=r.call(n,t);s?Tm(n,r,t):(t=Ce(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ho(e,o)&&Hn(n,"set",t,e,o):Hn(n,"add",t,e),this}function wd(t){const e=Ce(this),{has:n,get:r}=bl(e);let i=n.call(e,t);i?Tm(e,n,t):(t=Ce(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,o=e.delete(t);return i&&Hn(e,"delete",t,void 0,s),o}function Od(){const t=Ce(this),e=t.size!==0,n=Wi(t)?new Map(t):new Set(t),r=t.clear();return e&&Hn(t,"clear",void 0,void 0,n),r}function Jo(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Ce(o),l=e?of:t?lf:po;return!t&&Bt(a,"iterate",Yr),o.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function Go(t,e,n){return function(...r){const i=this.__v_raw,s=Ce(i),o=Wi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?of:e?lf:po;return!e&&Bt(s,"iterate",l?Hu:Yr),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Wn(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${yl(t)} operation ${n}failed: target is readonly.`,Ce(this))}return t==="delete"?!1:this}}function ob(){const t={get(s){return Uo(this,s)},get size(){return Wo(this)},has:qo,add:xd,set:Sd,delete:wd,clear:Od,forEach:Jo(!1,!1)},e={get(s){return Uo(this,s,!1,!0)},get size(){return Wo(this)},has:qo,add:xd,set:Sd,delete:wd,clear:Od,forEach:Jo(!1,!0)},n={get(s){return Uo(this,s,!0)},get size(){return Wo(this,!0)},has(s){return qo.call(this,s,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Jo(!0,!1)},r={get(s){return Uo(this,s,!0,!0)},get size(){return Wo(this,!0)},has(s){return qo.call(this,s,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Jo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Go(s,!1,!1),n[s]=Go(s,!0,!1),e[s]=Go(s,!1,!0),r[s]=Go(s,!0,!0)}),[t,n,e,r]}const[ab,lb,ub,cb]=ob();function kl(t,e){const n=e?t?cb:ub:t?lb:ab;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ee(n,i)&&i in r?n:r,i,s)}const fb={get:kl(!1,!1)},db={get:kl(!1,!0)},hb={get:kl(!0,!1)},pb={get:kl(!0,!0)};function Tm(t,e,n){const r=Ce(n);if(r!==n&&e.call(t,r)){const i=ef(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Mm=new WeakMap,_m=new WeakMap,Fm=new WeakMap,Pm=new WeakMap;function mb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gb(t){return t.__v_skip||!Object.isExtensible(t)?0:mb(ef(t))}function ks(t){return ai(t)?t:Cl(t,!1,wm,fb,Mm)}function yb(t){return Cl(t,!1,ib,db,_m)}function Nm(t){return Cl(t,!0,Om,hb,Fm)}function Ii(t){return Cl(t,!0,sb,pb,Pm)}function Cl(t,e,n,r,i){if(!Ve(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=gb(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Qr(t){return ai(t)?Qr(t.__v_raw):!!(t&&t.__v_isReactive)}function ai(t){return!!(t&&t.__v_isReadonly)}function Ku(t){return!!(t&&t.__v_isShallow)}function Uu(t){return Qr(t)||ai(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function af(t){return va(t,"__v_skip",!0),t}const po=t=>Ve(t)?ks(t):t,lf=t=>Ve(t)?Nm(t):t;function uf(t){cr&&mt&&(t=Ce(t),Am(t.dep||(t.dep=rf()),{target:t,type:"get",key:"value"}))}function cf(t,e){t=Ce(t),t.dep&&zu(t.dep,{target:t,type:"set",key:"value",newValue:e})}function Xe(t){return!!(t&&t.__v_isRef===!0)}function _o(t){return Im(t,!1)}function Rm(t){return Im(t,!0)}function Im(t,e){return Xe(t)?t:new vb(t,e)}class vb{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:po(e)}get value(){return uf(this),this._value}set value(e){e=this.__v_isShallow?e:Ce(e),ho(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:po(e),cf(this,e))}}function Ji(t){return Xe(t)?t.value:t}const bb={get:(t,e,n)=>Ji(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Xe(i)&&!Xe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Bm(t){return Qr(t)?t:new Proxy(t,bb)}class kb{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>uf(this),()=>cf(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Cb(t){return new kb(t)}class Db{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new sf(e,()=>{this._dirty||(this._dirty=!0,cf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ce(this);return uf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Eb(t,e,n=!1){let r,i;const s=ye(t);s?(r=t,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(r=t.get,i=t.set);const o=new Db(r,i,s||!i,n);return e&&!n&&(o.effect.onTrack=e.onTrack,o.effect.onTrigger=e.onTrigger),o}const Xr=[];function oa(t){Xr.push(t)}function aa(){Xr.pop()}function I(t,...e){mi();const n=Xr.length?Xr[Xr.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=Ab();if(r)Vn(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${Tl(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...xb(i)),console.warn(...s)}gi()}function Ab(){let t=Xr[Xr.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function xb(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...Sb(n))}),e}function Sb({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${Tl(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...wb(t.props),s]:[i+s]}function wb(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...Lm(r,t[r]))}),n.length>3&&e.push(" ..."),e}function Lm(t,e,n){return Ke(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Xe(e)?(e=Lm(t,Ce(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ye(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ce(e),n?e:[`${t}=`,e])}const ff={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Vn(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Dl(s,e,n)}return i}function Jt(t,e,n,r){if(ye(t)){const s=Vn(t,e,n,r);return s&&Zc(s)&&s.catch(o=>{Dl(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Jt(t[s],e,n,r));return i}function Dl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=ff[n];for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Vn(l,null,10,[t,o,a]);return}}Ob(t,n,i,r)}function Ob(t,e,n,r=!0){{const i=ff[e];if(n&&oa(n),I(`Unhandled error${i?` during execution of ${i}`:""}`),n&&aa(),r)throw t;console.error(t)}}let ba=!1,qu=!1;const Mt=[];let In=0;const Ks=[];let Mi=null,Rr=0;const Us=[];let On=null,Ir=0;const $m=Promise.resolve();let df=null,Wu=null;const Tb=100;function hf(t){const e=df||$m;return t?e.then(this?t.bind(this):t):e}function Mb(t){let e=In+1,n=Mt.length;for(;e<n;){const r=e+n>>>1;mo(Mt[r])<t?e=r+1:n=r}return e}function pf(t){(!Mt.length||!Mt.includes(t,ba&&t.allowRecurse?In+1:In))&&t!==Wu&&(t.id==null?Mt.push(t):Mt.splice(Mb(t.id),0,t),Vm())}function Vm(){!ba&&!qu&&(qu=!0,df=$m.then(zm))}function _b(t){const e=Mt.indexOf(t);e>In&&Mt.splice(e,1)}function jm(t,e,n,r){se(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),Vm()}function Fb(t){jm(t,Mi,Ks,Rr)}function Hm(t){jm(t,On,Us,Ir)}function El(t,e=null){if(Ks.length){for(Wu=e,Mi=[...new Set(Ks)],Ks.length=0,t=t||new Map,Rr=0;Rr<Mi.length;Rr++)mf(t,Mi[Rr])||Mi[Rr]();Mi=null,Rr=0,Wu=null,El(t,e)}}function ka(t){if(El(),Us.length){const e=[...new Set(Us)];if(Us.length=0,On){On.push(...e);return}for(On=e,t=t||new Map,On.sort((n,r)=>mo(n)-mo(r)),Ir=0;Ir<On.length;Ir++)mf(t,On[Ir])||On[Ir]();On=null,Ir=0}}const mo=t=>t.id==null?1/0:t.id;function zm(t){qu=!1,ba=!0,t=t||new Map,El(t),Mt.sort((n,r)=>mo(n)-mo(r));const e=n=>mf(t,n);try{for(In=0;In<Mt.length;In++){const n=Mt[In];if(n&&n.active!==!1){if(e(n))continue;Vn(n,null,14)}}}finally{In=0,Mt.length=0,ka(t),ba=!1,df=null,(Mt.length||Ks.length||Us.length)&&zm(t)}}function mf(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>Tb){const r=e.ownerInstance,i=r&&kg(r.type);return I(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(e,n+1)}}let fr=!1;const _i=new Set;km().__VUE_HMR_RUNTIME__={createRecord:Yl(Km),rerender:Yl(Rb),reload:Yl(Ib)};const li=new Map;function Pb(t){const e=t.type.__hmrId;let n=li.get(e);n||(Km(e,t.type),n=li.get(e)),n.instances.add(t)}function Nb(t){li.get(t.type.__hmrId).instances.delete(t)}function Km(t,e){return li.has(t)?!1:(li.set(t,{initialDef:qs(e),instances:new Set}),!0)}function qs(t){return Cg(t)?t.__vccOpts:t}function Rb(t,e){const n=li.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,qs(r.type).render=e),r.renderCache=[],fr=!0,r.update(),fr=!1}))}function Ib(t,e){const n=li.get(t);if(!n)return;e=qs(e),Td(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=qs(i.type);_i.has(s)||(s!==n.initialDef&&Td(s,e),_i.add(s)),i.appContext.optionsCache.delete(i.type),i.ceReload?(_i.add(s),i.ceReload(e.styles),_i.delete(s)):i.parent?(pf(i.parent.update),i.parent.type.__asyncLoader&&i.parent.ceReload&&i.parent.ceReload(e.styles)):i.appContext.reload?i.appContext.reload():typeof window!="undefined"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Hm(()=>{for(const i of r)_i.delete(qs(i.type))})}function Td(t,e){ze(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function Yl(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let $r,Bs=[],Ju=!1;function Fo(t,...e){$r?$r.emit(t,...e):Ju||Bs.push({event:t,args:e})}function Um(t,e){var n,r;$r=t,$r?($r.enabled=!0,Bs.forEach(({event:i,args:s})=>$r.emit(i,...s)),Bs=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Um(s,e)}),setTimeout(()=>{$r||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ju=!0,Bs=[])},3e3)):(Ju=!0,Bs=[])}function Bb(t,e){Fo("app:init",t,e,{Fragment:Ot,Text:rs,Comment:dt,Static:Ys})}function Lb(t){Fo("app:unmount",t)}const $b=gf("component:added"),qm=gf("component:updated"),Vb=gf("component:removed");function gf(t){return e=>{Fo(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const jb=Wm("perf:start"),Hb=Wm("perf:end");function Wm(t){return(e,n,r)=>{Fo(t,e.appContext.app,e.uid,e,n,r)}}function zb(t,e,n){Fo("component:emit",t.appContext.app,t,e,n)}function Kb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Fe;{const{emitsOptions:u,propsOptions:[f]}=t;if(u)if(!(e in u))(!f||!(Nr(e)in f))&&I(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Nr(e)}" prop.`);else{const d=u[e];ye(d)&&(d(...n)||I(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[u]||Fe;d&&(i=n.map(h=>h.trim())),f&&(i=n.map(nf))}zb(t,e,i);{const u=e.toLowerCase();u!==e&&r[Nr(u)]&&I(`Event "${u}" is emitted in component ${Tl(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${gr(e)}" instead of "${e}".`)}let a,l=r[a=Nr(e)]||r[a=Nr(ts(e))];!l&&s&&(l=r[a=Nr(gr(e))]),l&&Jt(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Jt(c,t,6,i)}}function Jm(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ye(t)){const l=c=>{const u=Jm(c,e,!0);u&&(a=!0,ze(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(r.set(t,null),null):(se(s)?s.forEach(l=>o[l]=null):ze(o,s),r.set(t,o),o)}function Al(t,e){return!t||!bs(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ee(t,e[0].toLowerCase()+e.slice(1))||Ee(t,gr(e))||Ee(t,e))}let Ft=null,Gm=null;function Ca(t){const e=Ft;return Ft=t,Gm=t&&t.type.__scopeId||null,e}function Ub(t,e=Ft,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Hd(-1);const s=Ca(e),o=t(...i);return Ca(s),r._d&&Hd(1),qm(e),o};return r._n=!0,r._c=!0,r._d=!0,r}let Gu=!1;function Da(){Gu=!0}function Ql(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:p,inheritAttrs:m}=t;let v,y;const k=Ca(t);Gu=!1;try{if(n.shapeFlag&4){const O=i||r;v=qt(u.call(O,O,f,s,h,d,p)),y=l}else{const O=e;l===s&&Da(),v=qt(O.length>1?O(s,{get attrs(){return Da(),l},slots:a,emit:c}):O(s,null)),y=e.props?l:Wb(l)}}catch(O){Dl(O,t,1),v=Pt(dt)}let S=v,b;if(v.patchFlag>0&&v.patchFlag&2048&&([S,b]=qb(v)),y&&m!==!1){const O=Object.keys(y),{shapeFlag:x}=S;if(O.length){if(x&7)o&&O.some(ya)&&(y=Jb(y,o)),S=kn(S,y);else if(!Gu&&S.type!==dt){const P=Object.keys(l),D=[],L=[];for(let j=0,z=P.length;j<z;j++){const _=P[j];bs(_)?ya(_)||D.push(_[2].toLowerCase()+_.slice(3)):L.push(_)}L.length&&I(`Extraneous non-props attributes (${L.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),D.length&&I(`Extraneous non-emits event listeners (${D.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(Md(S)||I("Runtime directive used on component with non-element root node. The directives will not function as intended."),S=kn(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(Md(S)||I("Component inside <Transition> renders non-element root node that cannot be animated."),S.transition=n.transition),b?b(S):v=S,Ca(k),v}const qb=t=>{const e=t.children,n=t.dynamicChildren,r=Ym(e);if(!r)return[t,void 0];const i=e.indexOf(r),s=n?n.indexOf(r):-1,o=a=>{e[i]=a,n&&(s>-1?n[s]=a:a.patchFlag>0&&(t.dynamicChildren=[...n,a]))};return[qt(r),o]};function Ym(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(go(r)){if(r.type!==dt||r.children==="v-if"){if(e)return;e=r}}else return}return e}const Wb=t=>{let e;for(const n in t)(n==="class"||n==="style"||bs(n))&&((e||(e={}))[n]=t[n]);return e},Jb=(t,e)=>{const n={};for(const r in t)(!ya(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},Md=t=>t.shapeFlag&7||t.type===dt;function Gb(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if((i||a)&&fr||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?_d(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!Al(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?_d(r,o,c):!0:!!o;return!1}function _d(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Al(n,s))return!0}return!1}function Yb({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Qb=t=>t.__isSuspense;function Qm(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):Hm(t)}function la(t,e){if(!Qe)I("provide() can only be used inside setup().");else{let n=Qe.provides;const r=Qe.parent&&Qe.parent.provides;r===n&&(n=Qe.provides=Object.create(r)),n[t]=e}}function nn(t,e,n=!1){const r=Qe||Ft;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ye(e)?e.call(r.proxy):e;I(`injection "${String(t)}" not found.`)}else I("inject() can only be used inside setup() or functional components.")}function yf(t,e){return vf(t,null,e)}const Fd={};function Ws(t,e,n){return ye(e)||I("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),vf(t,e,n)}function vf(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Fe){e||(n!==void 0&&I('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&I('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=k=>{I("Invalid watch source: ",k,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=Qe;let c,u=!1,f=!1;if(Xe(t)?(c=()=>t.value,u=Ku(t)):Qr(t)?(c=()=>t,r=!0):se(t)?(f=!0,u=t.some(k=>Qr(k)||Ku(k)),c=()=>t.map(k=>{if(Xe(k))return k.value;if(Qr(k))return qr(k);if(ye(k))return Vn(k,l,2);a(k)})):ye(t)?e?c=()=>Vn(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Jt(t,l,3,[h])}:(c=kt,a(t)),e&&r){const k=c;c=()=>qr(k())}let d,h=k=>{d=y.onStop=()=>{Vn(k,l,4)}};if(yo)return h=kt,e?n&&Jt(e,l,3,[c(),f?[]:void 0,h]):c(),kt;let p=f?[]:Fd;const m=()=>{if(!!y.active)if(e){const k=y.run();(r||u||(f?k.some((S,b)=>ho(S,p[b])):ho(k,p)))&&(d&&d(),Jt(e,l,3,[k,p===Fd?void 0:p,h]),p=k)}else y.run()};m.allowRecurse=!!e;let v;i==="sync"?v=m:i==="post"?v=()=>bt(m,l&&l.suspense):v=()=>Fb(m);const y=new sf(c,v);return y.onTrack=s,y.onTrigger=o,e?n?m():p=y.run():i==="post"?bt(y.run.bind(y),l&&l.suspense):y.run(),()=>{y.stop(),l&&l.scope&&Qc(l.scope.effects,y)}}function Xb(t,e,n){const r=this.proxy,i=Ke(t)?t.includes(".")?Xm(r,t):()=>r[t]:t.bind(r,r);let s;ye(e)?s=e:(s=e.handler,n=e);const o=Qe;is(this);const a=vf(i,s.bind(r),n);return o?is(o):Zr(),a}function Xm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function qr(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Xe(t))qr(t.value,e);else if(se(t))for(let n=0;n<t.length;n++)qr(t[n],e);else if(Xc(t)||Wi(t))t.forEach(n=>{qr(n,e)});else if($v(t))for(const n in t)qr(t[n],e);return t}function Zb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return No(()=>{t.isMounted=!0}),vi(()=>{t.isUnmounting=!0}),t}const jt=[Function,Array],e1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},setup(t,{slots:e}){const n=wl(),r=Zb();let i;return()=>{const s=e.default&&tg(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){let m=!1;for(const v of s)if(v.type!==dt){if(m){I("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}o=v,m=!0}}const a=Ce(t),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&I(`invalid <transition> mode: ${l}`),r.isLeaving)return Xl(o);const c=Pd(o);if(!c)return Xl(o);const u=Yu(c,a,r,n);Qu(c,u);const f=n.subTree,d=f&&Pd(f);let h=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,h=!0)}if(d&&d.type!==dt&&(!Vr(c,d)||h)){const m=Yu(d,a,r,n);if(Qu(d,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},Xl(o);l==="in-out"&&c.type!==dt&&(m.delayLeave=(v,y,k)=>{const S=eg(r,d);S[String(d.key)]=d,v._leaveCb=()=>{y(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=k})}return o}}},Zm=e1;function eg(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Yu(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:k}=e,S=String(t.key),b=eg(n,t),O=(D,L)=>{D&&Jt(D,r,9,L)},x=(D,L)=>{const j=L[1];O(D,L),se(D)?D.every(z=>z.length<=1)&&j():D.length<=1&&j()},P={mode:s,persisted:o,beforeEnter(D){let L=a;if(!n.isMounted)if(i)L=m||a;else return;D._leaveCb&&D._leaveCb(!0);const j=b[S];j&&Vr(t,j)&&j.el._leaveCb&&j.el._leaveCb(),O(L,[D])},enter(D){let L=l,j=c,z=u;if(!n.isMounted)if(i)L=v||l,j=y||c,z=k||u;else return;let _=!1;const G=D._enterCb=U=>{_||(_=!0,U?O(z,[D]):O(j,[D]),P.delayedLeave&&P.delayedLeave(),D._enterCb=void 0)};L?x(L,[D,G]):G()},leave(D,L){const j=String(t.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return L();O(f,[D]);let z=!1;const _=D._leaveCb=G=>{z||(z=!0,L(),G?O(p,[D]):O(h,[D]),D._leaveCb=void 0,b[j]===t&&delete b[j])};b[j]=t,d?x(d,[D,_]):_()},clone(D){return Yu(D,e,n,r)}};return P}function Xl(t){if(Po(t))return t=kn(t),t.children=null,t}function Pd(t){return Po(t)?t.children?t.children[0]:void 0:t}function Qu(t,e){t.shapeFlag&6&&t.component?Qu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function tg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ot?(o.patchFlag&128&&i++,r=r.concat(tg(o.children,e,a))):(e||o.type!==dt)&&r.push(a!=null?kn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function yi(t){return ye(t)?{setup:t,name:t.name}:t}const Js=t=>!!t.type.__asyncLoader,Po=t=>t.type.__isKeepAlive;function t1(t,e){ng(t,"a",e)}function n1(t,e){ng(t,"da",e)}function ng(t,e,n=Qe){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(xl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Po(i.parent.vnode)&&r1(r,e,n,i),i=i.parent}}function r1(t,e,n,r){const i=xl(e,t,r,!0);rg(()=>{Qc(r[e],i)},n)}function xl(t,e,n=Qe,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;mi(),is(n);const a=Jt(e,n,t,o);return Zr(),gi(),a});return r?i.unshift(s):i.push(s),s}else{const i=Nr(ff[t].replace(/ hook$/,""));I(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Kn=t=>(e,n=Qe)=>(!yo||t==="sp")&&xl(t,e,n),i1=Kn("bm"),No=Kn("m"),s1=Kn("bu"),o1=Kn("u"),vi=Kn("bum"),rg=Kn("um"),a1=Kn("sp"),l1=Kn("rtg"),u1=Kn("rtc");function c1(t,e=Qe){xl("ec",t,e)}function ig(t){Vv(t)&&I("Do not use built-in directive ids as custom directive id: "+t)}function f_(t,e){const n=Ft;if(n===null)return I("withDirectives can only be used inside render functions."),t;const r=Ol(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=Fe]=e[s];ye(o)&&(o={mounted:o,updated:o}),o.deep&&qr(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function fn(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(mi(),Jt(l,n,8,[t.el,a,t,e]),gi())}}const f1=Symbol(),Xu=t=>t?vg(t)?Ol(t)||t.proxy:Xu(t.parent):null,ns=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>Ii(t.props),$attrs:t=>Ii(t.attrs),$slots:t=>Ii(t.slots),$refs:t=>Ii(t.refs),$parent:t=>Xu(t.parent),$root:t=>Xu(t.root),$emit:t=>t.emit,$options:t=>ag(t),$forceUpdate:t=>t.f||(t.f=()=>pf(t.update)),$nextTick:t=>t.n||(t.n=hf.bind(t.proxy)),$watch:t=>Xb.bind(t)}),bf=t=>t==="_"||t==="$",sg={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;if(e==="__isVue")return!0;if(r!==Fe&&r.__isScriptSetup&&Ee(r,e))return r[e];let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(r!==Fe&&Ee(r,e))return o[e]=1,r[e];if(i!==Fe&&Ee(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Ee(c,e))return o[e]=3,s[e];if(n!==Fe&&Ee(n,e))return o[e]=4,n[e];Zu&&(o[e]=0)}}const u=ns[e];let f,d;if(u)return e==="$attrs"&&(Bt(t,"get",e),Da()),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Fe&&Ee(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Ee(d,e))return d[e];Ft&&(!Ke(e)||e.indexOf("__v")!==0)&&(i!==Fe&&bf(e[0])&&Ee(i,e)?I(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===Ft&&I(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return i!==Fe&&Ee(i,e)?(i[e]=n,!0):r!==Fe&&Ee(r,e)?(r[e]=n,!0):Ee(t.props,e)?(I(`Attempting to mutate prop "${e}". Props are readonly.`,t),!1):e[0]==="$"&&e.slice(1)in t?(I(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`,t),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Fe&&Ee(t,o)||e!==Fe&&Ee(e,o)||(a=s[0])&&Ee(a,o)||Ee(r,o)||Ee(ns,o)||Ee(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ee(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};sg.ownKeys=t=>(I("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function d1(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(ns).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>ns[n](t),set:kt})}),e}function h1(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:kt})})}function p1(t){const{ctx:e,setupState:n}=t;Object.keys(Ce(n)).forEach(r=>{if(!n.__isScriptSetup){if(bf(r[0])){I(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:kt})}})}function m1(){const t=Object.create(null);return(e,n)=>{t[n]?I(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let Zu=!0;function g1(t){const e=ag(t),n=t.proxy,r=t.ctx;Zu=!1,e.beforeCreate&&Nd(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:k,destroyed:S,unmounted:b,render:O,renderTracked:x,renderTriggered:P,errorCaptured:D,serverPrefetch:L,expose:j,inheritAttrs:z,components:_,directives:G,filters:U}=e,ve=m1();{const[re]=t.propsOptions;if(re)for(const ie in re)ve("Props",ie)}if(c&&y1(c,r,ve,t.appContext.config.unwrapInjectedRef),o)for(const re in o){const ie=o[re];ye(ie)?(Object.defineProperty(r,re,{value:ie.bind(n),configurable:!0,enumerable:!0,writable:!0}),ve("Methods",re)):I(`Method "${re}" has type "${typeof ie}" in the component definition. Did you reference the function correctly?`)}if(i){ye(i)||I("The data option must be a function. Plain object usage is no longer supported.");const re=i.call(n,n);if(Zc(re)&&I("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Ve(re))I("data() should return an object.");else{t.data=ks(re);for(const ie in re)ve("Data",ie),bf(ie[0])||Object.defineProperty(r,ie,{configurable:!0,enumerable:!0,get:()=>re[ie],set:kt})}}if(Zu=!0,s)for(const re in s){const ie=s[re],be=ye(ie)?ie.bind(n,n):ye(ie.get)?ie.get.bind(n,n):kt;be===kt&&I(`Computed property "${re}" has no getter.`);const Se=!ye(ie)&&ye(ie.set)?ie.set.bind(n):()=>{I(`Write operation failed: computed property "${re}" is readonly.`)},je=hn({get:be,set:Se});Object.defineProperty(r,re,{enumerable:!0,configurable:!0,get:()=>je.value,set:We=>je.value=We}),ve("Computed",re)}if(a)for(const re in a)og(a[re],r,n,re);if(l){const re=ye(l)?l.call(n):l;Reflect.ownKeys(re).forEach(ie=>{la(ie,re[ie])})}u&&Nd(u,t,"c");function te(re,ie){se(ie)?ie.forEach(be=>re(be.bind(n))):ie&&re(ie.bind(n))}if(te(i1,f),te(No,d),te(s1,h),te(o1,p),te(t1,m),te(n1,v),te(c1,D),te(u1,x),te(l1,P),te(vi,k),te(rg,b),te(a1,L),se(j))if(j.length){const re=t.exposed||(t.exposed={});j.forEach(ie=>{Object.defineProperty(re,ie,{get:()=>n[ie],set:be=>n[ie]=be})})}else t.exposed||(t.exposed={});O&&t.render===kt&&(t.render=O),z!=null&&(t.inheritAttrs=z),_&&(t.components=_),G&&(t.directives=G)}function y1(t,e,n=kt,r=!1){se(t)&&(t=ec(t));for(const i in t){const s=t[i];let o;Ve(s)?"default"in s?o=nn(s.from||i,s.default,!0):o=nn(s.from||i):o=nn(s),Xe(o)?r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):(I(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),e[i]=o):e[i]=o,n("Inject",i)}}function Nd(t,e,n){Jt(se(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function og(t,e,n,r){const i=r.includes(".")?Xm(n,r):()=>n[r];if(Ke(t)){const s=e[t];ye(s)?Ws(i,s):I(`Invalid watch handler specified by key "${t}"`,s)}else if(ye(t))Ws(i,t.bind(n));else if(Ve(t))if(se(t))t.forEach(s=>og(s,e,n,r));else{const s=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(s)?Ws(i,s,t):I(`Invalid watch handler specified by key "${t.handler}"`,s)}else I(`Invalid watch option: "${r}"`,t)}function ag(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Ea(l,c,o,!0)),Ea(l,e,o)),s.set(e,l),l}function Ea(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ea(t,s,n,!0),i&&i.forEach(o=>Ea(t,o,n,!0));for(const o in e)if(r&&o==="expose")I('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=v1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const v1={data:Rd,props:Br,emits:Br,methods:Br,computed:Br,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:Br,directives:Br,watch:k1,provide:Rd,inject:b1};function Rd(t,e){return e?t?function(){return ze(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function b1(t,e){return Br(ec(t),ec(e))}function ec(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ht(t,e){return t?[...new Set([].concat(t,e))]:e}function Br(t,e){return t?ze(ze(Object.create(null),t),e):e}function k1(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const r in e)n[r]=ht(t[r],e[r]);return n}function C1(t,e,n,r=!1){const i={},s={};va(s,Sl,1),t.propsDefaults=Object.create(null),lg(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);cg(e||{},i,t),n?t.props=r?i:yb(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function D1(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ce(i),[l]=t.propsOptions;let c=!1;if(!(t.type.__hmrId||t.parent&&t.parent.type.__hmrId)&&(r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Al(t.emitsOptions,d))continue;const h=e[d];if(l)if(Ee(s,d))h!==s[d]&&(s[d]=h,c=!0);else{const p=ts(d);i[p]=tc(l,a,p,h,t,!1)}else h!==s[d]&&(s[d]=h,c=!0)}}}else{lg(t,e,i,s)&&(c=!0);let u;for(const f in a)(!e||!Ee(e,f)&&((u=gr(f))===f||!Ee(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=tc(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Ee(e,f)&&!0)&&(delete s[f],c=!0)}c&&Hn(t,"set","$attrs"),cg(e||{},i,t)}function lg(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(zs(l))continue;const c=e[l];let u;i&&Ee(i,u=ts(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Al(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Ce(n),c=a||Fe;for(let u=0;u<s.length;u++){const f=s[u];n[f]=tc(i,l,f,c[f],t,!Ee(c,f))}}return o}function tc(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Ee(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&ye(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(is(i),r=c[n]=l.call(null,e),Zr())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===gr(n))&&(r=!0))}return r}function ug(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!ye(t)){const u=f=>{l=!0;const[d,h]=ug(f,e,!0);ze(o,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return r.set(t,Hs),Hs;if(se(s))for(let u=0;u<s.length;u++){Ke(s[u])||I("props must be strings when using array syntax.",s[u]);const f=ts(s[u]);Id(f)&&(o[f]=Fe)}else if(s){Ve(s)||I("invalid props options",s);for(const u in s){const f=ts(u);if(Id(f)){const d=s[u],h=o[f]=se(d)||ye(d)?{type:d}:d;if(h){const p=Ld(Boolean,h.type),m=Ld(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Ee(h,"default"))&&a.push(f)}}}}const c=[o,a];return r.set(t,c),c}function Id(t){return t[0]!=="$"?!0:(I(`Invalid prop name: "${t}" is a reserved property.`),!1)}function nc(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Bd(t,e){return nc(t)===nc(e)}function Ld(t,e){return se(e)?e.findIndex(n=>Bd(n,t)):ye(e)&&Bd(e,t)?0:-1}function cg(t,e,n){const r=Ce(e),i=n.propsOptions[0];for(const s in i){let o=i[s];o!=null&&E1(s,r[s],o,!Ee(t,s)&&!Ee(t,gr(s)))}}function E1(t,e,n,r){const{type:i,required:s,validator:o}=n;if(s&&r){I('Missing required prop: "'+t+'"');return}if(!(e==null&&!n.required)){if(i!=null&&i!==!0){let a=!1;const l=se(i)?i:[i],c=[];for(let u=0;u<l.length&&!a;u++){const{valid:f,expectedType:d}=x1(e,l[u]);c.push(d||""),a=f}if(!a){I(S1(t,e,c));return}}o&&!o(e)&&I('Invalid prop: custom validator check failed for prop "'+t+'".')}}const A1=zn("String,Number,Boolean,Function,Symbol,BigInt");function x1(t,e){let n;const r=nc(e);if(A1(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=Ve(t):r==="Array"?n=se(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function S1(t,e,n){let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(yl).join(" | ")}`;const i=n[0],s=ef(e),o=$d(e,i),a=$d(e,s);return n.length===1&&Vd(i)&&!w1(i,s)&&(r+=` with value ${o}`),r+=`, got ${s} `,Vd(s)&&(r+=`with value ${a}.`),r}function $d(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function Vd(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function w1(...t){return t.some(e=>e.toLowerCase()==="boolean")}const fg=t=>t[0]==="_"||t==="$stable",kf=t=>se(t)?t.map(qt):[qt(t)],O1=(t,e,n)=>{if(e._n)return e;const r=Ub((...i)=>(Qe&&I(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),kf(e(...i))),n);return r._c=!1,r},dg=(t,e,n)=>{const r=t._ctx;for(const i in t){if(fg(i))continue;const s=t[i];if(ye(s))e[i]=O1(i,s,r);else if(s!=null){I(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=kf(s);e[i]=()=>o}}},hg=(t,e)=>{Po(t.vnode)||I("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=kf(e);t.slots.default=()=>n},T1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),va(e,"_",n)):dg(e,t.slots={})}else t.slots={},e&&hg(t,e);va(t.slots,Sl,1)},M1=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Fe;if(r.shapeFlag&32){const a=e._;a?fr?ze(i,e):n&&a===1?s=!1:(ze(i,e),!n&&a===1&&delete i._):(s=!e.$stable,dg(e,i)),o=e}else e&&(hg(t,e),o={default:1});if(s)for(const a in i)!fg(a)&&!(a in o)&&delete i[a]};function pg(){return{app:null,config:{isNativeTag:bm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _1=0;function F1(t,e){return function(r,i=null){ye(r)||(r=Object.assign({},r)),i!=null&&!Ve(i)&&(I("root props passed to app.mount() must be an object."),i=null);const s=pg(),o=new Set;let a=!1;const l=s.app={_uid:_1++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Kd,get config(){return s.config},set config(c){I("app.config cannot be replaced. Modify individual options instead.")},use(c,...u){return o.has(c)?I("Plugin has already been applied to target app."):c&&ye(c.install)?(o.add(c),c.install(l,...u)):ye(c)?(o.add(c),c(l,...u)):I('A plugin must either be a function or an object with an "install" function.'),l},mixin(c){return s.mixins.includes(c)?I("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):s.mixins.push(c),l},component(c,u){return ic(c,s.config),u?(s.components[c]&&I(`Component "${c}" has already been registered in target app.`),s.components[c]=u,l):s.components[c]},directive(c,u){return ig(c),u?(s.directives[c]&&I(`Directive "${c}" has already been registered in target app.`),s.directives[c]=u,l):s.directives[c]},mount(c,u,f){if(a)I("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&I("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=Pt(r,i);return d.appContext=s,s.reload=()=>{t(kn(d),c,f)},u&&e?e(d,c):t(d,c,f),a=!0,l._container=c,c.__vue_app__=l,l._instance=d.component,Bb(l,Kd),Ol(d.component)||d.component.proxy}},unmount(){a?(t(null,l._container),l._instance=null,Lb(l),delete l._container.__vue_app__):I("Cannot unmount an app that is not mounted.")},provide(c,u){return c in s.provides&&I(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),s.provides[c]=u,l}};return l}}function Aa(t,e,n,r,i=!1){if(se(t)){t.forEach((d,h)=>Aa(d,e&&(se(e)?e[h]:e),n,r,i));return}if(Js(r)&&!i)return;const s=r.shapeFlag&4?Ol(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t;if(!a){I("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=e&&e.r,u=a.refs===Fe?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Ke(c)?(u[c]=null,Ee(f,c)&&(f[c]=null)):Xe(c)&&(c.value=null)),ye(l))Vn(l,a,12,[o,u]);else{const d=Ke(l),h=Xe(l);if(d||h){const p=()=>{if(t.f){const m=d?u[l]:l.value;i?se(m)&&Qc(m,s):se(m)?m.includes(s)||m.push(s):d?(u[l]=[s],Ee(f,l)&&(f[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,Ee(f,l)&&(f[l]=o)):h?(l.value=o,t.k&&(u[t.k]=o)):I("Invalid template ref type:",l,`(${typeof l})`)};o?(p.id=-1,bt(p,n)):p()}else I("Invalid template ref type:",l,`(${typeof l})`)}}let Jn=!1;const Yo=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",As=t=>t.nodeType===8;function P1(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,u=(y,k)=>{if(!k.hasChildNodes()){I("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,y,k),ka(),k._vnode=y;return}Jn=!1,f(k.firstChild,y,null,null,null),ka(),k._vnode=y,Jn&&console.error("Hydration completed but contains mismatches.")},f=(y,k,S,b,O,x=!1)=>{const P=As(y)&&y.data==="[",D=()=>m(y,k,S,b,O,P),{type:L,ref:j,shapeFlag:z,patchFlag:_}=k,G=y.nodeType;k.el=y,_===-2&&(x=!1,k.dynamicChildren=null);let U=null;switch(L){case rs:G!==3?k.children===""?(l(k.el=i(""),o(y),y),U=y):U=D():(y.data!==k.children&&(Jn=!0,I(`Hydration text mismatch:
- Client: ${JSON.stringify(y.data)}
- Server: ${JSON.stringify(k.children)}`),y.data=k.children),U=s(y));break;case dt:G!==8||P?U=D():U=s(y);break;case Ys:if(G!==1&&G!==3)U=D();else{U=y;const ve=!k.children.length;for(let te=0;te<k.staticCount;te++)ve&&(k.children+=U.nodeType===1?U.outerHTML:U.data),te===k.staticCount-1&&(k.anchor=U),U=s(U);return U}break;case Ot:P?U=p(y,k,S,b,O,x):U=D();break;default:if(z&1)G!==1||k.type.toLowerCase()!==y.tagName.toLowerCase()?U=D():U=d(y,k,S,b,O,x);else if(z&6){k.slotScopeIds=O;const ve=o(y);if(e(k,ve,null,S,b,Yo(ve),x),U=P?v(y):s(y),U&&As(U)&&U.data==="teleport end"&&(U=s(U)),Js(k)){let te;P?(te=Pt(Ot),te.anchor=U?U.previousSibling:ve.lastChild):te=y.nodeType===3?yg(""):Pt("div"),te.el=y,k.component.subTree=te}}else z&64?G!==8?U=D():U=k.type.hydrate(y,k,S,b,O,x,t,h):z&128?U=k.type.hydrate(y,k,S,b,Yo(o(y)),O,x,t,f):I("Invalid HostVNode type:",L,`(${typeof L})`)}return j!=null&&Aa(j,null,b,k),U},d=(y,k,S,b,O,x)=>{x=x||!!k.dynamicChildren;const{type:P,props:D,patchFlag:L,shapeFlag:j,dirs:z}=k,_=P==="input"&&z||P==="option";{if(z&&fn(k,null,S,"created"),D)if(_||!x||L&48)for(const U in D)(_&&U.endsWith("value")||bs(U)&&!zs(U))&&r(y,U,null,D[U],!1,void 0,S);else D.onClick&&r(y,"onClick",null,D.onClick,!1,void 0,S);let G;if((G=D&&D.onVnodeBeforeMount)&&Ht(G,S,k),z&&fn(k,null,S,"beforeMount"),((G=D&&D.onVnodeMounted)||z)&&Qm(()=>{G&&Ht(G,S,k),z&&fn(k,null,S,"mounted")},b),j&16&&!(D&&(D.innerHTML||D.textContent))){let U=h(y.firstChild,k,y,S,b,O,x),ve=!1;for(;U;){Jn=!0,ve||(I(`Hydration children mismatch in <${k.type}>: server rendered element contains more child nodes than client vdom.`),ve=!0);const te=U;U=U.nextSibling,a(te)}}else j&8&&y.textContent!==k.children&&(Jn=!0,I(`Hydration text content mismatch in <${k.type}>:
- Client: ${y.textContent}
- Server: ${k.children}`),y.textContent=k.children)}return y.nextSibling},h=(y,k,S,b,O,x,P)=>{P=P||!!k.dynamicChildren;const D=k.children,L=D.length;let j=!1;for(let z=0;z<L;z++){const _=P?D[z]:D[z]=qt(D[z]);if(y)y=f(y,_,b,O,x,P);else{if(_.type===rs&&!_.children)continue;Jn=!0,j||(I(`Hydration children mismatch in <${S.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),j=!0),n(null,_,S,null,b,O,Yo(S),x)}}return y},p=(y,k,S,b,O,x)=>{const{slotScopeIds:P}=k;P&&(O=O?O.concat(P):P);const D=o(y),L=h(s(y),k,D,S,b,O,x);return L&&As(L)&&L.data==="]"?s(k.anchor=L):(Jn=!0,l(k.anchor=c("]"),D,L),L)},m=(y,k,S,b,O,x)=>{if(Jn=!0,I(`Hydration node mismatch:
- Client vnode:`,k.type,`
- Server rendered DOM:`,y,y.nodeType===3?"(text)":As(y)&&y.data==="["?"(start of fragment)":""),k.el=null,x){const L=v(y);for(;;){const j=s(y);if(j&&j!==L)a(j);else break}}const P=s(y),D=o(y);return a(y),n(null,k,D,P,S,b,Yo(D),O),P},v=y=>{let k=0;for(;y;)if(y=s(y),y&&As(y)&&(y.data==="["&&k++,y.data==="]")){if(k===0)return s(y);k--}return y};return[u,f]}let xs,ar;function Tn(t,e){t.appContext.config.performance&&xa()&&ar.mark(`vue-${e}-${t.uid}`),jb(t,e,xa()?ar.now():Date.now())}function Mn(t,e){if(t.appContext.config.performance&&xa()){const n=`vue-${e}-${t.uid}`,r=n+":end";ar.mark(r),ar.measure(`<${Tl(t,t.type)}> ${e}`,n,r),ar.clearMarks(n),ar.clearMarks(r)}Hb(t,e,xa()?ar.now():Date.now())}function xa(){return xs!==void 0||(typeof window!="undefined"&&window.performance?(xs=!0,ar=window.performance):xs=!1),xs}function N1(){const t=[];if(t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const bt=Qm;function R1(t){return I1(t,P1)}function I1(t,e){N1();const n=km();n.__VUE__=!0,Um(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=kt,cloneNode:p,insertStaticContent:m}=t,v=(g,C,E,M=null,T=null,B=null,V=!1,N=null,$=fr?!1:!!C.dynamicChildren)=>{if(g===C)return;g&&!Vr(g,C)&&(M=ke(g),Je(g,T,B,!0),g=null),C.patchFlag===-2&&($=!1,C.dynamicChildren=null);const{type:F,ref:Z,shapeFlag:Q}=C;switch(F){case rs:y(g,C,E,M);break;case dt:k(g,C,E,M);break;case Ys:g==null?S(C,E,M,V):b(g,C,E,V);break;case Ot:U(g,C,E,M,T,B,V,N,$);break;default:Q&1?P(g,C,E,M,T,B,V,N,$):Q&6?ve(g,C,E,M,T,B,V,N,$):Q&64||Q&128?F.process(g,C,E,M,T,B,V,N,$,ce):I("Invalid VNode type:",F,`(${typeof F})`)}Z!=null&&T&&Aa(Z,g&&g.ref,B,C||g,!C)},y=(g,C,E,M)=>{if(g==null)r(C.el=a(C.children),E,M);else{const T=C.el=g.el;C.children!==g.children&&c(T,C.children)}},k=(g,C,E,M)=>{g==null?r(C.el=l(C.children||""),E,M):C.el=g.el},S=(g,C,E,M)=>{[g.el,g.anchor]=m(g.children,C,E,M,g.el,g.anchor)},b=(g,C,E,M)=>{if(C.children!==g.children){const T=d(g.anchor);x(g),[C.el,C.anchor]=m(C.children,E,T,M)}else C.el=g.el,C.anchor=g.anchor},O=({el:g,anchor:C},E,M)=>{let T;for(;g&&g!==C;)T=d(g),r(g,E,M),g=T;r(C,E,M)},x=({el:g,anchor:C})=>{let E;for(;g&&g!==C;)E=d(g),i(g),g=E;i(C)},P=(g,C,E,M,T,B,V,N,$)=>{V=V||C.type==="svg",g==null?D(C,E,M,T,B,V,N,$):z(g,C,T,B,V,N,$)},D=(g,C,E,M,T,B,V,N)=>{let $,F;const{type:Z,props:Q,shapeFlag:ne,transition:fe,patchFlag:Ae,dirs:Pe}=g;{if($=g.el=o(g.type,B,Q&&Q.is,Q),ne&8?u($,g.children):ne&16&&j(g.children,$,null,M,T,B&&Z!=="foreignObject",V,N),Pe&&fn(g,null,M,"created"),Q){for(const Le in Q)Le!=="value"&&!zs(Le)&&s($,Le,null,Q[Le],B,g.children,M,T,q);"value"in Q&&s($,"value",null,Q.value),(F=Q.onVnodeBeforeMount)&&Ht(F,M,g)}L($,g,g.scopeId,V,M)}Object.defineProperty($,"__vnode",{value:g,enumerable:!1}),Object.defineProperty($,"__vueParentComponent",{value:M,enumerable:!1}),Pe&&fn(g,null,M,"beforeMount");const Ne=(!T||T&&!T.pendingBranch)&&fe&&!fe.persisted;Ne&&fe.beforeEnter($),r($,C,E),((F=Q&&Q.onVnodeMounted)||Ne||Pe)&&bt(()=>{F&&Ht(F,M,g),Ne&&fe.enter($),Pe&&fn(g,null,M,"mounted")},T)},L=(g,C,E,M,T)=>{if(E&&h(g,E),M)for(let B=0;B<M.length;B++)h(g,M[B]);if(T){let B=T.subTree;if(B.patchFlag>0&&B.patchFlag&2048&&(B=Ym(B.children)||B),C===B){const V=T.vnode;L(g,V,V.scopeId,V.slotScopeIds,T.parent)}}},j=(g,C,E,M,T,B,V,N,$=0)=>{for(let F=$;F<g.length;F++){const Z=g[F]=N?rr(g[F]):qt(g[F]);v(null,Z,C,E,M,T,B,V,N)}},z=(g,C,E,M,T,B,V)=>{const N=C.el=g.el;let{patchFlag:$,dynamicChildren:F,dirs:Z}=C;$|=g.patchFlag&16;const Q=g.props||Fe,ne=C.props||Fe;let fe;E&&Tr(E,!1),(fe=ne.onVnodeBeforeUpdate)&&Ht(fe,E,C,g),Z&&fn(C,g,E,"beforeUpdate"),E&&Tr(E,!0),fr&&($=0,V=!1,F=null);const Ae=T&&C.type!=="foreignObject";if(F?(_(g.dynamicChildren,F,N,E,M,Ae,B),E&&E.type.__hmrId&&Gs(g,C)):V||Se(g,C,N,null,E,M,Ae,B,!1),$>0){if($&16)G(N,C,Q,ne,E,M,T);else if($&2&&Q.class!==ne.class&&s(N,"class",null,ne.class,T),$&4&&s(N,"style",Q.style,ne.style,T),$&8){const Pe=C.dynamicProps;for(let Ne=0;Ne<Pe.length;Ne++){const Le=Pe[Ne],St=Q[Le],qn=ne[Le];(qn!==St||Le==="value")&&s(N,Le,St,qn,T,g.children,E,M,q)}}$&1&&g.children!==C.children&&u(N,C.children)}else!V&&F==null&&G(N,C,Q,ne,E,M,T);((fe=ne.onVnodeUpdated)||Z)&&bt(()=>{fe&&Ht(fe,E,C,g),Z&&fn(C,g,E,"updated")},M)},_=(g,C,E,M,T,B,V)=>{for(let N=0;N<C.length;N++){const $=g[N],F=C[N],Z=$.el&&($.type===Ot||!Vr($,F)||$.shapeFlag&70)?f($.el):E;v($,F,Z,null,M,T,B,V,!0)}},G=(g,C,E,M,T,B,V)=>{if(E!==M){for(const N in M){if(zs(N))continue;const $=M[N],F=E[N];$!==F&&N!=="value"&&s(g,N,F,$,V,C.children,T,B,q)}if(E!==Fe)for(const N in E)!zs(N)&&!(N in M)&&s(g,N,E[N],null,V,C.children,T,B,q);"value"in M&&s(g,"value",E.value,M.value)}},U=(g,C,E,M,T,B,V,N,$)=>{const F=C.el=g?g.el:a(""),Z=C.anchor=g?g.anchor:a("");let{patchFlag:Q,dynamicChildren:ne,slotScopeIds:fe}=C;(fr||Q&2048)&&(Q=0,$=!1,ne=null),fe&&(N=N?N.concat(fe):fe),g==null?(r(F,E,M),r(Z,E,M),j(C.children,E,Z,T,B,V,N,$)):Q>0&&Q&64&&ne&&g.dynamicChildren?(_(g.dynamicChildren,ne,E,T,B,V,N),T&&T.type.__hmrId?Gs(g,C):(C.key!=null||T&&C===T.subTree)&&Gs(g,C,!0)):Se(g,C,E,Z,T,B,V,N,$)},ve=(g,C,E,M,T,B,V,N,$)=>{C.slotScopeIds=N,g==null?C.shapeFlag&512?T.ctx.activate(C,E,M,V,$):te(C,E,M,T,B,V,$):re(g,C,$)},te=(g,C,E,M,T,B,V)=>{const N=g.component=G1(g,M,T);if(N.type.__hmrId&&Pb(N),oa(g),Tn(N,"mount"),Po(g)&&(N.ctx.renderer=ce),Tn(N,"init"),Q1(N),Mn(N,"init"),N.asyncDep){if(T&&T.registerDep(N,ie),!g.el){const $=N.subTree=Pt(dt);k(null,$,C,E)}return}ie(N,g,C,E,T,B,V),aa(),Mn(N,"mount")},re=(g,C,E)=>{const M=C.component=g.component;if(Gb(g,C,E))if(M.asyncDep&&!M.asyncResolved){oa(C),be(M,C,E),aa();return}else M.next=C,_b(M.update),M.update();else C.el=g.el,M.vnode=C},ie=(g,C,E,M,T,B,V)=>{const N=()=>{if(g.isMounted){let{next:Z,bu:Q,u:ne,parent:fe,vnode:Ae}=g,Pe=Z,Ne;oa(Z||g.vnode),Tr(g,!1),Z?(Z.el=Ae.el,be(g,Z,V)):Z=Ae,Q&&Ti(Q),(Ne=Z.props&&Z.props.onVnodeBeforeUpdate)&&Ht(Ne,fe,Z,Ae),Tr(g,!0),Tn(g,"render");const Le=Ql(g);Mn(g,"render");const St=g.subTree;g.subTree=Le,Tn(g,"patch"),v(St,Le,f(St.el),ke(St),g,T,B),Mn(g,"patch"),Z.el=Le.el,Pe===null&&Yb(g,Le.el),ne&&bt(ne,T),(Ne=Z.props&&Z.props.onVnodeUpdated)&&bt(()=>Ht(Ne,fe,Z,Ae),T),qm(g),aa()}else{let Z;const{el:Q,props:ne}=C,{bm:fe,m:Ae,parent:Pe}=g,Ne=Js(C);if(Tr(g,!1),fe&&Ti(fe),!Ne&&(Z=ne&&ne.onVnodeBeforeMount)&&Ht(Z,Pe,C),Tr(g,!0),Q&&Te){const Le=()=>{Tn(g,"render"),g.subTree=Ql(g),Mn(g,"render"),Tn(g,"hydrate"),Te(Q,g.subTree,g,T,null),Mn(g,"hydrate")};Ne?C.type.__asyncLoader().then(()=>!g.isUnmounted&&Le()):Le()}else{Tn(g,"render");const Le=g.subTree=Ql(g);Mn(g,"render"),Tn(g,"patch"),v(null,Le,E,M,g,T,B),Mn(g,"patch"),C.el=Le.el}if(Ae&&bt(Ae,T),!Ne&&(Z=ne&&ne.onVnodeMounted)){const Le=C;bt(()=>Ht(Z,Pe,Le),T)}(C.shapeFlag&256||Pe&&Js(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&g.a&&bt(g.a,T),g.isMounted=!0,$b(g),C=E=M=null}},$=g.effect=new sf(N,()=>pf(F),g.scope),F=g.update=()=>$.run();F.id=g.uid,Tr(g,!0),$.onTrack=g.rtc?Z=>Ti(g.rtc,Z):void 0,$.onTrigger=g.rtg?Z=>Ti(g.rtg,Z):void 0,F.ownerInstance=g,F()},be=(g,C,E)=>{C.component=g;const M=g.vnode.props;g.vnode=C,g.next=null,D1(g,C.props,M,E),M1(g,C.children,E),mi(),El(void 0,g.update),gi()},Se=(g,C,E,M,T,B,V,N,$=!1)=>{const F=g&&g.children,Z=g?g.shapeFlag:0,Q=C.children,{patchFlag:ne,shapeFlag:fe}=C;if(ne>0){if(ne&128){We(F,Q,E,M,T,B,V,N,$);return}else if(ne&256){je(F,Q,E,M,T,B,V,N,$);return}}fe&8?(Z&16&&q(F,T,B),Q!==F&&u(E,Q)):Z&16?fe&16?We(F,Q,E,M,T,B,V,N,$):q(F,T,B,!0):(Z&8&&u(E,""),fe&16&&j(Q,E,M,T,B,V,N,$))},je=(g,C,E,M,T,B,V,N,$)=>{g=g||Hs,C=C||Hs;const F=g.length,Z=C.length,Q=Math.min(F,Z);let ne;for(ne=0;ne<Q;ne++){const fe=C[ne]=$?rr(C[ne]):qt(C[ne]);v(g[ne],fe,E,null,T,B,V,N,$)}F>Z?q(g,T,B,!0,!1,Q):j(C,E,M,T,B,V,N,$,Q)},We=(g,C,E,M,T,B,V,N,$)=>{let F=0;const Z=C.length;let Q=g.length-1,ne=Z-1;for(;F<=Q&&F<=ne;){const fe=g[F],Ae=C[F]=$?rr(C[F]):qt(C[F]);if(Vr(fe,Ae))v(fe,Ae,E,null,T,B,V,N,$);else break;F++}for(;F<=Q&&F<=ne;){const fe=g[Q],Ae=C[ne]=$?rr(C[ne]):qt(C[ne]);if(Vr(fe,Ae))v(fe,Ae,E,null,T,B,V,N,$);else break;Q--,ne--}if(F>Q){if(F<=ne){const fe=ne+1,Ae=fe<Z?C[fe].el:M;for(;F<=ne;)v(null,C[F]=$?rr(C[F]):qt(C[F]),E,Ae,T,B,V,N,$),F++}}else if(F>ne)for(;F<=Q;)Je(g[F],T,B,!0),F++;else{const fe=F,Ae=F,Pe=new Map;for(F=Ae;F<=ne;F++){const pe=C[F]=$?rr(C[F]):qt(C[F]);pe.key!=null&&(Pe.has(pe.key)&&I("Duplicate keys found during update:",JSON.stringify(pe.key),"Make sure keys are unique."),Pe.set(pe.key,F))}let Ne,Le=0;const St=ne-Ae+1;let qn=!1,w=0;const X=new Array(St);for(F=0;F<St;F++)X[F]=0;for(F=fe;F<=Q;F++){const pe=g[F];if(Le>=St){Je(pe,T,B,!0);continue}let ge;if(pe.key!=null)ge=Pe.get(pe.key);else for(Ne=Ae;Ne<=ne;Ne++)if(X[Ne-Ae]===0&&Vr(pe,C[Ne])){ge=Ne;break}ge===void 0?Je(pe,T,B,!0):(X[ge-Ae]=F+1,ge>=w?w=ge:qn=!0,v(pe,C[ge],E,null,T,B,V,N,$),Le++)}const le=qn?B1(X):Hs;for(Ne=le.length-1,F=St-1;F>=0;F--){const pe=Ae+F,ge=C[pe],Ge=pe+1<Z?C[pe+1].el:M;X[F]===0?v(null,ge,E,Ge,T,B,V,N,$):qn&&(Ne<0||F!==le[Ne]?ot(ge,E,Ge,2):Ne--)}}},ot=(g,C,E,M,T=null)=>{const{el:B,type:V,transition:N,children:$,shapeFlag:F}=g;if(F&6){ot(g.component.subTree,C,E,M);return}if(F&128){g.suspense.move(C,E,M);return}if(F&64){V.move(g,C,E,ce);return}if(V===Ot){r(B,C,E);for(let Q=0;Q<$.length;Q++)ot($[Q],C,E,M);r(g.anchor,C,E);return}if(V===Ys){O(g,C,E);return}if(M!==2&&F&1&&N)if(M===0)N.beforeEnter(B),r(B,C,E),bt(()=>N.enter(B),T);else{const{leave:Q,delayLeave:ne,afterLeave:fe}=N,Ae=()=>r(B,C,E),Pe=()=>{Q(B,()=>{Ae(),fe&&fe()})};ne?ne(B,Ae,Pe):Pe()}else r(B,C,E)},Je=(g,C,E,M=!1,T=!1)=>{const{type:B,props:V,ref:N,children:$,dynamicChildren:F,shapeFlag:Z,patchFlag:Q,dirs:ne}=g;if(N!=null&&Aa(N,null,E,g,!0),Z&256){C.ctx.deactivate(g);return}const fe=Z&1&&ne,Ae=!Js(g);let Pe;if(Ae&&(Pe=V&&V.onVnodeBeforeUnmount)&&Ht(Pe,C,g),Z&6)K(g.component,E,M);else{if(Z&128){g.suspense.unmount(E,M);return}fe&&fn(g,null,C,"beforeUnmount"),Z&64?g.type.remove(g,C,E,T,ce,M):F&&(B!==Ot||Q>0&&Q&64)?q(F,C,E,!1,!0):(B===Ot&&Q&384||!T&&Z&16)&&q($,C,E),M&&A(g)}(Ae&&(Pe=V&&V.onVnodeUnmounted)||fe)&&bt(()=>{Pe&&Ht(Pe,C,g),fe&&fn(g,null,C,"unmounted")},E)},A=g=>{const{type:C,el:E,anchor:M,transition:T}=g;if(C===Ot){g.patchFlag>0&&g.patchFlag&2048&&T&&!T.persisted?g.children.forEach(V=>{V.type===dt?i(V.el):A(V)}):W(E,M);return}if(C===Ys){x(g);return}const B=()=>{i(E),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(g.shapeFlag&1&&T&&!T.persisted){const{leave:V,delayLeave:N}=T,$=()=>V(E,B);N?N(g.el,B,$):$()}else B()},W=(g,C)=>{let E;for(;g!==C;)E=d(g),i(g),g=E;i(C)},K=(g,C,E)=>{g.type.__hmrId&&Nb(g);const{bum:M,scope:T,update:B,subTree:V,um:N}=g;M&&Ti(M),T.stop(),B&&(B.active=!1,Je(V,g,C,E)),N&&bt(N,C),bt(()=>{g.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve()),Vb(g)},q=(g,C,E,M=!1,T=!1,B=0)=>{for(let V=B;V<g.length;V++)Je(g[V],C,E,M,T)},ke=g=>g.shapeFlag&6?ke(g.component.subTree):g.shapeFlag&128?g.suspense.next():d(g.anchor||g.el),Me=(g,C,E)=>{g==null?C._vnode&&Je(C._vnode,null,null,!0):v(C._vnode||null,g,C,null,null,null,E),ka(),C._vnode=g},ce={p:v,um:Je,m:ot,r:A,mt:te,mc:j,pc:Se,pbc:_,n:ke,o:t};let he,Te;return e&&([he,Te]=e(ce)),{render:Me,hydrate:he,createApp:F1(Me,he)}}function Tr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Gs(t,e,n=!1){const r=t.children,i=e.children;if(se(r)&&se(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=rr(i[s]),a.el=o.el),n||Gs(o,a)),a.type===dt&&!a.el&&(a.el=o.el)}}function B1(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const L1=t=>t.__isTeleport,Gi=t=>t&&(t.disabled||t.disabled===""),jd=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,rc=(t,e)=>{const n=t&&t.to;if(Ke(n))if(e){const r=e(n);return r||I(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return I("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Gi(t)&&I(`Invalid Teleport target: ${n}`),n},$1={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:m,createComment:v}}=c,y=Gi(e.props);let{shapeFlag:k,children:S,dynamicChildren:b}=e;if(fr&&(l=!1,b=null),t==null){const O=e.el=v("teleport start"),x=e.anchor=v("teleport end");h(O,n,r),h(x,n,r);const P=e.target=rc(e.props,p),D=e.targetAnchor=m("");P?(h(D,P),o=o||jd(P)):y||I("Invalid Teleport target on mount:",P,`(${typeof P})`);const L=(j,z)=>{k&16&&u(S,j,z,i,s,o,a,l)};y?L(n,x):P&&L(P,D)}else{e.el=t.el;const O=e.anchor=t.anchor,x=e.target=t.target,P=e.targetAnchor=t.targetAnchor,D=Gi(t.props),L=D?n:x,j=D?O:P;if(o=o||jd(x),b?(d(t.dynamicChildren,b,L,i,s,o,a),Gs(t,e,!0)):l||f(t,e,L,j,i,s,o,a,!1),y)D||Qo(e,n,O,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const z=e.target=rc(e.props,p);z?Qo(e,z,null,c,0):I("Invalid Teleport target on update:",x,`(${typeof x})`)}else D&&Qo(e,x,P,c,1)}},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:f,props:d}=t;if(f&&s(u),(o||!Gi(d))&&(s(c),a&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,e,n,!0,!!p.dynamicChildren)}},move:Qo,hydrate:V1};function Qo(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,f=s===2;if(f&&r(o,e,n),(!f||Gi(u))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,n,2);f&&r(a,e,n)}function V1(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=rc(e.props,l);if(u){const f=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Gi(e.props))e.anchor=c(o(t),e,a(t),n,r,i,s),e.targetAnchor=f;else{e.anchor=o(t);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(f,e,u,n,r,i,s)}}return e.anchor&&o(e.anchor)}const j1=$1,Ot=Symbol("Fragment"),rs=Symbol("Text"),dt=Symbol("Comment"),Ys=Symbol("Static");let Bi=null,Cf=1;function Hd(t){Cf+=t}function go(t){return t?t.__v_isVNode===!0:!1}function Vr(t,e){return e.shapeFlag&6&&_i.has(e.type)?!1:t.type===e.type&&t.key===e.key}const H1=(...t)=>K1(...t),Sl="__vInternal",mg=({key:t})=>t!=null?t:null,ua=({ref:t,ref_key:e,ref_for:n})=>t!=null?Ke(t)||Xe(t)||ye(t)?{i:Ft,r:t,k:e,f:!!n}:t:null;function z1(t,e=null,n=null,r=0,i=null,s=t===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mg(e),ref:e&&ua(e),scopeId:Gm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Df(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Ke(n)?8:16),l.key!==l.key&&I("VNode created with invalid key (NaN). VNode type:",l.type),Cf>0&&!o&&Bi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Bi.push(l),l}const Pt=H1;function K1(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===f1)&&(t||I(`Invalid vnode type when creating vnode: ${t}.`),t=dt),go(t)){const a=kn(t,e,!0);return n&&Df(a,n),Cf>0&&!s&&Bi&&(a.shapeFlag&6?Bi[Bi.indexOf(t)]=a:Bi.push(a)),a.patchFlag|=-2,a}if(Cg(t)&&(t=t.__vccOpts),e){e=U1(e);let{class:a,style:l}=e;a&&!Ke(a)&&(e.class=Yc(a)),Ve(l)&&(Uu(l)&&!se(l)&&(l=ze({},l)),e.style=Gc(l))}const o=Ke(t)?1:Qb(t)?128:L1(t)?64:Ve(t)?4:ye(t)?2:0;return o&4&&Uu(t)&&(t=Ce(t),I("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),z1(t,e,n,r,i,o,s,!0)}function U1(t){return t?Uu(t)||Sl in t?ze({},t):t:null}function kn(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?q1(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&mg(a),ref:e&&e.ref?n&&i?se(i)?i.concat(ua(e)):[i,ua(e)]:ua(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s===-1&&se(o)?o.map(gg):o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ot?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kn(t.ssContent),ssFallback:t.ssFallback&&kn(t.ssFallback),el:t.el,anchor:t.anchor}}function gg(t){const e=kn(t);return se(t.children)&&(e.children=t.children.map(gg)),e}function yg(t=" ",e=0){return Pt(rs,null,t,e)}function qt(t){return t==null||typeof t=="boolean"?Pt(dt):se(t)?Pt(Ot,null,t.slice()):typeof t=="object"?rr(t):Pt(rs,null,String(t))}function rr(t){return t.el===null||t.memo?t:kn(t)}function Df(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Df(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Sl in e)?e._ctx=Ft:i===3&&Ft&&(Ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Ft},n=32):(e=String(e),r&64?(n=16,e=[yg(e)]):n=8);t.children=e,t.shapeFlag|=n}function q1(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Yc([e.class,r.class]));else if(i==="style")e.style=Gc([e.style,r.style]);else if(bs(i)){const s=e[i],o=r[i];o&&s!==o&&!(se(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ht(t,e,n,r=null){Jt(t,e,7,[n,r])}const W1=pg();let J1=0;function G1(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||W1,s={uid:J1++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new zv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ug(r,i),emitsOptions:Jm(r,i),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:r.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=d1(s),s.root=e?e.root:s,s.emit=Kb.bind(null,s),t.ce&&t.ce(s),s}let Qe=null;const wl=()=>Qe||Ft,is=t=>{Qe=t,t.scope.on()},Zr=()=>{Qe&&Qe.scope.off(),Qe=null},Y1=zn("slot,component");function ic(t,e){const n=e.isNativeTag||bm;(Y1(t)||n(t))&&I("Do not use built-in or reserved HTML elements as component id: "+t)}function vg(t){return t.vnode.shapeFlag&4}let yo=!1;function Q1(t,e=!1){yo=e;const{props:n,children:r}=t.vnode,i=vg(t);C1(t,n,i,e),T1(t,r);const s=i?X1(t,e):void 0;return yo=!1,s}function X1(t,e){var n;const r=t.type;{if(r.name&&ic(r.name,t.appContext.config),r.components){const s=Object.keys(r.components);for(let o=0;o<s.length;o++)ic(s[o],t.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let o=0;o<s.length;o++)ig(s[o])}r.compilerOptions&&Z1()&&I('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=af(new Proxy(t.ctx,sg)),h1(t);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?tk(t):null;is(t),mi();const o=Vn(i,t,0,[Ii(t.props),s]);if(gi(),Zr(),Zc(o)){if(o.then(Zr,Zr),e)return o.then(a=>{zd(t,a,e)}).catch(a=>{Dl(a,t,0)});if(t.asyncDep=o,!t.suspense){const a=(n=r.name)!==null&&n!==void 0?n:"Anonymous";I(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else zd(t,o,e)}else bg(t,e)}function zd(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)?(go(e)&&I("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=Bm(e),p1(t)):e!==void 0&&I(`setup() should return an object. Received: ${e===null?"null":typeof e}`),bg(t,n)}let sc;const Z1=()=>!sc;function bg(t,e,n){const r=t.type;if(!t.render){if(!e&&sc&&!r.render){const i=r.template;if(i){Tn(t,"compile");const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=ze(ze({isCustomElement:s,delimiters:a},o),l);r.render=sc(i,c),Mn(t,"compile")}}t.render=r.render||kt}is(t),mi(),g1(t),gi(),Zr(),!r.render&&t.render===kt&&!e&&(r.template?I('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):I("Component is missing template or render function."))}function ek(t){return new Proxy(t.attrs,{get(e,n){return Da(),Bt(t,"get","$attrs"),e[n]},set(){return I("setupContext.attrs is readonly."),!1},deleteProperty(){return I("setupContext.attrs is readonly."),!1}})}function tk(t){const e=r=>{t.exposed&&I("expose() should be called only once per setup()."),t.exposed=r||{}};let n;return Object.freeze({get attrs(){return n||(n=ek(t))},get slots(){return Ii(t.slots)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:e})}function Ol(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Bm(af(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ns)return ns[n](t)}}))}const nk=/(?:^|[-_])(\w)/g,rk=t=>t.replace(nk,e=>e.toUpperCase()).replace(/[-_]/g,"");function kg(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function Tl(t,e,n=!1){let r=kg(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const o in s)if(s[o]===e)return o};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?rk(r):n?"App":"Anonymous"}function Cg(t){return ye(t)&&"__vccOpts"in t}const hn=(t,e)=>Eb(t,e,yo);function vn(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!se(e)?go(e)?Pt(t,null,[e]):Pt(t,e):Pt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&go(n)&&(n=[n]),Pt(t,e,n))}function Zl(t){return!!(t&&t.__v_isShallow)}function ik(){if(typeof window=="undefined")return;const t={style:"color:#3ba776"},e={style:"color:#0b1bc9"},n={style:"color:#b62e24"},r={style:"color:#9d288c"},i={header(f){return Ve(f)?f.__isVue?["div",t,"VueInstance"]:Xe(f)?["div",{},["span",t,u(f)],"<",a(f.value),">"]:Qr(f)?["div",{},["span",t,Zl(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${ai(f)?" (readonly)":""}`]:ai(f)?["div",{},["span",t,Zl(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...s(f.$)]}};function s(f){const d=[];f.type.props&&f.props&&d.push(o("props",Ce(f.props))),f.setupState!==Fe&&d.push(o("setup",f.setupState)),f.data!==Fe&&d.push(o("data",Ce(f.data)));const h=l(f,"computed");h&&d.push(o("computed",h));const p=l(f,"inject");return p&&d.push(o("injected",p)),d.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),d}function o(f,d){return d=ze({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(h=>["div",{},["span",r,h+": "],a(d[h],!1)])]]:["span",{}]}function a(f,d=!0){return typeof f=="number"?["span",e,f]:typeof f=="string"?["span",n,JSON.stringify(f)]:typeof f=="boolean"?["span",r,f]:Ve(f)?["object",{object:d?Ce(f):f}]:["span",n,String(f)]}function l(f,d){const h=f.type;if(ye(h))return;const p={};for(const m in f.ctx)c(h,m,d)&&(p[m]=f.ctx[m]);return p}function c(f,d,h){const p=f[h];if(se(p)&&p.includes(d)||Ve(p)&&d in p||f.extends&&c(f.extends,d,h)||f.mixins&&f.mixins.some(m=>c(m,d,h)))return!0}function u(f){return Zl(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const Kd="3.2.37";const sk="http://www.w3.org/2000/svg",jr=typeof document!="undefined"?document:null,Ud=jr&&jr.createElement("template"),ok={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?jr.createElementNS(sk,t):jr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>jr.createTextNode(t),createComment:t=>jr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Ud.innerHTML=r?`<svg>${t}</svg>`:t;const a=Ud.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function ak(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function lk(t,e,n){const r=t.style,i=Ke(n);if(n&&!i){for(const s in n)oc(r,s,n[s]);if(e&&!Ke(e))for(const s in e)n[s]==null&&oc(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const qd=/\s*!important$/;function oc(t,e,n){if(se(n))n.forEach(r=>oc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=uk(t,e);qd.test(n)?t.setProperty(gr(r),n.replace(qd,""),"important"):t[r]=n}}const Wd=["Webkit","Moz","ms"],eu={};function uk(t,e){const n=eu[e];if(n)return n;let r=ts(e);if(r!=="filter"&&r in t)return eu[e]=r;r=yl(r);for(let i=0;i<Wd.length;i++){const s=Wd[i]+r;if(s in t)return eu[e]=s}return e}const Jd="http://www.w3.org/1999/xlink";function ck(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Jd,e.slice(6,e.length)):t.setAttributeNS(Jd,e,n);else{const s=Sv(e);n==null||s&&!vm(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function fk(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=vm(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch(l){I(`Failed setting prop "${e}" on <${t.tagName.toLowerCase()}>: value ${n} is invalid.`,l)}a&&t.removeAttribute(e)}const[Dg,dk]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let ac=0;const hk=Promise.resolve(),pk=()=>{ac=0},mk=()=>ac||(hk.then(pk),ac=Dg());function Eg(t,e,n,r){t.addEventListener(e,n,r)}function gk(t,e,n,r){t.removeEventListener(e,n,r)}function yk(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=vk(e);if(r){const c=s[e]=bk(r,i);Eg(t,a,c,l)}else o&&(gk(t,a,o,l),s[e]=void 0)}}const Gd=/(?:Once|Passive|Capture)$/;function vk(t){let e;if(Gd.test(t)){e={};let n;for(;n=t.match(Gd);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[gr(t.slice(2)),e]}function bk(t,e){const n=r=>{const i=r.timeStamp||Dg();(dk||i>=n.attached-1)&&Jt(kk(r,n.value),e,5,[r])};return n.value=t,n.attached=mk(),n}function kk(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Yd=/^on[a-z]/,Ck=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?ak(t,r,i):e==="style"?lk(t,n,r):bs(e)?ya(e)||yk(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Dk(t,e,r,i))?fk(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ck(t,e,r,i))};function Dk(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Yd.test(e)&&ye(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Yd.test(e)&&Ke(n)?!1:e in t}const Gn="transition",Ss="animation",Ag=(t,{slots:e})=>vn(Zm,Ek(t),e);Ag.displayName="Transition";const xg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ag.props=ze({},Zm.props,xg);const Mr=(t,e=[])=>{se(t)?t.forEach(n=>n(...e)):t&&t(...e)},Qd=t=>t?se(t)?t.some(e=>e.length>1):t.length>1:!1;function Ek(t){const e={};for(const _ in t)_ in xg||(e[_]=t[_]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=Ak(i),m=p&&p[0],v=p&&p[1],{onBeforeEnter:y,onEnter:k,onEnterCancelled:S,onLeave:b,onLeaveCancelled:O,onBeforeAppear:x=y,onAppear:P=k,onAppearCancelled:D=S}=e,L=(_,G,U)=>{_r(_,G?u:a),_r(_,G?c:o),U&&U()},j=(_,G)=>{_._isLeaving=!1,_r(_,f),_r(_,h),_r(_,d),G&&G()},z=_=>(G,U)=>{const ve=_?P:k,te=()=>L(G,_,U);Mr(ve,[G,te]),Xd(()=>{_r(G,_?l:s),Yn(G,_?u:a),Qd(ve)||Zd(G,r,m,te)})};return ze(e,{onBeforeEnter(_){Mr(y,[_]),Yn(_,s),Yn(_,o)},onBeforeAppear(_){Mr(x,[_]),Yn(_,l),Yn(_,c)},onEnter:z(!1),onAppear:z(!0),onLeave(_,G){_._isLeaving=!0;const U=()=>j(_,G);Yn(_,f),Ok(),Yn(_,d),Xd(()=>{!_._isLeaving||(_r(_,f),Yn(_,h),Qd(b)||Zd(_,r,v,U))}),Mr(b,[_,U])},onEnterCancelled(_){L(_,!1),Mr(S,[_])},onAppearCancelled(_){L(_,!0),Mr(D,[_])},onLeaveCancelled(_){j(_),Mr(O,[_])}})}function Ak(t){if(t==null)return null;if(Ve(t))return[tu(t.enter),tu(t.leave)];{const e=tu(t);return[e,e]}}function tu(t){const e=nf(t);return xk(e),e}function xk(t){typeof t!="number"?I(`<transition> explicit duration is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&I("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function Yn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function _r(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Xd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sk=0;function Zd(t,e,n,r){const i=t._endId=++Sk,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=wk(t,e);if(!o)return r();const c=o+"end";let u=0;const f=()=>{t.removeEventListener(c,d),s()},d=h=>{h.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,d)}function wk(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(Gn+"Delay"),s=r(Gn+"Duration"),o=eh(i,s),a=r(Ss+"Delay"),l=r(Ss+"Duration"),c=eh(a,l);let u=null,f=0,d=0;e===Gn?o>0&&(u=Gn,f=o,d=s.length):e===Ss?c>0&&(u=Ss,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?Gn:Ss:null,d=u?u===Gn?s.length:l.length:0);const h=u===Gn&&/\b(transform|all)(,|$)/.test(n[Gn+"Property"]);return{type:u,timeout:f,propCount:d,hasTransform:h}}function eh(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>th(n)+th(t[r])))}function th(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Ok(){return document.body.offsetHeight}const nh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return se(e)?n=>Ti(e,n):e},d_={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Xc(e);Eg(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?nf(Sa(o)):Sa(o));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=nh(r)},mounted(t,{value:e}){rh(t,e)},beforeUpdate(t,e,n){t._assign=nh(n)},updated(t,{value:e}){rh(t,e)}};function rh(t,e){const n=t.multiple;if(n&&!se(e)&&!Xc(e)){I(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(e).slice(8,-1)}.`);return}for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=Sa(s);if(n)se(e)?s.selected=Rv(e,o)>-1:s.selected=e.has(o);else if(ml(Sa(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}function Sa(t){return"_value"in t?t._value:t.value}const Tk={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ws(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ws(t,!0),r.enter(t)):r.leave(t,()=>{ws(t,!1)}):ws(t,e))},beforeUnmount(t,{value:e}){ws(t,e)}};function ws(t,e){t.style.display=e?t._vod:"none"}function Mk(){Tk.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const _k=ze({patchProp:Ck},ok);let nu,ih=!1;function Fk(){return nu=ih?nu:R1(_k),ih=!0,nu}const h_=(...t)=>{const e=Fk().createApp(...t);Pk(e),Nk(e);const{mount:n}=e;return e.mount=r=>{const i=Rk(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function Pk(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>Fv(e)||Pv(e),writable:!1})}function Nk(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){I("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(t.config,"compilerOptions",{get(){return I(r),n},set(){I(r)}})}}function Rk(t){if(Ke(t)){const e=document.querySelector(t);return e||I(`Failed to mount app: mount target selector "${t}" returned null.`),e}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&I('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}let sh=!1;const Ik=()=>{sh||(sh=!0,Mk())};function Bk(){ik()}Bk();var Lk=4,$k=.001,Vk=1e-7,jk=10,Ls=11,Xo=1/(Ls-1),Hk=typeof Float32Array=="function";function Sg(t,e){return 1-3*e+3*t}function wg(t,e){return 3*e-6*t}function Og(t){return 3*t}function wa(t,e,n){return((Sg(e,n)*t+wg(e,n))*t+Og(e))*t}function Tg(t,e,n){return 3*Sg(e,n)*t*t+2*wg(e,n)*t+Og(e)}function zk(t,e,n,r,i){var s,o,a=0;do o=e+(n-e)/2,s=wa(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Vk&&++a<jk);return o}function Kk(t,e,n,r){for(var i=0;i<Lk;++i){var s=Tg(e,n,r);if(s===0)return e;var o=wa(e,n,r)-t;e-=o/s}return e}function Uk(t){return t}var p_=function(e,n,r,i){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&r===i)return Uk;for(var s=Hk?new Float32Array(Ls):new Array(Ls),o=0;o<Ls;++o)s[o]=wa(o*Xo,e,r);function a(l){for(var c=0,u=1,f=Ls-1;u!==f&&s[u]<=l;++u)c+=Xo;--u;var d=(l-s[u])/(s[u+1]-s[u]),h=c+d*Xo,p=Tg(h,e,r);return p>=$k?Kk(l,h,e,r):p===0?h:zk(l,c,c+Xo,e,r)}return function(c){return c===0?0:c===1?1:wa(a(c),n,i)}};function qk(){return Mg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Mg(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const Wk=typeof Proxy=="function",Jk="devtools-plugin:setup",Gk="plugin:settings:set";let xi,lc;function Yk(){var t;return xi!==void 0||(typeof window!="undefined"&&window.performance?(xi=!0,lc=window.performance):typeof global!="undefined"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(xi=!0,lc=global.perf_hooks.performance):xi=!1),xi}function Qk(){return Yk()?lc.now():Date.now()}class Xk{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return Qk()}},n&&n.on(Gk,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Zk(t,e){const n=t,r=Mg(),i=qk(),s=Wk&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(Jk,t,e);else{const o=s?new Xk(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * vue-router v4.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _g=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Cs=t=>_g?Symbol("[vue-router]: "+t):"[vue-router]: "+t,eC=Cs("router view location matched"),oh=Cs("router view depth"),Ml=Cs("router"),Ef=Cs("route location"),uc=Cs("router view location"),Nn=typeof window!="undefined";function tC(t){return t.__esModule||_g&&t[Symbol.toStringTag]==="Module"}const Be=Object.assign;function ru(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const Qs=()=>{};function _e(t){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(e))}const nC=/\/$/,rC=t=>t.replace(nC,"");function iu(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),s=e.slice(a+1,l>-1?l:e.length),i=t(s)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=oC(r!=null?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function iC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ah(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lh(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&vr(e.matched[r],n.matched[i])&&Fg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function vr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sC(t[n],e[n]))return!1;return!0}function sC(t,e){return Array.isArray(t)?uh(t,e):Array.isArray(e)?uh(e,t):t===e}function uh(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function oC(t,e){if(t.startsWith("/"))return t;if(!e.startsWith("/"))return _e(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${e}". It should look like "/${e}".`),t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],!(i===1||o==="."))if(o==="..")i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var vo;(function(t){t.pop="pop",t.push="push"})(vo||(vo={}));var Xs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Xs||(Xs={}));function aC(t){if(!t)if(Nn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),rC(t)}const lC=/^[^#]+#/;function uC(t,e){return t.replace(lC,"#")+e}function cC(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const _l=()=>({left:window.pageXOffset,top:window.pageYOffset});function fC(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#");if(typeof t.el=="string"&&(!r||!document.getElementById(t.el.slice(1))))try{const s=document.querySelector(t.el);if(r&&s){_e(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{_e(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i){_e(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}e=cC(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ch(t,e){return(history.state?history.state.position-e:-1)+t}const cc=new Map;function dC(t,e){cc.set(t,e)}function hC(t){const e=cc.get(t);return cc.delete(t),e}let pC=()=>location.protocol+"//"+location.host;function Pg(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ah(l,"")}return ah(n,t)+r+i}function mC(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const h=Pg(t,location),p=n.value,m=e.value;let v=0;if(d){if(n.value=h,e.value=d,o&&o===p){o=null;return}v=m?d.position-m.position:0}else r(h);i.forEach(y=>{y(n.value,p,{delta:v,type:vo.pop,direction:v?v>0?Xs.forward:Xs.back:Xs.unknown})})};function l(){o=n.value}function c(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return s.push(h),h}function u(){const{history:d}=window;!d.state||d.replaceState(Be({},d.state,{scroll:_l()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function fh(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?_l():null}}function gC(t){const{history:e,location:n}=window,r={value:Pg(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:pC()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(h){_e("Error with push/replace State",h),n[u?"replace":"assign"](d)}}function o(l,c){const u=Be({},e.state,fh(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=Be({},i.value,e.state,{forward:l,scroll:_l()});e.state||_e(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),s(u.current,u,!0);const f=Be({},fh(r.value,l,null),{position:u.position+1},c);s(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function m_(t){t=aC(t);const e=gC(t),n=mC(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Be({location:"",base:t,go:r,createHref:uC.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function yC(t){return typeof t=="string"||t&&typeof t=="object"}function Ng(t){return typeof t=="string"||typeof t=="symbol"}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Rg=Cs("navigation failure");var dh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(dh||(dh={}));const vC={[1]({location:t,currentLocation:e}){return`No match for
 ${JSON.stringify(t)}${e?`
while being at
`+JSON.stringify(e):""}`},[2]({from:t,to:e}){return`Redirected from "${t.fullPath}" to "${kC(e)}" via a navigation guard.`},[4]({from:t,to:e}){return`Navigation aborted from "${t.fullPath}" to "${e.fullPath}" via a navigation guard.`},[8]({from:t,to:e}){return`Navigation cancelled from "${t.fullPath}" to "${e.fullPath}" with a new navigation.`},[16]({from:t,to:e}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function ss(t,e){return Be(new Error(vC[t](e)),{type:t,[Rg]:!0},e)}function Xn(t,e){return t instanceof Error&&Rg in t&&(e==null||!!(t.type&e))}const bC=["params","query","hash"];function kC(t){if(typeof t=="string")return t;if("path"in t)return t.path;const e={};for(const n of bC)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}const hh="[^/]+?",CC={sensitive:!1,strict:!1,start:!0,end:!0},DC=/[.+*?^${}()[\]/\\]/g;function EC(t,e){const n=Be({},CC,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(DC,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:m,optional:v,regexp:y}=d;s.push({name:p,repeatable:m,optional:v});const k=y||hh;if(k!==hh){h+=10;try{new RegExp(`(${k})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${k}): `+b.message)}}let S=m?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(S=v&&c.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),i+=S,h+=20,v&&(h+=-8),m&&(h+=-20),k===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=s[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:v}=h,y=p in c?c[p]:"";if(Array.isArray(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const k=Array.isArray(y)?y.join("/"):y;if(!k)if(v)d.length<2&&t.length>1&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=k}}return u}return{re:o,score:r,keys:s,parse:a,stringify:l}}function AC(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function xC(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=AC(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(ph(r))return 1;if(ph(i))return-1}return i.length-r.length}function ph(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const SC={type:0,value:""},wC=/[a-zA-Z0-9_]/;function OC(t){if(!t)return[[]];if(t==="/")return[[SC]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function f(){!c||(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:wC.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function TC(t,e,n){const r=EC(OC(t.path),n);{const s=new Set;for(const o of r.keys)s.has(o.name)&&_e(`Found duplicated params with name "${o.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),s.add(o.name)}const i=Be(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function MC(t,e){const n=[],r=new Map;e=gh({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function s(u,f,d){const h=!d,p=FC(u);p.aliasOf=d&&d.record;const m=gh(e,u),v=[p];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of S)v.push(Be({},p,{components:d?d.record.components:p.components,path:b,aliasOf:d?d.record:p}))}let y,k;for(const S of v){const{path:b}=S;if(f&&b[0]!=="/"){const O=f.record.path,x=O[O.length-1]==="/"?"":"/";S.path=f.record.path+(b&&x+b)}if(S.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(y=TC(S,f,m),f&&b[0]==="/"&&IC(y,f),d?(d.alias.push(y),RC(d,y)):(k=k||y,k!==y&&k.alias.push(y),h&&u.name&&!mh(y)&&o(u.name)),"children"in p){const O=p.children;for(let x=0;x<O.length;x++)s(O[x],y,d&&d.children[x])}d=d||y,l(y)}return k?()=>{o(k)}:Qs}function o(u){if(Ng(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&xC(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Ig(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!mh(u)&&r.set(u.record.name,u)}function c(u,f){let d,h={},p,m;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw ss(1,{location:u});m=d.record.name,h=Be(_C(f.params,d.keys.filter(k=>!k.optional).map(k=>k.name)),u.params),p=d.stringify(h)}else if("path"in u)p=u.path,p.startsWith("/")||_e(`The Matcher cannot resolve relative paths but received "${p}". Unless you directly called \`matcher.resolve("${p}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),d=n.find(k=>k.re.test(p)),d&&(h=d.parse(p),m=d.record.name);else{if(d=f.name?r.get(f.name):n.find(k=>k.re.test(f.path)),!d)throw ss(1,{location:u,currentLocation:f});m=d.record.name,h=Be({},f.params,u.params),p=d.stringify(h)}const v=[];let y=d;for(;y;)v.unshift(y.record),y=y.parent;return{name:m,path:p,params:h,matched:v,meta:NC(v)}}return t.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function _C(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function FC(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:PC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function PC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function mh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function NC(t){return t.reduce((e,n)=>Be(e,n.meta),{})}function gh(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function fc(t,e){return t.name===e.name&&t.optional===e.optional&&t.repeatable===e.repeatable}function RC(t,e){for(const n of t.keys)if(!n.optional&&!e.keys.find(fc.bind(null,n)))return _e(`Alias "${e.record.path}" and the original record: "${t.record.path}" should have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!t.keys.find(fc.bind(null,n)))return _e(`Alias "${e.record.path}" and the original record: "${t.record.path}" should have the exact same param named "${n.name}"`)}function IC(t,e){for(const n of e.keys)if(!t.keys.find(fc.bind(null,n)))return _e(`Absolute path "${t.record.path}" should have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function Ig(t,e){return e.children.some(n=>n===t||Ig(t,n))}const Bg=/#/g,BC=/&/g,LC=/\//g,$C=/=/g,VC=/\?/g,Lg=/\+/g,jC=/%5B/g,HC=/%5D/g,$g=/%5E/g,zC=/%60/g,Vg=/%7B/g,KC=/%7C/g,jg=/%7D/g,UC=/%20/g;function Af(t){return encodeURI(""+t).replace(KC,"|").replace(jC,"[").replace(HC,"]")}function qC(t){return Af(t).replace(Vg,"{").replace(jg,"}").replace($g,"^")}function dc(t){return Af(t).replace(Lg,"%2B").replace(UC,"+").replace(Bg,"%23").replace(BC,"%26").replace(zC,"`").replace(Vg,"{").replace(jg,"}").replace($g,"^")}function WC(t){return dc(t).replace($C,"%3D")}function JC(t){return Af(t).replace(Bg,"%23").replace(VC,"%3F")}function GC(t){return t==null?"":JC(t).replace(LC,"%2F")}function bo(t){try{return decodeURIComponent(""+t)}catch{_e(`Error decoding "${t}". Using original value`)}return""+t}function YC(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Lg," "),o=s.indexOf("="),a=bo(o<0?s:s.slice(0,o)),l=o<0?null:bo(s.slice(o+1));if(a in e){let c=e[a];Array.isArray(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function yh(t){let e="";for(let n in t){const r=t[n];if(n=WC(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map(s=>s&&dc(s)):[r&&dc(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function QC(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}function Os(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ir(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(ss(4,{from:n,to:e})):f instanceof Error?a(f):yC(f)?a(ss(2,{from:e,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),o())},c=t.call(r&&r.instances[i],e,n,XC(l,e,n));let u=Promise.resolve(c);if(t.length<3&&(u=u.then(l)),t.length>2){const f=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof c=="object"&&"then"in c)u=u.then(d=>l._called?d:(_e(f),Promise.reject(new Error("Invalid navigation guard"))));else if(c!==void 0&&!l._called){_e(f),a(new Error("Invalid navigation guard"));return}}u.catch(f=>a(f))})}function XC(t,e,n){let r=0;return function(){r++===1&&_e(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,r===1&&t.apply(null,arguments)}}function su(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];{if(!a||typeof a!="object"&&typeof a!="function")throw _e(`Component "${o}" in record with path "${s.path}" is not a valid component. Received "${String(a)}".`),new Error("Invalid route component");if("then"in a){_e(`Component "${o}" in record with path "${s.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const l=a;a=()=>l}else a.__asyncLoader&&!a.__warnedDefineAsync&&(a.__warnedDefineAsync=!0,_e(`Component "${o}" in record with path "${s.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(ZC(a)){const c=(a.__vccOpts||a)[e];c&&i.push(ir(c,n,r,s,o))}else{let l=a();"catch"in l||(_e(`Component "${o}" in record with path "${s.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),l=Promise.resolve(l)),i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=tC(c)?c.default:c;s.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&ir(d,n,r,s,o)()}))}}return i}function ZC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vh(t){const e=nn(Ml),n=nn(Ef),r=hn(()=>e.resolve(Ji(t.to))),i=hn(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(vr.bind(null,u));if(d>-1)return d;const h=bh(l[c-2]);return c>1&&bh(u)===h&&f[f.length-1].path!==h?f.findIndex(vr.bind(null,l[c-2])):d}),s=hn(()=>i.value>-1&&rD(n.params,r.value.params)),o=hn(()=>i.value>-1&&i.value===n.matched.length-1&&Fg(n.params,r.value.params));function a(l={}){return nD(l)?e[Ji(t.replace)?"replace":"push"](Ji(t.to)).catch(Qs):Promise.resolve()}if(Nn){const l=wl();if(l){const c={route:r.value,isActive:s.value,isExactActive:o.value};l.__vrl_devtools=l.__vrl_devtools||[],l.__vrl_devtools.push(c),yf(()=>{c.route=r.value,c.isActive=s.value,c.isExactActive=o.value},{flush:"post"})}}return{route:r,href:hn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const eD=yi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vh,setup(t,{slots:e}){const n=ks(vh(t)),{options:r}=nn(Ml),i=hn(()=>({[kh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[kh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:vn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),tD=eD;function nD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rD(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function bh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const kh=(t,e,n)=>t!=null?t:e!=null?e:n,iD=yi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){oD();const r=nn(uc),i=hn(()=>t.route||r.value),s=nn(oh,0),o=hn(()=>i.value.matched[s]);la(oh,s+1),la(eC,o),la(uc,i);const a=_o();return Ws(()=>[a.value,o.value,t.name],([l,c,u],[f,d,h])=>{c&&(c.instances[u]=l,d&&d!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),l&&c&&(!d||!vr(c,d)||!f)&&(c.enterCallbacks[u]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=i.value,c=o.value,u=c&&c.components[t.name],f=t.name;if(!u)return Ch(n.default,{Component:u,route:l});const d=c.props[t.name],h=d?d===!0?l.params:typeof d=="function"?d(l):d:null,m=vn(u,Be({},h,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[f]=null)},ref:a}));if(Nn&&m.ref){const v={depth:s,name:c.name,path:c.path,meta:c.meta};(Array.isArray(m.ref)?m.ref.map(k=>k.i):[m.ref.i]).forEach(k=>{k.__vrv_devtools=v})}return Ch(n.default,{Component:m,route:l})||m}}});function Ch(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const sD=iD;function oD(){const t=wl(),e=t.parent&&t.parent.type.name;if(e&&(e==="KeepAlive"||e.includes("Transition"))){const n=e==="KeepAlive"?"keep-alive":"transition";_e(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${n}>
    <component :is="Component" />
  </${n}>
</router-view>`)}}function Ts(t,e){const n=Be({},t,{matched:t.matched.map(r=>mD(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:n}}}function Zo(t){return{_custom:{display:t}}}let aD=0;function lD(t,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const r=aD++;Zk({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},i=>{i.on.inspectComponent((u,f)=>{u.instanceData&&u.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Ts(e.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:u,componentInstance:f})=>{if(f.__vrv_devtools){const d=f.__vrv_devtools;u.tags.push({label:(d.name?`${d.name.toString()}: `:"")+d.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Hg})}Array.isArray(f.__vrl_devtools)&&(f.__devtoolsApi=i,f.__vrl_devtools.forEach(d=>{let h=Ug,p="";d.isExactActive?(h=Kg,p="This is exactly active"):d.isActive&&(h=zg,p="This link is active"),u.tags.push({label:d.route.path,textColor:0,tooltip:p,backgroundColor:h})}))}),Ws(e.currentRoute,()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(a),i.sendInspectorState(a)});const s="router:navigations:"+r;i.addTimelineLayer({id:s,label:`Router${r?" "+r:""} Navigations`,color:4237508}),e.onError((u,f)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:i.now(),data:{error:u},groupId:f.meta.__navigationId}})});let o=0;e.beforeEach((u,f)=>{const d={guard:Zo("beforeEach"),from:Ts(f,"Current Location during this navigation"),to:Ts(u,"Target location")};Object.defineProperty(u.meta,"__navigationId",{value:o++}),i.addTimelineEvent({layerId:s,event:{time:i.now(),title:"Start of navigation",subtitle:u.fullPath,data:d,groupId:u.meta.__navigationId}})}),e.afterEach((u,f,d)=>{const h={guard:Zo("afterEach")};d?(h.failure={_custom:{type:Error,readOnly:!0,display:d?d.message:"",tooltip:"Navigation Failure",value:d}},h.status=Zo("\u274C")):h.status=Zo("\u2705"),h.from=Ts(f,"Current Location during this navigation"),h.to=Ts(u,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:u.fullPath,time:i.now(),data:h,logType:d?"warning":"default",groupId:u.meta.__navigationId}})});const a="router-inspector:"+r;i.addInspector({id:a,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function l(){if(!c)return;const u=c;let f=n.getRoutes().filter(d=>!d.parent);f.forEach(Jg),u.filter&&(f=f.filter(d=>hc(d,u.filter.toLowerCase()))),f.forEach(d=>Wg(d,e.currentRoute.value)),u.rootNodes=f.map(qg)}let c;i.on.getInspectorTree(u=>{c=u,u.app===t&&u.inspectorId===a&&l()}),i.on.getInspectorState(u=>{if(u.app===t&&u.inspectorId===a){const d=n.getRoutes().find(h=>h.record.__vd_id===u.nodeId);d&&(u.state={options:cD(d)})}}),i.sendInspectorTree(a),i.sendInspectorState(a)})}function uD(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function cD(t){const{record:e}=t,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(r=>`${r.name}${uD(r)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&n.push({editable:!1,key:"aliases",value:t.alias.map(r=>r.record.path)}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),n}const Hg=15485081,zg=2450411,Kg=8702998,fD=2282478,Ug=16486972,dD=6710886;function qg(t){const e=[],{record:n}=t;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:fD}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:Ug}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:Hg}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:Kg}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:zg}),n.redirect&&e.push({label:"redirect: "+(typeof n.redirect=="string"?n.redirect:"Object"),textColor:16777215,backgroundColor:dD});let r=n.__vd_id;return r==null&&(r=String(hD++),n.__vd_id=r),{id:r,label:n.path,tags:e,children:t.children.map(qg)}}let hD=0;const pD=/^\/(.*)\/([a-z]*)$/;function Wg(t,e){const n=e.matched.length&&vr(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=n,n||(t.__vd_active=e.matched.some(r=>vr(r,t.record))),t.children.forEach(r=>Wg(r,e))}function Jg(t){t.__vd_match=!1,t.children.forEach(Jg)}function hc(t,e){const n=String(t.re).match(pD);if(t.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return t.children.forEach(o=>hc(o,e)),t.record.path!=="/"||e==="/"?(t.__vd_match=t.re.test(e),!0):!1;const i=t.record.path.toLowerCase(),s=bo(i);return!e.startsWith("/")&&(s.includes(e)||i.includes(e))||s.startsWith(e)||i.startsWith(e)||t.record.name&&String(t.record.name).includes(e)?!0:t.children.some(o=>hc(o,e))}function mD(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function g_(t){const e=MC(t.routes,t),n=t.parseQuery||YC,r=t.stringifyQuery||yh,i=t.history;if(!i)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const s=Os(),o=Os(),a=Os(),l=Rm(Qn);let c=Qn;Nn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ru.bind(null,A=>""+A),f=ru.bind(null,GC),d=ru.bind(null,bo);function h(A,W){let K,q;return Ng(A)?(K=e.getRecordMatcher(A),q=W):q=A,e.addRoute(q,K)}function p(A){const W=e.getRecordMatcher(A);W?e.removeRoute(W):_e(`Cannot remove non-existent route "${String(A)}"`)}function m(){return e.getRoutes().map(A=>A.record)}function v(A){return!!e.getRecordMatcher(A)}function y(A,W){if(W=Be({},W||l.value),typeof A=="string"){const he=iu(n,A,W.path),Te=e.resolve({path:he.path},W),g=i.createHref(he.fullPath);return g.startsWith("//")?_e(`Location "${A}" resolved to "${g}". A resolved location cannot start with multiple slashes.`):Te.matched.length||_e(`No match found for location with path "${A}"`),Be(he,Te,{params:d(Te.params),hash:bo(he.hash),redirectedFrom:void 0,href:g})}let K;if("path"in A)"params"in A&&!("name"in A)&&Object.keys(A.params).length&&_e(`Path "${A.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),K=Be({},A,{path:iu(n,A.path,W.path).path});else{const he=Be({},A.params);for(const Te in he)he[Te]==null&&delete he[Te];K=Be({},A,{params:f(A.params)}),W.params=f(W.params)}const q=e.resolve(K,W),ke=A.hash||"";ke&&!ke.startsWith("#")&&_e(`A \`hash\` should always start with the character "#". Replace "${ke}" with "#${ke}".`),q.params=u(d(q.params));const Me=iC(r,Be({},A,{hash:qC(ke),path:q.path})),ce=i.createHref(Me);return ce.startsWith("//")?_e(`Location "${A}" resolved to "${ce}". A resolved location cannot start with multiple slashes.`):q.matched.length||_e(`No match found for location with path "${"path"in A?A.path:A}"`),Be({fullPath:Me,hash:ke,query:r===yh?QC(A.query):A.query||{}},q,{redirectedFrom:void 0,href:ce})}function k(A){return typeof A=="string"?iu(n,A,l.value.path):Be({},A)}function S(A,W){if(c!==A)return ss(8,{from:W,to:A})}function b(A){return P(A)}function O(A){return b(Be(k(A),{replace:!0}))}function x(A){const W=A.matched[A.matched.length-1];if(W&&W.redirect){const{redirect:K}=W;let q=typeof K=="function"?K(A):K;if(typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=k(q):{path:q},q.params={}),!("path"in q)&&!("name"in q))throw _e(`Invalid redirect found:
${JSON.stringify(q,null,2)}
 when navigating to "${A.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Be({query:A.query,hash:A.hash,params:A.params},q)}}function P(A,W){const K=c=y(A),q=l.value,ke=A.state,Me=A.force,ce=A.replace===!0,he=x(K);if(he)return P(Be(k(he),{state:ke,force:Me,replace:ce}),W||K);const Te=K;Te.redirectedFrom=W;let g;return!Me&&lh(r,q,K)&&(g=ss(16,{to:Te,from:q}),Se(q,q,!0,!1)),(g?Promise.resolve(g):L(Te,q)).catch(C=>Xn(C)?Xn(C,2)?C:be(C):re(C,Te,q)).then(C=>{if(C){if(Xn(C,2))return lh(r,y(C.to),Te)&&W&&(W._count=W._count?W._count+1:1)>10?(_e(`Detected an infinite redirection in a navigation guard when going from "${q.fullPath}" to "${Te.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):P(Be(k(C.to),{state:ke,force:Me,replace:ce}),W||Te)}else C=z(Te,q,!0,ce,ke);return j(Te,q,C),C})}function D(A,W){const K=S(A,W);return K?Promise.reject(K):Promise.resolve()}function L(A,W){let K;const[q,ke,Me]=gD(A,W);K=su(q.reverse(),"beforeRouteLeave",A,W);for(const he of q)he.leaveGuards.forEach(Te=>{K.push(ir(Te,A,W))});const ce=D.bind(null,A,W);return K.push(ce),Si(K).then(()=>{K=[];for(const he of s.list())K.push(ir(he,A,W));return K.push(ce),Si(K)}).then(()=>{K=su(ke,"beforeRouteUpdate",A,W);for(const he of ke)he.updateGuards.forEach(Te=>{K.push(ir(Te,A,W))});return K.push(ce),Si(K)}).then(()=>{K=[];for(const he of A.matched)if(he.beforeEnter&&!W.matched.includes(he))if(Array.isArray(he.beforeEnter))for(const Te of he.beforeEnter)K.push(ir(Te,A,W));else K.push(ir(he.beforeEnter,A,W));return K.push(ce),Si(K)}).then(()=>(A.matched.forEach(he=>he.enterCallbacks={}),K=su(Me,"beforeRouteEnter",A,W),K.push(ce),Si(K))).then(()=>{K=[];for(const he of o.list())K.push(ir(he,A,W));return K.push(ce),Si(K)}).catch(he=>Xn(he,8)?he:Promise.reject(he))}function j(A,W,K){for(const q of a.list())q(A,W,K)}function z(A,W,K,q,ke){const Me=S(A,W);if(Me)return Me;const ce=W===Qn,he=Nn?history.state:{};K&&(q||ce?i.replace(A.fullPath,Be({scroll:ce&&he&&he.scroll},ke)):i.push(A.fullPath,ke)),l.value=A,Se(A,W,K,ce),be()}let _;function G(){_||(_=i.listen((A,W,K)=>{const q=y(A),ke=x(q);if(ke){P(Be(ke,{replace:!0}),q).catch(Qs);return}c=q;const Me=l.value;Nn&&dC(ch(Me.fullPath,K.delta),_l()),L(q,Me).catch(ce=>Xn(ce,12)?ce:Xn(ce,2)?(P(ce.to,q).then(he=>{Xn(he,20)&&!K.delta&&K.type===vo.pop&&i.go(-1,!1)}).catch(Qs),Promise.reject()):(K.delta&&i.go(-K.delta,!1),re(ce,q,Me))).then(ce=>{ce=ce||z(q,Me,!1),ce&&(K.delta?i.go(-K.delta,!1):K.type===vo.pop&&Xn(ce,20)&&i.go(-1,!1)),j(q,Me,ce)}).catch(Qs)}))}let U=Os(),ve=Os(),te;function re(A,W,K){be(A);const q=ve.list();return q.length?q.forEach(ke=>ke(A,W,K)):(_e("uncaught error during route navigation:"),console.error(A)),Promise.reject(A)}function ie(){return te&&l.value!==Qn?Promise.resolve():new Promise((A,W)=>{U.add([A,W])})}function be(A){return te||(te=!A,G(),U.list().forEach(([W,K])=>A?K(A):W()),U.reset()),A}function Se(A,W,K,q){const{scrollBehavior:ke}=t;if(!Nn||!ke)return Promise.resolve();const Me=!K&&hC(ch(A.fullPath,0))||(q||!K)&&history.state&&history.state.scroll||null;return hf().then(()=>ke(A,W,Me)).then(ce=>ce&&fC(ce)).catch(ce=>re(ce,A,W))}const je=A=>i.go(A);let We;const ot=new Set;return{currentRoute:l,addRoute:h,removeRoute:p,hasRoute:v,getRoutes:m,resolve:y,options:t,push:b,replace:O,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ve.add,isReady:ie,install(A){const W=this;A.component("RouterLink",tD),A.component("RouterView",sD),A.config.globalProperties.$router=W,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Ji(l)}),Nn&&!We&&l.value===Qn&&(We=!0,b(i.location).catch(ke=>{_e("Unexpected error when starting the router:",ke)}));const K={};for(const ke in Qn)K[ke]=hn(()=>l.value[ke]);A.provide(Ml,W),A.provide(Ef,ks(K)),A.provide(uc,l);const q=A.unmount;ot.add(A),A.unmount=function(){ot.delete(A),ot.size<1&&(c=Qn,_&&_(),_=null,l.value=Qn,We=!1,te=!1),q()},Nn&&lD(A,W,e)}}}function Si(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function gD(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>vr(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>vr(c,l))||i.push(l))}return[n,r,i]}function y_(){return nn(Ml)}function v_(){return nn(Ef)}var yD=Object.defineProperty,Dh=Object.getOwnPropertySymbols,vD=Object.prototype.hasOwnProperty,bD=Object.prototype.propertyIsEnumerable,Eh=(t,e,n)=>e in t?yD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kD=(t,e)=>{for(var n in e||(e={}))vD.call(e,n)&&Eh(t,n,e[n]);if(Dh)for(var n of Dh(e))bD.call(e,n)&&Eh(t,n,e[n]);return t},Gg="usehead",Ah="head:count",ou="data-head-attrs",CD=(t,e,n)=>{const r=n.createElement(t);for(const i of Object.keys(e)){let s=e[i];i==="key"||s===!1||(i==="children"?r.textContent=s:r.setAttribute(i,s))}return r};function DD(t,e){if(t instanceof HTMLElement&&e instanceof HTMLElement){const n=e.getAttribute("nonce");if(n&&!t.getAttribute("nonce")){const r=e.cloneNode(!0);return r.setAttribute("nonce",""),r.nonce=n,n===t.nonce&&t.isEqualNode(r)}}return t.isEqualNode(e)}var ED=t=>{const e=["key","id","name","property"];for(const n of e){const r=typeof t.getAttribute=="function"?t.hasAttribute(n)?t.getAttribute(n):void 0:t[n];if(r!==void 0)return{name:n,value:r}}},AD=()=>{const t=nn(Gg);if(!t)throw new Error("You may forget to apply app.use(head)");return t},xD=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],SD=t=>{const e=[];for(const n of Object.keys(t))if(t[n]!=null){if(n==="title")e.push({tag:n,props:{children:t[n]}});else if(n==="base")e.push({tag:n,props:kD({key:"default"},t[n])});else if(xD.includes(n)){const r=t[n];Array.isArray(r)?r.forEach(i=>{e.push({tag:n,props:i})}):r&&e.push({tag:n,props:r})}}return e},xh=(t,e)=>{const n=t.getAttribute(ou);if(n)for(const i of n.split(","))i in e||t.removeAttribute(i);const r=[];for(const i in e){const s=e[i];s!=null&&(s===!1?t.removeAttribute(i):t.setAttribute(i,s),r.push(i))}r.length?t.setAttribute(ou,r.join(",")):t.removeAttribute(ou)},wD=(t=window.document,e,n)=>{var r;const i=t.head;let s=i.querySelector(`meta[name="${Ah}"]`);const o=s?Number(s.getAttribute("content")):0,a=[];if(s)for(let c=0,u=s.previousElementSibling;c<o;c++,u=(u==null?void 0:u.previousElementSibling)||null)((r=u==null?void 0:u.tagName)==null?void 0:r.toLowerCase())===e&&a.push(u);else s=t.createElement("meta"),s.setAttribute("name",Ah),s.setAttribute("content","0"),i.append(s);let l=n.map(c=>CD(c.tag,c.props,t));l=l.filter(c=>{for(let u=0;u<a.length;u++){const f=a[u];if(DD(f,c))return a.splice(u,1),!1}return!0}),a.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)}),l.forEach(c=>{i.insertBefore(c,s)}),s.setAttribute("content",""+(o-a.length+l.length))},b_=()=>{let t=[],e=new Set;const n={install(r){r.config.globalProperties.$head=n,r.provide(Gg,n)},get headTags(){const r=[];return t.forEach(i=>{SD(i.value).forEach(o=>{if(o.tag==="meta"||o.tag==="base"||o.tag==="script"){const a=ED(o.props);if(a){let l=-1;for(let c=0;c<r.length;c++){const u=r[c],f=u.props[a.name],d=o.props[a.name];if(u.tag===o.tag&&f===d){l=c;break}}l!==-1&&r.splice(l,1)}}r.push(o)})}),r},addHeadObjs(r){t.push(r)},removeHeadObjs(r){t=t.filter(i=>i!==r)},updateDOM(r=window.document){let i,s={},o={};const a={};for(const c of n.headTags){if(c.tag==="title"){i=c.props.children;continue}if(c.tag==="htmlAttrs"){Object.assign(s,c.props);continue}if(c.tag==="bodyAttrs"){Object.assign(o,c.props);continue}a[c.tag]=a[c.tag]||[],a[c.tag].push(c)}i!==void 0&&(r.title=i),xh(r.documentElement,s),xh(r.body,o);const l=new Set([...Object.keys(a),...e]);for(const c of l)wD(r,c,a[c]||[]);e.clear(),Object.keys(a).forEach(c=>e.add(c))}};return n},OD=typeof window!="undefined",k_=t=>{const e=_o(t),n=AD();n.addHeadObjs(e),OD&&(yf(()=>{n.updateDOM()}),vi(()=>{n.removeHeadObjs(e),n.updateDOM()}))};function Oa(t){return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qe(t,e,n){return e&&Sh(t.prototype,e),n&&Sh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pc(t,e)}function de(t){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},de(t)}function pc(t,e){return pc=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pc(t,e)}function MD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _D(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ro(t,e){if(t==null)return{};var n=_D(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function FD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FD(t)}function Sn(t){var e=MD();return function(){var r=de(t),i;if(e){var s=de(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PD(this,i)}}function Yg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=de(t),t!==null););return t}function we(){return typeof Reflect!="undefined"&&Reflect.get?we=Reflect.get:we=function(e,n,r){var i=Yg(e,n);if(!!i){var s=Object.getOwnPropertyDescriptor(i,n);return s.get?s.get.call(arguments.length<3?e:r):s.value}},we.apply(this,arguments)}function ca(t,e,n,r){return typeof Reflect!="undefined"&&Reflect.set?ca=Reflect.set:ca=function(s,o,a,l){var c=Yg(s,o),u;if(c){if(u=Object.getOwnPropertyDescriptor(c,o),u.set)return u.set.call(l,a),!0;if(!u.writable)return!1}if(u=Object.getOwnPropertyDescriptor(l,o),u){if(!u.writable)return!1;u.value=a,Object.defineProperty(l,o,u)}else TD(l,o,a);return!0},ca(t,e,n,r)}function jn(t,e,n,r,i){var s=ca(t,e,n,r||t);if(!s&&i)throw new Error("failed to set property");return n}function Bn(t,e){return ND(t)||RD(t,e)||ID(t,e)||BD()}function ND(t){if(Array.isArray(t))return t}function RD(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function ID(t,e){if(!!t){if(typeof t=="string")return wh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wh(t,e)}}function wh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $e=function(){function t(e){Ue(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return qe(t,[{key:"aggregate",value:function(n){return this.rawInserted+=n.rawInserted,this.skip=this.skip||n.skip,this.inserted+=n.inserted,this.tailShift+=n.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}();function Yi(t){return typeof t=="string"||t instanceof String}var ue={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function LD(t){switch(t){case ue.LEFT:return ue.FORCE_LEFT;case ue.RIGHT:return ue.FORCE_RIGHT;default:return t}}function au(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function xf(t){return Array.isArray(t)?t:[t,new $e]}function mc(t,e){if(e===t)return!0;var n=Array.isArray(e),r=Array.isArray(t),i;if(n&&r){if(e.length!=t.length)return!1;for(i=0;i<e.length;i++)if(!mc(e[i],t[i]))return!1;return!0}if(n!=r)return!1;if(e&&t&&Oa(e)==="object"&&Oa(t)==="object"){var s=e instanceof Date,o=t instanceof Date;if(s&&o)return e.getTime()==t.getTime();if(s!=o)return!1;var a=e instanceof RegExp,l=t instanceof RegExp;if(a&&l)return e.toString()==t.toString();if(a!=l)return!1;var c=Object.keys(e);for(i=0;i<c.length;i++)if(!Object.prototype.hasOwnProperty.call(t,c[i]))return!1;for(i=0;i<c.length;i++)if(!mc(t[c[i]],e[c[i]]))return!1;return!0}else if(e&&t&&typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();return!1}var $D=function(){function t(e,n,r,i){for(Ue(this,t),this.value=e,this.cursorPos=n,this.oldValue=r,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return qe(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?ue.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?ue.RIGHT:ue.LEFT}}]),t}(),Ln=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;Ue(this,t),this.value=e,this.from=n,this.stop=r}return qe(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(n){this.value+=String(n)}},{key:"appendTo",value:function(n){return n.append(this.toString(),{tail:!0}).aggregate(n._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(n){Object.assign(this,n)}},{key:"unshift",value:function(n){if(!this.value.length||n!=null&&this.from>=n)return"";var r=this.value[0];return this.value=this.value.slice(1),r}},{key:"shift",value:function(){if(!this.value.length)return"";var n=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),n}}]),t}();function Oe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Oe.InputMask(t,e)}var bi=function(){function t(e){Ue(this,t),this._value="",this._update(Object.assign({},t.DEFAULTS,e)),this.isInitialized=!0}return qe(t,[{key:"updateOptions",value:function(n){!Object.keys(n).length||this.withValueRefresh(this._update.bind(this,n))}},{key:"_update",value:function(n){Object.assign(this,n)}},{key:"state",get:function(){return{_value:this.value}},set:function(n){this._value=n._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(n){this.resolve(n)}},{key:"resolve",value:function(n){return this.reset(),this.append(n,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(n){this.reset(),this.append(n,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(n){this.value=this.doFormat(n)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(n){this.reset(),this.append(n,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return this.isComplete}},{key:"nearestInputPos",value:function(n,r){return n}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(n,r)}},{key:"extractTail",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new Ln(this.extractInput(n,r),n)}},{key:"appendTail",value:function(n){return Yi(n)&&(n=new Ln(String(n))),n.appendTo(this)}},{key:"_appendCharRaw",value:function(n){return n?(this._value+=n,new $e({inserted:n,rawInserted:n})):new $e}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,s=this.state,o,a=xf(this.doPrepare(n,r)),l=Bn(a,2);if(n=l[0],o=l[1],o=o.aggregate(this._appendCharRaw(n,r)),o.inserted){var c,u=this.doValidate(r)!==!1;if(u&&i!=null){var f=this.state;this.overwrite===!0&&(c=i.state,i.unshift(this.value.length));var d=this.appendTail(i);u=d.rawInserted===i.toString(),!(u&&d.inserted)&&this.overwrite==="shift"&&(this.state=f,c=i.state,i.shift(),d=this.appendTail(i),u=d.rawInserted===i.toString()),u&&d.inserted&&(this.state=f)}u||(o=new $e,this.state=s,i&&c&&(i.state=c))}return o}},{key:"_appendPlaceholder",value:function(){return new $e}},{key:"_appendEager",value:function(){return new $e}},{key:"append",value:function(n,r,i){if(!Yi(n))throw new Error("value should be string");var s=new $e,o=Yi(i)?new Ln(String(i)):i;r&&r.tail&&(r._beforeTailState=this.state);for(var a=0;a<n.length;++a)s.aggregate(this._appendChar(n[a],r,o));return o!=null&&(s.tailShift+=this.appendTail(o).tailShift),this.eager&&r!==null&&r!==void 0&&r.input&&n&&s.aggregate(this._appendEager()),s}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,n)+this.value.slice(r),new $e}},{key:"withValueRefresh",value:function(n){if(this._refreshing||!this.isInitialized)return n();this._refreshing=!0;var r=this.rawInputValue,i=this.value,s=n();return this.rawInputValue=r,this.value&&this.value!==i&&i.indexOf(this.value)===0&&this.append(i.slice(this.value.length),{},""),delete this._refreshing,s}},{key:"runIsolated",value:function(n){if(this._isolated||!this.isInitialized)return n(this);this._isolated=!0;var r=this.state,i=n(this);return this.state=r,delete this._isolated,i}},{key:"doPrepare",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(n,this,r):n}},{key:"doValidate",value:function(n){return(!this.validate||this.validate(this.value,this,n))&&(!this.parent||this.parent.doValidate(n))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(n){return this.format?this.format(n,this):n}},{key:"doParse",value:function(n){return this.parse?this.parse(n,this):n}},{key:"splice",value:function(n,r,i,s){var o=n+r,a=this.extractTail(o),l;this.eager&&(s=LD(s),l=this.extractInput(0,o,{raw:!0}));var c=this.nearestInputPos(n,r>1&&n!==0&&!this.eager?ue.NONE:s),u=new $e({tailShift:c-n}).aggregate(this.remove(c));if(this.eager&&s!==ue.NONE&&l===this.rawInputValue)if(s===ue.FORCE_LEFT)for(var f;l===this.rawInputValue&&(f=this.value.length);)u.aggregate(new $e({tailShift:-1})).aggregate(this.remove(f-1));else s===ue.FORCE_RIGHT&&a.unshift();return u.aggregate(this.append(i,{input:!0},a))}},{key:"maskEquals",value:function(n){return this.mask===n}}]),t}();bi.DEFAULTS={format:function(e){return e},parse:function(e){return e}};Oe.Masked=bi;function Qg(t){if(t==null)throw new Error("mask property should be defined");return t instanceof RegExp?Oe.MaskedRegExp:Yi(t)?Oe.MaskedPattern:t instanceof Date||t===Date?Oe.MaskedDate:t instanceof Number||typeof t=="number"||t===Number?Oe.MaskedNumber:Array.isArray(t)||t===Array?Oe.MaskedDynamic:Oe.Masked&&t.prototype instanceof Oe.Masked?t:t instanceof Oe.Masked?t.constructor:t instanceof Function?Oe.MaskedFunction:(console.warn("Mask not found for mask",t),Oe.Masked)}function ui(t){if(Oe.Masked&&t instanceof Oe.Masked)return t;t=Object.assign({},t);var e=t.mask;if(Oe.Masked&&e instanceof Oe.Masked)return e;var n=Qg(e);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(t)}Oe.createMask=ui;var VD=["mask"],jD={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},Xg=function(){function t(e){Ue(this,t);var n=e.mask,r=Ro(e,VD);this.masked=ui({mask:n}),Object.assign(this,r)}return qe(t,[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return n===0&&r>=1?(this.isFilled=!1,this.masked.remove(n,r)):new $e}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new $e;var i=this.masked.state,s=this.masked._appendChar(n,r);return s.inserted&&this.doValidate(r)===!1&&(s.inserted=s.rawInserted="",this.masked.state=i),!s.inserted&&!this.isOptional&&!this.lazy&&!r.input&&(s.inserted=this.placeholderChar),s.skip=!s.inserted&&!this.isOptional,this.isFilled=Boolean(s.inserted),s}},{key:"append",value:function(){var n;return(n=this.masked).append.apply(n,arguments)}},{key:"_appendPlaceholder",value:function(){var n=new $e;return this.isFilled||this.isOptional||(this.isFilled=!0,n.inserted=this.placeholderChar),n}},{key:"_appendEager",value:function(){return new $e}},{key:"extractTail",value:function(){var n;return(n=this.masked).extractTail.apply(n,arguments)}},{key:"appendTail",value:function(){var n;return(n=this.masked).appendTail.apply(n,arguments)}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(n,r,i)}},{key:"nearestInputPos",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue.NONE,i=0,s=this.value.length,o=Math.min(Math.max(n,i),s);switch(r){case ue.LEFT:case ue.FORCE_LEFT:return this.isComplete?o:i;case ue.RIGHT:case ue.FORCE_RIGHT:return this.isComplete?o:s;case ue.NONE:default:return o}}},{key:"doValidate",value:function(){var n,r;return(n=this.masked).doValidate.apply(n,arguments)&&(!this.parent||(r=this.parent).doValidate.apply(r,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,isFilled:this.isFilled}},set:function(n){this.masked.state=n.masked,this.isFilled=n.isFilled}}]),t}(),Zg=function(){function t(e){Ue(this,t),Object.assign(this,e),this._value="",this.isFixed=!0}return qe(t,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,n)+this._value.slice(r),this._value||(this._isRawInput=!1),new $e}},{key:"nearestInputPos",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue.NONE,i=0,s=this._value.length;switch(r){case ue.LEFT:case ue.FORCE_LEFT:return i;case ue.NONE:case ue.RIGHT:case ue.FORCE_RIGHT:default:return s}}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.raw&&this._isRawInput&&this._value.slice(n,r)||""}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return Boolean(this._value)}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new $e;if(this._value)return i;var s=this.char===n,o=s&&(this.isUnmasking||r.input||r.raw)&&!this.eager&&!r.tail;return o&&(i.rawInserted=this.char),this._value=i.inserted=this.char,this._isRawInput=o&&(r.raw||r.input),i}},{key:"_appendEager",value:function(){return this._appendChar(this.char)}},{key:"_appendPlaceholder",value:function(){var n=new $e;return this._value||(this._value=n.inserted=this.char),n}},{key:"extractTail",value:function(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new Ln("")}},{key:"appendTail",value:function(n){return Yi(n)&&(n=new Ln(String(n))),n.appendTo(this)}},{key:"append",value:function(n,r,i){var s=this._appendChar(n[0],r);return i!=null&&(s.tailShift+=this.appendTail(i).tailShift),s}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(n){Object.assign(this,n)}}]),t}(),HD=["chunks"],Oh=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ue(this,t),this.chunks=e,this.from=n}return qe(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(n){if(!!String(n)){Yi(n)&&(n=new Ln(String(n)));var r=this.chunks[this.chunks.length-1],i=r&&(r.stop===n.stop||n.stop==null)&&n.from===r.from+r.toString().length;if(n instanceof Ln)i?r.extend(n.toString()):this.chunks.push(n);else if(n instanceof t){if(n.stop==null)for(var s;n.chunks.length&&n.chunks[0].stop==null;)s=n.chunks.shift(),s.from+=n.from,this.extend(s);n.toString()&&(n.stop=n.blockIndex,this.chunks.push(n))}}}},{key:"appendTo",value:function(n){if(!(n instanceof Oe.MaskedPattern)){var r=new Ln(this.toString());return r.appendTo(n)}for(var i=new $e,s=0;s<this.chunks.length&&!i.skip;++s){var o=this.chunks[s],a=n._mapPosToBlock(n.value.length),l=o.stop,c=void 0;if(l!=null&&(!a||a.index<=l)&&((o instanceof t||n._stops.indexOf(l)>=0)&&i.aggregate(n._appendPlaceholder(l)),c=o instanceof t&&n._blocks[l]),c){var u=c.appendTail(o);u.skip=!1,i.aggregate(u),n._value+=u.inserted;var f=o.toString().slice(u.rawInserted.length);f&&i.aggregate(n.append(f,{tail:!0}))}else i.aggregate(n.append(o.toString(),{tail:!0}))}return i}},{key:"state",get:function(){return{chunks:this.chunks.map(function(n){return n.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(n){var r=n.chunks,i=Ro(n,HD);Object.assign(this,i),this.chunks=r.map(function(s){var o="chunks"in s?new t:new Ln;return o.state=s,o})}},{key:"unshift",value:function(n){if(!this.chunks.length||n!=null&&this.from>=n)return"";for(var r=n!=null?n-this.from:n,i=0;i<this.chunks.length;){var s=this.chunks[i],o=s.unshift(r);if(s.toString()){if(!o)break;++i}else this.chunks.splice(i,1);if(o)return o}return""}},{key:"shift",value:function(){if(!this.chunks.length)return"";for(var n=this.chunks.length-1;0<=n;){var r=this.chunks[n],i=r.shift();if(r.toString()){if(!i)break;--n}else this.chunks.splice(n,1);if(i)return i}return""}}]),t}(),zD=function(){function t(e,n){Ue(this,t),this.masked=e,this._log=[];var r=e._mapPosToBlock(n)||(n<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),i=r.offset,s=r.index;this.offset=i,this.index=s,this.ok=!1}return qe(t,[{key:"block",get:function(){return this.masked._blocks[this.index]}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset}},{key:"state",get:function(){return{index:this.index,offset:this.offset,ok:this.ok}},set:function(n){Object.assign(this,n)}},{key:"pushState",value:function(){this._log.push(this.state)}},{key:"popState",value:function(){var n=this._log.pop();return this.state=n,n}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}},{key:"_pushLeft",value:function(n){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((r=this.block)===null||r===void 0?void 0:r.value.length)||0){var r;if(n())return this.ok=!0}return this.ok=!1}},{key:"_pushRight",value:function(n){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(n())return this.ok=!0;return this.ok=!1}},{key:"pushLeftBeforeFilled",value:function(){var n=this;return this._pushLeft(function(){if(!(n.block.isFixed||!n.block.value)&&(n.offset=n.block.nearestInputPos(n.offset,ue.FORCE_LEFT),n.offset!==0))return!0})}},{key:"pushLeftBeforeInput",value:function(){var n=this;return this._pushLeft(function(){if(!n.block.isFixed)return n.offset=n.block.nearestInputPos(n.offset,ue.LEFT),!0})}},{key:"pushLeftBeforeRequired",value:function(){var n=this;return this._pushLeft(function(){if(!(n.block.isFixed||n.block.isOptional&&!n.block.value))return n.offset=n.block.nearestInputPos(n.offset,ue.LEFT),!0})}},{key:"pushRightBeforeFilled",value:function(){var n=this;return this._pushRight(function(){if(!(n.block.isFixed||!n.block.value)&&(n.offset=n.block.nearestInputPos(n.offset,ue.FORCE_RIGHT),n.offset!==n.block.value.length))return!0})}},{key:"pushRightBeforeInput",value:function(){var n=this;return this._pushRight(function(){if(!n.block.isFixed)return n.offset=n.block.nearestInputPos(n.offset,ue.NONE),!0})}},{key:"pushRightBeforeRequired",value:function(){var n=this;return this._pushRight(function(){if(!(n.block.isFixed||n.block.isOptional&&!n.block.value))return n.offset=n.block.nearestInputPos(n.offset,ue.NONE),!0})}}]),t}(),KD=function(t){xn(n,t);var e=Sn(n);function n(){return Ue(this,n),e.apply(this,arguments)}return qe(n,[{key:"_update",value:function(i){i.mask&&(i.validate=function(s){return s.search(i.mask)>=0}),we(de(n.prototype),"_update",this).call(this,i)}}]),n}(bi);Oe.MaskedRegExp=KD;var UD=["_blocks"],Un=function(t){xn(n,t);var e=Sn(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ue(this,n),r.definitions=Object.assign({},jD,r.definitions),e.call(this,Object.assign({},n.DEFAULTS,r))}return qe(n,[{key:"_update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.definitions=Object.assign({},this.definitions,i.definitions),we(de(n.prototype),"_update",this).call(this,i),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var i=this,s=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var o=this.mask;if(!(!o||!s))for(var a=!1,l=!1,c=0;c<o.length;++c){if(this.blocks){var u=function(){var p=o.slice(c),m=Object.keys(i.blocks).filter(function(k){return p.indexOf(k)===0});m.sort(function(k,S){return S.length-k.length});var v=m[0];if(v){var y=ui(Object.assign({parent:i,lazy:i.lazy,eager:i.eager,placeholderChar:i.placeholderChar,overwrite:i.overwrite},i.blocks[v]));return y&&(i._blocks.push(y),i._maskedBlocks[v]||(i._maskedBlocks[v]=[]),i._maskedBlocks[v].push(i._blocks.length-1)),c+=v.length-1,"continue"}}();if(u==="continue")continue}var f=o[c],d=f in s;if(f===n.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(f==="{"||f==="}"){a=!a;continue}if(f==="["||f==="]"){l=!l;continue}if(f===n.ESCAPE_CHAR){if(++c,f=o[c],!f)break;d=!1}var h=d?new Xg({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,mask:s[f],isOptional:l}):new Zg({char:f,eager:this.eager,isUnmasking:a});this._blocks.push(h)}}},{key:"state",get:function(){return Object.assign({},we(de(n.prototype),"state",this),{_blocks:this._blocks.map(function(i){return i.state})})},set:function(i){var s=i._blocks,o=Ro(i,UD);this._blocks.forEach(function(a,l){return a.state=s[l]}),jn(de(n.prototype),"state",o,this,!0)}},{key:"reset",value:function(){we(de(n.prototype),"reset",this).call(this),this._blocks.forEach(function(i){return i.reset()})}},{key:"isComplete",get:function(){return this._blocks.every(function(i){return i.isComplete})}},{key:"isFilled",get:function(){return this._blocks.every(function(i){return i.isFilled})}},{key:"isFixed",get:function(){return this._blocks.every(function(i){return i.isFixed})}},{key:"isOptional",get:function(){return this._blocks.every(function(i){return i.isOptional})}},{key:"doCommit",value:function(){this._blocks.forEach(function(i){return i.doCommit()}),we(de(n.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(i,s){return i+=s.unmaskedValue},"")},set:function(i){jn(de(n.prototype),"unmaskedValue",i,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(i,s){return i+=s.value},"")},set:function(i){jn(de(n.prototype),"value",i,this,!0)}},{key:"appendTail",value:function(i){return we(de(n.prototype),"appendTail",this).call(this,i).aggregate(this._appendPlaceholder())}},{key:"_appendEager",value:function(){var i,s=new $e,o=(i=this._mapPosToBlock(this.value.length))===null||i===void 0?void 0:i.index;if(o==null)return s;this._blocks[o].isFilled&&++o;for(var a=o;a<this._blocks.length;++a){var l=this._blocks[a]._appendEager();if(!l.inserted)break;s.aggregate(l)}return s}},{key:"_appendCharRaw",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this._mapPosToBlock(this.value.length),a=new $e;if(!o)return a;for(var l=o.index;;++l){var c,u=this._blocks[l];if(!u)break;var f=u._appendChar(i,Object.assign({},s,{_beforeTailState:(c=s._beforeTailState)===null||c===void 0?void 0:c._blocks[l]})),d=f.skip;if(a.aggregate(f),d||f.rawInserted)break}return a}},{key:"extractTail",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,a=new Oh;return s===o||this._forEachBlocksInRange(s,o,function(l,c,u,f){var d=l.extractTail(u,f);d.stop=i._findStopBefore(c),d.from=i._blockStartPos(c),d instanceof Oh&&(d.blockIndex=c),a.extend(d)}),a}},{key:"extractInput",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i===s)return"";var a="";return this._forEachBlocksInRange(i,s,function(l,c,u,f){a+=l.extractInput(u,f,o)}),a}},{key:"_findStopBefore",value:function(i){for(var s,o=0;o<this._stops.length;++o){var a=this._stops[o];if(a<=i)s=a;else break}return s}},{key:"_appendPlaceholder",value:function(i){var s=this,o=new $e;if(this.lazy&&i==null)return o;var a=this._mapPosToBlock(this.value.length);if(!a)return o;var l=a.index,c=i!=null?i:this._blocks.length;return this._blocks.slice(l,c).forEach(function(u){if(!u.lazy||i!=null){var f=u._blocks!=null?[u._blocks.length]:[],d=u._appendPlaceholder.apply(u,f);s._value+=d.inserted,o.aggregate(d)}}),o}},{key:"_mapPosToBlock",value:function(i){for(var s="",o=0;o<this._blocks.length;++o){var a=this._blocks[o],l=s.length;if(s+=a.value,i<=s.length)return{index:o,offset:i-l}}}},{key:"_blockStartPos",value:function(i){return this._blocks.slice(0,i).reduce(function(s,o){return s+=o.value.length},0)}},{key:"_forEachBlocksInRange",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,o=arguments.length>2?arguments[2]:void 0,a=this._mapPosToBlock(i);if(a){var l=this._mapPosToBlock(s),c=l&&a.index===l.index,u=a.offset,f=l&&c?l.offset:this._blocks[a.index].value.length;if(o(this._blocks[a.index],a.index,u,f),l&&!c){for(var d=a.index+1;d<l.index;++d)o(this._blocks[d],d,0,this._blocks[d].value.length);o(this._blocks[l.index],l.index,0,l.offset)}}}},{key:"remove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,o=we(de(n.prototype),"remove",this).call(this,i,s);return this._forEachBlocksInRange(i,s,function(a,l,c,u){o.aggregate(a.remove(c,u))}),o}},{key:"nearestInputPos",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue.NONE;if(!this._blocks.length)return 0;var o=new zD(this,i);if(s===ue.NONE)return o.pushRightBeforeInput()||(o.popState(),o.pushLeftBeforeInput())?o.pos:this.value.length;if(s===ue.LEFT||s===ue.FORCE_LEFT){if(s===ue.LEFT){if(o.pushRightBeforeFilled(),o.ok&&o.pos===i)return i;o.popState()}if(o.pushLeftBeforeInput(),o.pushLeftBeforeRequired(),o.pushLeftBeforeFilled(),s===ue.LEFT){if(o.pushRightBeforeInput(),o.pushRightBeforeRequired(),o.ok&&o.pos<=i||(o.popState(),o.ok&&o.pos<=i))return o.pos;o.popState()}return o.ok?o.pos:s===ue.FORCE_LEFT?0:(o.popState(),o.ok||(o.popState(),o.ok)?o.pos:0)}return s===ue.RIGHT||s===ue.FORCE_RIGHT?(o.pushRightBeforeInput(),o.pushRightBeforeRequired(),o.pushRightBeforeFilled()?o.pos:s===ue.FORCE_RIGHT?this.value.length:(o.popState(),o.ok||(o.popState(),o.ok)?o.pos:this.nearestInputPos(i,ue.LEFT))):i}},{key:"maskedBlock",value:function(i){return this.maskedBlocks(i)[0]}},{key:"maskedBlocks",value:function(i){var s=this,o=this._maskedBlocks[i];return o?o.map(function(a){return s._blocks[a]}):[]}}]),n}(bi);Un.DEFAULTS={lazy:!0,placeholderChar:"_"};Un.STOP_CHAR="`";Un.ESCAPE_CHAR="\\";Un.InputDefinition=Xg;Un.FixedDefinition=Zg;Oe.MaskedPattern=Un;var fa=function(t){xn(n,t);var e=Sn(n);function n(){return Ue(this,n),e.apply(this,arguments)}return qe(n,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(i){i=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},i);var s=String(i.to).length;i.maxLength!=null&&(s=Math.max(s,i.maxLength)),i.maxLength=s;for(var o=String(i.from).padStart(s,"0"),a=String(i.to).padStart(s,"0"),l=0;l<a.length&&a[l]===o[l];)++l;i.mask=a.slice(0,l).replace(/0/g,"\\0")+"0".repeat(s-l),we(de(n.prototype),"_update",this).call(this,i)}},{key:"isComplete",get:function(){return we(de(n.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(i){var s="",o="",a=i.match(/^(\D*)(\d*)(\D*)/)||[],l=Bn(a,3),c=l[1],u=l[2];return u&&(s="0".repeat(c.length)+u,o="9".repeat(c.length)+u),s=s.padEnd(this.maxLength,"0"),o=o.padEnd(this.maxLength,"9"),[s,o]}},{key:"doPrepare",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,a=xf(we(de(n.prototype),"doPrepare",this).call(this,i.replace(/\D/g,""),s)),l=Bn(a,2);if(i=l[0],o=l[1],!this.autofix||!i)return i;var c=String(this.from).padStart(this.maxLength,"0"),u=String(this.to).padStart(this.maxLength,"0"),f=this.value+i;if(f.length>this.maxLength)return"";var d=this.boundaries(f),h=Bn(d,2),p=h[0],m=h[1];return Number(m)<this.from?c[f.length-1]:Number(p)>this.to?this.autofix==="pad"&&f.length<this.maxLength?["",o.aggregate(this.append(c[f.length-1]+i,s))]:u[f.length-1]:i}},{key:"doValidate",value:function(){var i,s=this.value,o=s.search(/[^0]/);if(o===-1&&s.length<=this._matchFrom)return!0;for(var a=this.boundaries(s),l=Bn(a,2),c=l[0],u=l[1],f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return this.from<=Number(u)&&Number(c)<=this.to&&(i=we(de(n.prototype),"doValidate",this)).call.apply(i,[this].concat(d))}}]),n}(Un);Oe.MaskedRange=fa;var Sf=function(t){xn(n,t);var e=Sn(n);function n(r){return Ue(this,n),e.call(this,Object.assign({},n.DEFAULTS,r))}return qe(n,[{key:"_update",value:function(i){i.mask===Date&&delete i.mask,i.pattern&&(i.mask=i.pattern);var s=i.blocks;i.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS()),i.min&&(i.blocks.Y.from=i.min.getFullYear()),i.max&&(i.blocks.Y.to=i.max.getFullYear()),i.min&&i.max&&i.blocks.Y.from===i.blocks.Y.to&&(i.blocks.m.from=i.min.getMonth()+1,i.blocks.m.to=i.max.getMonth()+1,i.blocks.m.from===i.blocks.m.to&&(i.blocks.d.from=i.min.getDate(),i.blocks.d.to=i.max.getDate())),Object.assign(i.blocks,this.blocks,s),Object.keys(i.blocks).forEach(function(o){var a=i.blocks[o];!("autofix"in a)&&"autofix"in i&&(a.autofix=i.autofix)}),we(de(n.prototype),"_update",this).call(this,i)}},{key:"doValidate",value:function(){for(var i,s=this.date,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(i=we(de(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))&&(!this.isComplete||this.isDateExist(this.value)&&s!=null&&(this.min==null||this.min<=s)&&(this.max==null||s<=this.max))}},{key:"isDateExist",value:function(i){return this.format(this.parse(i,this),this).indexOf(i)>=0}},{key:"date",get:function(){return this.typedValue},set:function(i){this.typedValue=i}},{key:"typedValue",get:function(){return this.isComplete?we(de(n.prototype),"typedValue",this):null},set:function(i){jn(de(n.prototype),"typedValue",i,this,!0)}},{key:"maskEquals",value:function(i){return i===Date||we(de(n.prototype),"maskEquals",this).call(this,i)}}]),n}(Un);Sf.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(e){if(!e)return"";var n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return[n,r,i].join(".")},parse:function(e){var n=e.split("."),r=Bn(n,3),i=r[0],s=r[1],o=r[2];return new Date(o,s-1,i)}};Sf.GET_DEFAULT_BLOCKS=function(){return{d:{mask:fa,from:1,to:31,maxLength:2},m:{mask:fa,from:1,to:12,maxLength:2},Y:{mask:fa,from:1900,to:9999}}};Oe.MaskedDate=Sf;var wf=function(){function t(){Ue(this,t)}return qe(t,[{key:"selectionStart",get:function(){var n;try{n=this._unsafeSelectionStart}catch{}return n!=null?n:this.value.length}},{key:"selectionEnd",get:function(){var n;try{n=this._unsafeSelectionEnd}catch{}return n!=null?n:this.value.length}},{key:"select",value:function(n,r){if(!(n==null||r==null||n===this.selectionStart&&r===this.selectionEnd))try{this._unsafeSelect(n,r)}catch{}}},{key:"_unsafeSelect",value:function(n,r){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(n){}},{key:"unbindEvents",value:function(){}}]),t}();Oe.MaskElement=wf;var Fl=function(t){xn(n,t);var e=Sn(n);function n(r){var i;return Ue(this,n),i=e.call(this),i.input=r,i._handlers={},i}return qe(n,[{key:"rootElement",get:function(){var i,s,o;return(i=(s=(o=this.input).getRootNode)===null||s===void 0?void 0:s.call(o))!==null&&i!==void 0?i:document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(i,s){this.input.setSelectionRange(i,s)}},{key:"value",get:function(){return this.input.value},set:function(i){this.input.value=i}},{key:"bindEvents",value:function(i){var s=this;Object.keys(i).forEach(function(o){return s._toggleEventHandler(n.EVENTS_MAP[o],i[o])})}},{key:"unbindEvents",value:function(){var i=this;Object.keys(this._handlers).forEach(function(s){return i._toggleEventHandler(s)})}},{key:"_toggleEventHandler",value:function(i,s){this._handlers[i]&&(this.input.removeEventListener(i,this._handlers[i]),delete this._handlers[i]),s&&(this.input.addEventListener(i,s),this._handlers[i]=s)}}]),n}(wf);Fl.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};Oe.HTMLMaskElement=Fl;var ey=function(t){xn(n,t);var e=Sn(n);function n(){return Ue(this,n),e.apply(this,arguments)}return qe(n,[{key:"_unsafeSelectionStart",get:function(){var i=this.rootElement,s=i.getSelection&&i.getSelection(),o=s&&s.anchorOffset,a=s&&s.focusOffset;return a==null||o==null||o<a?o:a}},{key:"_unsafeSelectionEnd",get:function(){var i=this.rootElement,s=i.getSelection&&i.getSelection(),o=s&&s.anchorOffset,a=s&&s.focusOffset;return a==null||o==null||o>a?o:a}},{key:"_unsafeSelect",value:function(i,s){if(!!this.rootElement.createRange){var o=this.rootElement.createRange();o.setStart(this.input.firstChild||this.input,i),o.setEnd(this.input.lastChild||this.input,s);var a=this.rootElement,l=a.getSelection&&a.getSelection();l&&(l.removeAllRanges(),l.addRange(o))}}},{key:"value",get:function(){return this.input.textContent},set:function(i){this.input.textContent=i}}]),n}(Fl);Oe.HTMLContenteditableMaskElement=ey;var qD=["mask"],WD=function(){function t(e,n){Ue(this,t),this.el=e instanceof wf?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new ey(e):new Fl(e),this.masked=ui(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return qe(t,[{key:"mask",get:function(){return this.masked.mask},set:function(n){if(!this.maskEquals(n)){if(!(n instanceof Oe.Masked)&&this.masked.constructor===Qg(n)){this.masked.updateOptions({mask:n});return}var r=ui({mask:n});r.unmaskedValue=this.masked.unmaskedValue,this.masked=r}}},{key:"maskEquals",value:function(n){var r;return n==null||((r=this.masked)===null||r===void 0?void 0:r.maskEquals(n))}},{key:"value",get:function(){return this._value},set:function(n){this.masked.value=n,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(n){this.masked.unmaskedValue=n,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(n){this.masked.typedValue=n,this.updateControl(),this.alignCursor()}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o=this._listeners[n];!o||o.forEach(function(a){return a.apply(void 0,i)})}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(n){!this.el||!this.el.isActive||(this.el.select(n,n),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var n=this.masked.unmaskedValue,r=this.masked.value,i=this.unmaskedValue!==n||this.value!==r;this._unmaskedValue=n,this._value=r,this.el.value!==r&&(this.el.value=r),i&&this._fireChangeEvents()}},{key:"updateOptions",value:function(n){var r=n.mask,i=Ro(n,qD),s=!this.maskEquals(r),o=!mc(this.masked,i);s&&(this.mask=r),o&&this.masked.updateOptions(i),(s||o)&&this.updateControl()}},{key:"updateCursor",value:function(n){n!=null&&(this.cursorPos=n,this._delayUpdateCursor(n))}},{key:"_delayUpdateCursor",value:function(n){var r=this;this._abortUpdateCursor(),this._changingCursorPos=n,this._cursorChanging=setTimeout(function(){!r.el||(r.cursorPos=r._changingCursorPos,r._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,ue.LEFT))}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(n,r){return this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r),this}},{key:"off",value:function(n,r){if(!this._listeners[n])return this;if(!r)return delete this._listeners[n],this;var i=this._listeners[n].indexOf(r);return i>=0&&this._listeners[n].splice(i,1),this}},{key:"_onInput",value:function(n){if(this._inputEvent=n,this._abortUpdateCursor(),!this._selection)return this.updateValue();var r=new $D(this.el.value,this.cursorPos,this.value,this._selection),i=this.masked.rawInputValue,s=this.masked.splice(r.startChangePos,r.removed.length,r.inserted,r.removeDirection).offset,o=i===this.masked.rawInputValue?r.removeDirection:ue.NONE,a=this.masked.nearestInputPos(r.startChangePos+s,o);o!==ue.NONE&&(a=this.masked.nearestInputPos(a,ue.NONE)),this.updateControl(),this.updateCursor(a),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_onFocus",value:function(n){this.alignCursorFriendly()}},{key:"_onClick",value:function(n){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),t}();Oe.InputMask=WD;var JD=function(t){xn(n,t);var e=Sn(n);function n(){return Ue(this,n),e.apply(this,arguments)}return qe(n,[{key:"_update",value:function(i){i.enum&&(i.mask="*".repeat(i.enum[0].length)),we(de(n.prototype),"_update",this).call(this,i)}},{key:"doValidate",value:function(){for(var i=this,s,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return this.enum.some(function(c){return c.indexOf(i.unmaskedValue)>=0})&&(s=we(de(n.prototype),"doValidate",this)).call.apply(s,[this].concat(a))}}]),n}(Un);Oe.MaskedEnum=JD;var ty=function(t){xn(n,t);var e=Sn(n);function n(r){return Ue(this,n),e.call(this,Object.assign({},n.DEFAULTS,r))}return qe(n,[{key:"_update",value:function(i){we(de(n.prototype),"_update",this).call(this,i),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var i="^"+(this.allowNegative?"[+|\\-]?":""),s="(0|([1-9]+\\d*))?",o="\\d*",a=(this.scale?"("+au(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(i+s+a),this._numberRegExp=new RegExp(i+o+a),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(au).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(au(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(i){return i.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(i){var s=i.split(this.radix);return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),s.join(this.radix)}},{key:"doPrepare",value:function(i){var s;i=i.replace(this._mapToRadixRegExp,this.radix);for(var o=this._removeThousandsSeparators(i),a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];var u=xf((s=we(de(n.prototype),"doPrepare",this)).call.apply(s,[this,o].concat(l))),f=Bn(u,2),d=f[0],h=f[1];return i&&!o&&(h.skip=!0),[d,h]}},{key:"_separatorsCount",value:function(i){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=0,a=0;a<i;++a)this._value.indexOf(this.thousandsSeparator,a)===a&&(++o,s&&(i+=this.thousandsSeparator.length));return o}},{key:"_separatorsCountFromSlice",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(i).length,!0)}},{key:"extractInput",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,o=arguments.length>2?arguments[2]:void 0,a=this._adjustRangeWithSeparators(i,s),l=Bn(a,2);return i=l[0],s=l[1],this._removeThousandsSeparators(we(de(n.prototype),"extractInput",this).call(this,i,s,o))}},{key:"_appendCharRaw",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return we(de(n.prototype),"_appendCharRaw",this).call(this,i,s);var o=s.tail&&s._beforeTailState?s._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(o);this._value=this._removeThousandsSeparators(this.value);var l=we(de(n.prototype),"_appendCharRaw",this).call(this,i,s);this._value=this._insertThousandsSeparators(this._value);var c=s.tail&&s._beforeTailState?s._beforeTailState._value:this._value,u=this._separatorsCountFromSlice(c);return l.tailShift+=(u-a)*this.thousandsSeparator.length,l.skip=!l.rawInserted&&i===this.thousandsSeparator,l}},{key:"_findSeparatorAround",value:function(i){if(this.thousandsSeparator){var s=i-this.thousandsSeparator.length+1,o=this.value.indexOf(this.thousandsSeparator,s);if(o<=i)return o}return-1}},{key:"_adjustRangeWithSeparators",value:function(i,s){var o=this._findSeparatorAround(i);o>=0&&(i=o);var a=this._findSeparatorAround(s);return a>=0&&(s=a+this.thousandsSeparator.length),[i,s]}},{key:"remove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,o=this._adjustRangeWithSeparators(i,s),a=Bn(o,2);i=a[0],s=a[1];var l=this.value.slice(0,i),c=this.value.slice(s),u=this._separatorsCount(l.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(l+c));var f=this._separatorsCountFromSlice(l);return new $e({tailShift:(f-u)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(i,s){if(!this.thousandsSeparator)return i;switch(s){case ue.NONE:case ue.LEFT:case ue.FORCE_LEFT:{var o=this._findSeparatorAround(i-1);if(o>=0){var a=o+this.thousandsSeparator.length;if(i<a||this.value.length<=a||s===ue.FORCE_LEFT)return o}break}case ue.RIGHT:case ue.FORCE_RIGHT:{var l=this._findSeparatorAround(i);if(l>=0)return l+this.thousandsSeparator.length}}return i}},{key:"doValidate",value:function(i){var s=i.input?this._numberRegExpInput:this._numberRegExp,o=s.test(this._removeThousandsSeparators(this.value));if(o){var a=this.number;o=o&&!isNaN(a)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return o&&we(de(n.prototype),"doValidate",this).call(this,i)}},{key:"doCommit",value:function(){if(this.value){var i=this.number,s=i;this.min!=null&&(s=Math.max(s,this.min)),this.max!=null&&(s=Math.min(s,this.max)),s!==i&&(this.unmaskedValue=String(s));var o=this.value;this.normalizeZeros&&(o=this._normalizeZeros(o)),this.padFractionalZeros&&this.scale>0&&(o=this._padFractionalZeros(o)),this._value=o}we(de(n.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(i){var s=this._removeThousandsSeparators(i).split(this.radix);return s[0]=s[0].replace(/^(\D*)(0*)(\d*)/,function(o,a,l,c){return a+c}),i.length&&!/\d$/.test(s[0])&&(s[0]=s[0]+"0"),s.length>1&&(s[1]=s[1].replace(/0*$/,""),s[1].length||(s.length=1)),this._insertThousandsSeparators(s.join(this.radix))}},{key:"_padFractionalZeros",value:function(i){if(!i)return i;var s=i.split(this.radix);return s.length<2&&s.push(""),s[1]=s[1].padEnd(this.scale,"0"),s.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(i){jn(de(n.prototype),"unmaskedValue",i.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(i){jn(de(n.prototype),"unmaskedValue",String(i),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(i){this.typedValue=i}},{key:"allowNegative",get:function(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}}]),n}(bi);ty.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};Oe.MaskedNumber=ty;var GD=function(t){xn(n,t);var e=Sn(n);function n(){return Ue(this,n),e.apply(this,arguments)}return qe(n,[{key:"_update",value:function(i){i.mask&&(i.validate=i.mask),we(de(n.prototype),"_update",this).call(this,i)}}]),n}(bi);Oe.MaskedFunction=GD;var YD=["compiledMasks","currentMaskRef","currentMask"],ny=function(t){xn(n,t);var e=Sn(n);function n(r){var i;return Ue(this,n),i=e.call(this,Object.assign({},n.DEFAULTS,r)),i.currentMask=null,i}return qe(n,[{key:"_update",value:function(i){we(de(n.prototype),"_update",this).call(this,i),"mask"in i&&(this.compiledMasks=Array.isArray(i.mask)?i.mask.map(function(s){return ui(s)}):[])}},{key:"_appendCharRaw",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this._applyDispatch(i,s);return this.currentMask&&o.aggregate(this.currentMask._appendChar(i,s)),o}},{key:"_applyDispatch",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.tail&&s._beforeTailState!=null?s._beforeTailState._value:this.value,a=this.rawInputValue,l=s.tail&&s._beforeTailState!=null?s._beforeTailState._rawInputValue:a,c=a.slice(l.length),u=this.currentMask,f=new $e,d=u&&u.state;if(this.currentMask=this.doDispatch(i,Object.assign({},s)),this.currentMask)if(this.currentMask!==u){if(this.currentMask.reset(),l){var h=this.currentMask.append(l,{raw:!0});f.tailShift=h.inserted.length-o.length}c&&(f.tailShift+=this.currentMask.append(c,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=d;return f}},{key:"_appendPlaceholder",value:function(){var i=this._applyDispatch.apply(this,arguments);return this.currentMask&&i.aggregate(this.currentMask._appendPlaceholder()),i}},{key:"_appendEager",value:function(){var i=this._applyDispatch.apply(this,arguments);return this.currentMask&&i.aggregate(this.currentMask._appendEager()),i}},{key:"doDispatch",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.dispatch(i,this,s)}},{key:"doValidate",value:function(){for(var i,s,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(i=we(de(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))&&(!this.currentMask||(s=this.currentMask).doValidate.apply(s,a))}},{key:"reset",value:function(){var i;(i=this.currentMask)===null||i===void 0||i.reset(),this.compiledMasks.forEach(function(s){return s.reset()})}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(i){jn(de(n.prototype),"value",i,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(i){jn(de(n.prototype),"unmaskedValue",i,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(i){var s=String(i);this.currentMask&&(this.currentMask.typedValue=i,s=this.currentMask.unmaskedValue),this.unmaskedValue=s}},{key:"isComplete",get:function(){var i;return Boolean((i=this.currentMask)===null||i===void 0?void 0:i.isComplete)}},{key:"isFilled",get:function(){var i;return Boolean((i=this.currentMask)===null||i===void 0?void 0:i.isFilled)}},{key:"remove",value:function(){var i=new $e;if(this.currentMask){var s;i.aggregate((s=this.currentMask).remove.apply(s,arguments)).aggregate(this._applyDispatch())}return i}},{key:"state",get:function(){return Object.assign({},we(de(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(i){return i.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(i){var s=i.compiledMasks,o=i.currentMaskRef,a=i.currentMask,l=Ro(i,YD);this.compiledMasks.forEach(function(c,u){return c.state=s[u]}),o!=null&&(this.currentMask=o,this.currentMask.state=a),jn(de(n.prototype),"state",l,this,!0)}},{key:"extractInput",value:function(){var i;return this.currentMask?(i=this.currentMask).extractInput.apply(i,arguments):""}},{key:"extractTail",value:function(){for(var i,s,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return this.currentMask?(i=this.currentMask).extractTail.apply(i,a):(s=we(de(n.prototype),"extractTail",this)).call.apply(s,[this].concat(a))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),we(de(n.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var i,s,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return this.currentMask?(i=this.currentMask).nearestInputPos.apply(i,a):(s=we(de(n.prototype),"nearestInputPos",this)).call.apply(s,[this].concat(a))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:we(de(n.prototype),"overwrite",this)},set:function(i){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:we(de(n.prototype),"eager",this)},set:function(i){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}},{key:"maskEquals",value:function(i){return Array.isArray(i)&&this.compiledMasks.every(function(s,o){var a;return s.maskEquals((a=i[o])===null||a===void 0?void 0:a.mask)})}}]),n}(bi);ny.DEFAULTS={dispatch:function(e,n,r){if(!!n.compiledMasks.length){var i=n.rawInputValue,s=n.compiledMasks.map(function(o,a){o.reset(),o.append(i,{raw:!0}),o.append(e,r);var l=o.rawInputValue.length;return{weight:l,index:a}});return s.sort(function(o,a){return a.weight-o.weight}),n.compiledMasks[s[0].index]}}};Oe.MaskedDynamic=ny;var gc={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function ry(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gc.MASKED,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gc.MASKED,r=ui(t);return function(i){return r.runIsolated(function(s){return s[e]=i,s[n]})}}function QD(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ry.apply(void 0,n)(t)}Oe.PIPE_TYPE=gc;Oe.createPipe=ry;Oe.pipe=QD;try{globalThis.IMask=Oe}catch{}function nt(t){this.content=t}nt.prototype={constructor:nt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new nt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new nt(n)},addToStart:function(t,e){return new nt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new nt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new nt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=nt.from(t),t.size?new nt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=nt.from(t),t.size?new nt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=nt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}};nt.from=function(t){if(t instanceof nt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new nt(e)};function iy(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=iy(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function sy(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=sy(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class R{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(s+=a.text.slice(Math.max(e,l)-l,n-l),o=!r):a.isLeaf?(i?s+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(s+=a.type.spec.leafText(a)),o=!r):!o&&a.isBlock&&(s+=r,o=!0)},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new R(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new R(r,i)}cutByIndex(e,n){return e==n?R.empty:e==0&&n==this.content.length?this:new R(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new R(i,s)}addToStart(e){return new R([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new R(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return iy(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return sy(this,e,n,r)}findIndex(e,n=-1){if(e==0)return ea(0,e);if(e==this.size)return ea(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?ea(r+1,o):ea(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return R.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new R(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return R.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new R(n||e,r)}static from(e){if(!e)return R.empty;if(e instanceof R)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new R([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}R.empty=new R([],0);const lu={index:0,offset:0};function ea(t,e){return lu.index=t,lu.offset=e,lu}function Ta(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Ta(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Ta(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Re{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ta(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Re.none;if(e instanceof Re)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Re.none=[];class ko extends Error{}class J{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=ay(this.content,e+this.openStart,n);return r&&new J(r,this.openStart,this.openEnd)}removeBetween(e,n){return new J(oy(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return J.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(R.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new J(e,r,i)}}J.empty=new J(R.empty,0,0);function oy(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(oy(s.content,e-i-1,n-i-1)))}function ay(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=ay(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function XD(t,e,n){if(n.openStart>t.depth)throw new ko("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ko("Inconsistent open depths");return ly(t,e,n,0)}function ly(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=ly(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return ti(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=ZD(n,t);return ti(s,cy(t,o,a,e,r))}else return ti(s,Ma(t,e,r))}function uy(t,e){if(!e.type.compatibleContent(t.type))throw new ko("Cannot join "+e.type.name+" onto "+t.type.name)}function yc(t,e,n){let r=t.node(n);return uy(r,e.node(n)),r}function ei(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Zs(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ei(t.nodeAfter,r),s++));for(let a=s;a<o;a++)ei(i.child(a),r);e&&e.depth==n&&e.textOffset&&ei(e.nodeBefore,r)}function ti(t,e){if(!t.type.validContent(e))throw new ko("Invalid content for node "+t.type.name);return t.copy(e)}function cy(t,e,n,r,i){let s=t.depth>i&&yc(t,e,i+1),o=r.depth>i&&yc(n,r,i+1),a=[];return Zs(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(uy(s,o),ei(ti(s,cy(t,e,n,r,i+1)),a)):(s&&ei(ti(s,Ma(t,e,i+1)),a),Zs(e,n,i,a),o&&ei(ti(o,Ma(n,r,i+1)),a)),Zs(r,null,i,a),new R(a)}function Ma(t,e,n){let r=[];if(Zs(null,t,n,r),t.depth>n){let i=yc(t,e,n+1);ei(ti(i,Ma(t,e,n+1)),r)}return Zs(e,null,n,r),new R(r)}function ZD(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(R.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Co{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Re.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new _a(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Co(n,r,s)}static resolveCached(e,n){for(let i=0;i<uu.length;i++){let s=uu[i];if(s.pos==n&&s.doc==e)return s}let r=uu[cu]=Co.resolve(e,n);return cu=(cu+1)%eE,r}}let uu=[],cu=0,eE=12;class _a{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const tE=Object.create(null);class bn{constructor(e,n,r,i=Re.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||R.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Ta(this.attrs,n||e.defaultAttrs||tE)&&Re.sameSet(this.marks,r||Re.none)}copy(e=null){return e==this.content?this:new bn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new bn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return J.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new J(c,i.depth-o,s.depth-o)}replace(e,n,r){return XD(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Co.resolveCached(this,e)}resolveNoCache(e){return Co.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),fy(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=R.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Re.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=R.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}bn.prototype.text=void 0;class Fa extends bn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):fy(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Fa(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Fa(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function fy(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ci{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new nE(e,n);if(r.next==null)return ci.empty;let i=dy(r);r.next&&r.err("Unexpected trailing text");let s=uE(lE(i));return cE(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return R.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=s(f,a.concat(u));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}ci.empty=new ci(!0);class nE{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function dy(t){let e=[];do e.push(rE(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function rE(t){let e=[];do e.push(iE(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function iE(t){let e=aE(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=sE(t,e);else break;return e}function Th(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function sE(t,e){let n=Th(t),r=n;return t.eat(",")&&(t.next!="}"?r=Th(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function oE(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function aE(t){if(t.eat("(")){let e=dy(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=oE(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function lE(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function hy(t,e){return e-t}function Mh(t,e){let n=[];return r(e),n.sort(hy);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function uE(t){let e=Object.create(null);return n(Mh(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Mh(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new ci(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(hy);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function cE(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function py(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function my(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function gy(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new fE(t[n]);return e}class Pa{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=gy(r.attrs),this.defaultAttrs=py(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ci.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:my(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new bn(this,this.computeAttrs(e),R.from(n),Re.setFrom(r))}createChecked(e=null,n,r){if(n=R.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new bn(this,this.computeAttrs(e),n,Re.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=R.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(R.empty,!0);return s?new bn(this,e,n.append(s),Re.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Re.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new Pa(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class fE{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Pl{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=gy(i.attrs),this.excluded=null;let s=py(this.attrs);this.instance=s?new Re(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Re(this,my(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Pl(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class dE{constructor(e){this.cached=Object.create(null),this.spec={nodes:nt.from(e.nodes),marks:nt.from(e.marks||{}),topNode:e.topNode},this.nodes=Pa.compile(this.spec.nodes,this),this.marks=Pl.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",o=i.spec.marks;i.contentMatch=n[s]||(n[s]=ci.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=o=="_"?null:o?_h(this,o.split(" ")):o==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:_h(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Pa){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Fa(r,r.defaultAttrs,e,Re.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return bn.fromJSON(this,e)}markFromJSON(e){return Re.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function _h(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class fi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Ph(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Ph(this,n,!0);return r.addAll(e,n.from,n.to),J.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(mE(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Nh(o)),o.mark=i})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Nh(o)),o.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new fi(e,fi.schemaRules(e)))}}const yy={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hE={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vy={ol:!0,ul:!0},Na=1,Ra=2,eo=4;function Fh(t,e,n){return e!=null?(e?Na:0)|(e==="full"?Ra:0):t&&t.whitespace=="pre"?Na|Ra:n&~eo}class ta{constructor(e,n,r,i,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=Re.none,this.stashMarks=[],this.match=o||(a&eo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(R.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Na)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=R.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(R.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):yE(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!yy.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Ph{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=Fh(null,n.preserveWhitespace,0)|(r?eo:0);i?s=new ta(i.type,i.attrs,Re.none,Re.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new ta(null,null,Re.none,Re.none,!0,null,o):s=new ta(e.schema.topNodeType,null,Re.none,Re.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(gE(n)):null,i=this.top;if(r!=null)for(let s=0;s<r.length;s++)this.addPendingMark(r[s]);if(this.addElement(e),r!=null)for(let s=0;s<r.length;s++)this.removePendingMark(r[s],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Ra||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Na)r.options&Ra?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;vy.hasOwnProperty(r)&&this.parser.normalizeLists&&pE(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(s?s.ignore:hE.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let o,a=this.top,l=this.needsBlock;if(yy.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,s,s.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Re.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let s=this.parser.matchStyle(e[r],e[r+1],this,i);if(!s)continue e;if(s.ignore)return null;if(n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)i=s;else break}return n}addElementByRule(e,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let o=Fh(e,i,s.options);s.options&eo&&s.content.length==0&&(o|=eo),this.nodes.push(new ta(e,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=vE(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function pE(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&vy.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function mE(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gE(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Nh(t){let e={};for(let n in t)e[n]=t[n];return e}function yE(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}function vE(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Wt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=fu(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Wt.renderSpec(fu(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Wt.renderSpec(fu(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let f=u.indexOf(" ");f>0?a.setAttributeNS(u.slice(0,f),u.slice(f+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let f=n[u];if(f===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:d,contentDOM:h}=Wt.renderSpec(e,f,r);if(a.appendChild(d),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:a,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Wt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Rh(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Rh(e.marks)}}function Rh(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function fu(t){return t.document||window.document}const by=65535,ky=Math.pow(2,16);function bE(t,e){return t+e*ky}function Ih(t){return t&by}function kE(t){return(t-(t&by))/ky}const Cy=1,Dy=2,da=4,Ey=8;class vc{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Ey)>0}get deletedBefore(){return(this.delInfo&(Cy|da))>0}get deletedAfter(){return(this.delInfo&(Dy|da))>0}get deletedAcross(){return(this.delInfo&da)>0}}class Zt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Zt.empty)return Zt.empty}recover(e){let n=0,r=Ih(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+kE(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],f=l+c;if(e<=f){let d=c?e==l?-1:e==f?1:n:n,h=l+i+(d<0?0:u);if(r)return h;let p=e==(n<0?l:f)?null:bE(a/3,e-l),m=e==l?Dy:e==f?Cy:da;return(n<0?e!=l:e!=f)&&(m|=Ey),new vc(h,m,p)}i+=u-c}return r?e+i:new vc(e+i,0,null)}touches(e,n){let r=0,i=Ih(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new Zt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zt.empty:new Zt(e<0?[0,-e,0]:[0,0,e])}}Zt.empty=new Zt([]);class Qi{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Qi(this.maps,this.mirror,e,n)}copy(){return new Qi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Qi;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new vc(e,i,null)}}const du=Object.create(null);class Er{getMap(){return Zt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=du[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in du)throw new RangeError("Duplicate use of step JSON ID "+e);return du[e]=n,n.prototype.jsonID=e,n}}class Nt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Nt(e,null)}static fail(e){return new Nt(null,e)}static fromReplace(e,n,r,i){try{return Nt.ok(e.replace(n,r,i))}catch(s){if(s instanceof ko)return Nt.fail(s.message);throw s}}}function Of(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Of(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return R.fromArray(r)}class ur extends Er{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new J(Of(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Nt.fromReplace(e,this.from,this.to,s)}invert(){return new gn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ur(n.pos,r.pos,this.mark)}merge(e){return e instanceof ur&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ur(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ur(n.from,n.to,e.markFromJSON(n.mark))}}Er.jsonID("addMark",ur);class gn extends Er{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new J(Of(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Nt.fromReplace(e,this.from,this.to,r)}invert(){return new ur(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gn(n.pos,r.pos,this.mark)}merge(e){return e instanceof gn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new gn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new gn(n.from,n.to,e.markFromJSON(n.mark))}}Er.jsonID("removeMark",gn);class ft extends Er{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&bc(e,this.from,this.to)?Nt.fail("Structure replace would overwrite content"):Nt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zt([this.from,this.to-this.from,this.slice.size])}invert(e){return new ft(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ft(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ft)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ft(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ft(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ft(n.from,n.to,J.fromJSON(e,n.slice),!!n.structure)}}Er.jsonID("replace",ft);class Ze extends Er{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(bc(e,this.from,this.gapFrom)||bc(e,this.gapTo,this.to)))return Nt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Nt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Nt.fromReplace(e,this.from,this.to,r):Nt.fail("Content does not fit in gap")}getMap(){return new Zt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ze(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ze(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ze(n.from,n.to,n.gapFrom,n.gapTo,J.fromJSON(e,n.slice),n.insert,!!n.structure)}}Er.jsonID("replaceAround",Ze);function bc(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function CE(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let d=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(p)||(o&&o.to==d&&o.mark.eq(f[m])?o.to=h:i.push(o=new gn(d,h,f[m])));a&&a.to==d?a.to=h:s.push(a=new ur(d,h,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function DE(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Pl){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=c,d.step=s):i.push({style:f,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new gn(o.from,o.to,o.style)))}function EE(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),s=[],o=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=o+l.nodeSize,u=r.matchType(l.type);if(!u)s.push(new ft(o,c,J.empty));else{r=u;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||t.step(new gn(o,c,l.marks[f]))}o=c}if(!r.validEnd){let a=r.fillBefore(R.empty,!0);t.replace(o,o,new J(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function AE(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ds(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!AE(i,s,o))break}return null}function xE(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=R.empty,f=0;for(let p=s,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,u=R.from(r.node(p).copy(u)),f++):l--;let d=R.empty,h=0;for(let p=s,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,d=R.from(i.node(p).copy(d)),h++):c++;t.step(new Ze(l,c,o,a,new J(u.append(d),f,h),u.size-f,!0))}function Tf(t,e,n=null,r=t){let i=SE(t,e),s=i&&wE(r,e);return s?i.map(Bh).concat({type:e,attrs:n}).concat(s.map(Bh)):null}function Bh(t){return{type:t,attrs:null}}function SE(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function wE(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function OE(t,e,n){let r=R.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=R.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Ze(i,s,i,s,new J(r,0,0),n.length,!0))}function TE(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&ME(t.doc,t.mapping.slice(s).map(a),r)){t.clearIncompatible(t.mapping.slice(s).map(a,1),r);let l=t.mapping.slice(s),c=l.map(a,1),u=l.map(a+o.nodeSize,1);return t.step(new Ze(c,u,c+1,u-1,new J(R.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function ME(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function _E(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ze(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new J(R.from(o),0,0),1,!0))}function Xi(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=r&&r[u]||f;if(p!=f&&(h=h.replaceChild(0,p.type.create(p.attrs))),!f.canReplace(d+1,f.childCount)||!p.type.validContent(h))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function FE(t,e,n=1,r){let i=t.doc.resolve(e),s=R.empty,o=R.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=R.from(i.node(a).copy(s));let u=r&&r[c];o=R.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new ft(e,e,new J(s.append(o),n,n),!0))}function Io(t,e){let n=t.resolve(e),r=n.index();return PE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function PE(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function NE(t,e,n){let r=new ft(e-n,e+n,J.empty,!0);t.step(r)}function RE(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Mf(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function _f(t,e,n=e,r=J.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return Ay(i,s,r)?new ft(e,n,r):new IE(i,s,r).fit()}function Ay(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class IE{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=R.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=R.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new J(s,o,a);return e>-1?new Ze(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ft(r.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=hu(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let o=this.depth;o>=0;o--){let{type:a,match:l}=this.frontier[o],c,u=null;if(e==1&&(s?l.matchType(s.type)||(u=l.fillBefore(R.from(s),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:o,parent:i,inject:u};if(e==2&&s&&(c=l.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:o,parent:i,wrap:c};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=hu(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new J(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=hu(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new J($s(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new J($s(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:d}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));f=f.matchFragment(i)}let h=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),v=f.matchType(m.type);if(!v)break;c++,(c>1||l==0||m.content.size)&&(f=v,u.push(xy(m.mark(d.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=Vs(this.placed,n,R.from(u)),this.frontier[n].match=f,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=a;m<h;m++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=p?e==0?J.empty:new J($s(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new J($s(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!pu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=pu(e,n,i,r,s);if(!!o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=pu(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Vs(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Vs(this.placed,this.depth,R.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(R.empty,!0);n.childCount&&(this.placed=Vs(this.placed,this.frontier.length,n))}}function $s(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy($s(t.firstChild.content,e-1,n)))}function Vs(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Vs(t.lastChild.content,e-1,n)))}function hu(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function xy(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,xy(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(R.empty,!0)))),t.copy(r)}function pu(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!BE(n,s.content,o)?a:null}function BE(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function LE(t){return t.spec.defining||t.spec.definingForContent}function $E(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(Ay(i,s,r))return t.step(new ft(e,n,r));let o=wy(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?a=d:i.before(d)==h&&o.splice(1,0,-d)}let l=o.indexOf(a),c=[],u=r.openStart;for(let d=r.content,h=0;;h++){let p=d.firstChild;if(c.push(p),h==r.openStart)break;d=p.content}for(let d=u-1;d>=0;d--){let h=c[d].type,p=LE(h);if(p&&i.node(l).type!=h)u=d;else if(p||!h.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+u+1)%(r.openStart+1),p=c[h];if(!!p)for(let m=0;m<o.length;m++){let v=o[(m+l)%o.length],y=!0;v<0&&(y=!1,v=-v);let k=i.node(v-1),S=i.index(v-1);if(k.canReplaceWith(S,S,p.type,p.marks))return t.replace(i.before(v),y?s.after(v):n,new J(Sy(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let d=o.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let h=o[d];h<0||(e=i.before(h),n=s.after(h))}}function Sy(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Sy(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(R.empty,!0))}return t}function VE(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=RE(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new J(R.from(r),0,0))}function jE(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=wy(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function wy(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}let as=class extends Error{};as=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};as.prototype=Object.create(Error.prototype);as.prototype.constructor=as;as.prototype.name="TransformError";class Oy{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Qi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new as(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=J.empty){let i=_f(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new J(R.from(r),0,0))}delete(e,n){return this.replace(e,n,J.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return $E(this,e,n,r),this}replaceRangeWith(e,n,r){return VE(this,e,n,r),this}deleteRange(e,n){return jE(this,e,n),this}lift(e,n){return xE(this,e,n),this}join(e,n=1){return NE(this,e,n),this}wrap(e,n){return OE(this,e,n),this}setBlockType(e,n=e,r,i=null){return TE(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return _E(this,e,n,r,i),this}split(e,n=1,r){return FE(this,e,n,r),this}addMark(e,n,r){return CE(this,e,n,r),this}removeMark(e,n,r){return DE(this,e,n,r),this}clearIncompatible(e,n,r){return EE(this,e,n,r),this}}const mu=Object.create(null);class me{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new HE(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=J.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?J.empty:n),a==0&&Vh(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),Vh(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ae(e):Fi(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Fi(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Fi(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Gt(e.node(0))}static atStart(e){return Fi(e,e,0,0,1)||new Gt(e)}static atEnd(e){return Fi(e,e,e.content.size,e.childCount,-1)||new Gt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=mu[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in mu)throw new RangeError("Duplicate use of selection JSON ID "+e);return mu[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ae.between(this.$anchor,this.$head).getBookmark()}}me.prototype.visible=!0;class HE{constructor(e,n){this.$from=e,this.$to=n}}let Lh=!1;function $h(t){!Lh&&!t.parent.inlineContent&&(Lh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ae extends me{constructor(e,n=e){$h(e),$h(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return me.near(r);let i=e.resolve(n.map(this.anchor));return new ae(i.parent.inlineContent?i:r,r)}replace(e,n=J.empty){if(super.replace(e,n),n==J.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ae&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Nl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ae(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=me.findFrom(n,r,!0)||me.findFrom(n,-r,!0);if(s)n=s.$head;else return me.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(me.findFrom(e,-r,!0)||me.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ae(e,n)}}me.jsonID("text",ae);class Nl{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Nl(e.map(this.anchor),e.map(this.head))}resolve(e){return ae.between(e.resolve(this.anchor),e.resolve(this.head))}}class Y extends me{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?me.near(s):new Y(s)}content(){return new J(R.from(this.node),0,0)}eq(e){return e instanceof Y&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ff(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Y(e.resolve(n.anchor))}static create(e,n){return new Y(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Y.prototype.visible=!1;me.jsonID("node",Y);class Ff{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Nl(r,r):new Ff(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Y.isSelectable(r)?new Y(n):me.near(n)}}class Gt extends me{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=J.empty){if(n==J.empty){e.delete(0,e.doc.content.size);let r=me.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gt(e)}map(e){return new Gt(e)}eq(e){return e instanceof Gt}getBookmark(){return zE}}me.jsonID("all",Gt);const zE={map(){return this},resolve(t){return new Gt(t)}};function Fi(t,e,n,r,i,s=!1){if(e.inlineContent)return ae.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Y.isSelectable(a))return Y.create(t,n-(i<0?a.nodeSize:0))}else{let l=Fi(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function Vh(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ft||i instanceof Ze))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(me.near(t.doc.resolve(o),n))}const jh=1,na=2,Hh=4;class KE extends Oy{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|jh)&~na,this.storedMarks=null,this}get selectionSet(){return(this.updated&jh)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=na,this}ensureMarks(e){return Re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&na)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~na,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Re.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(me.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Hh,this}get scrolledIntoView(){return(this.updated&Hh)>0}}function zh(t,e){return!e||!t?t:t.bind(e)}class js{constructor(e,n,r){this.name=e,this.init=zh(n.init,r),this.apply=zh(n.apply,r)}}const UE=[new js("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new js("selection",{init(t,e){return t.selection||me.atStart(e.doc)},apply(t){return t.selection}}),new js("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new js("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class gu{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=UE.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new js(r.key,r.spec.state,r))})}}class Li{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Li(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new KE(this)}static create(e){let n=new gu(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Li(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new gu(this.schema,e.plugins),r=n.fields,i=new Li(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new gu(e.schema,e.plugins),s=new Li(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=bn.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=me.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function Ty(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Ty(i,e,{})),n[r]=i}return n}class st{constructor(e){this.spec=e,this.props={},e.props&&Ty(e.props,this,this.props),this.key=e.key?e.key.key:My("plugin")}getState(e){return e[this.key]}}const yu=Object.create(null);function My(t){return t in yu?t+"$"+ ++yu[t]:(yu[t]=0,t+"$")}class $t{constructor(e="key"){this.key=My(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const br=typeof navigator!="undefined"?navigator:null,Kh=typeof document!="undefined"?document:null,Ar=br&&br.userAgent||"",kc=/Edge\/(\d+)/.exec(Ar),_y=/MSIE \d/.exec(Ar),Cc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ar),Rt=!!(_y||Cc||kc),dr=_y?document.documentMode:Cc?+Cc[1]:kc?+kc[1]:0,Cn=!Rt&&/gecko\/(\d+)/i.test(Ar);Cn&&+(/Firefox\/(\d+)/.exec(Ar)||[0,0])[1];const Dc=!Rt&&/Chrome\/(\d+)/.exec(Ar),gt=!!Dc,qE=Dc?+Dc[1]:0,Et=!Rt&&!!br&&/Apple Computer/.test(br.vendor),ls=Et&&(/Mobile\/\w+/.test(Ar)||!!br&&br.maxTouchPoints>2),Kt=ls||(br?/Mac/.test(br.platform):!1),pn=/Android \d/.test(Ar),Rl=!!Kh&&"webkitFontSmoothing"in Kh.documentElement.style,WE=Rl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Tt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Pf=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Uh=null;const _n=function(t,e,n){let r=Uh||(Uh=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},Do=function(t,e,n,r){return n&&(qh(t,e,n,r,-1)||qh(t,e,n,r,1))},JE=/^(img|br|input|textarea|hr)$/i;function qh(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:mn(t))){let s=t.parentNode;if(!s||s.nodeType!=1||YE(t)||JE.test(t.nodeName)||t.contentEditable=="false")return!1;e=Tt(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?mn(t):0}else return!1}}function mn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function GE(t,e,n){for(let r=e==0,i=e==mn(t);r||i;){if(t==n)return!0;let s=Tt(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==mn(t)}}function YE(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Nf=function(t){let e=t.isCollapsed;return e&&gt&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function $i(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function QE(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Zn(t,e){return typeof t=="number"?t:t[e]}function XE(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Wh(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Pf(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?QE(s):XE(a),u=0,f=0;if(e.top<c.top+Zn(r,"top")?f=-(c.top-e.top+Zn(i,"top")):e.bottom>c.bottom-Zn(r,"bottom")&&(f=e.bottom-c.bottom+Zn(i,"bottom")),e.left<c.left+Zn(r,"left")?u=-(c.left-e.left+Zn(i,"left")):e.right>c.right-Zn(r,"right")&&(u=e.right-c.right+Zn(i,"right")),u||f)if(l)s.defaultView.scrollBy(u,f);else{let d=a.scrollLeft,h=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let p=a.scrollLeft-d,m=a.scrollTop-h;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(l)break}}function ZE(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:Fy(t.dom)}}function Fy(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Pf(r));return e}function eA({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Py(n,r==0?0:r-e)}function Py(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wi=null;function tA(t){if(t.setActive)return t.setActive();if(wi)return t.focus(wi);let e=Fy(t);t.focus(wi==null?{get preventScroll(){return wi={preventScroll:!0},!0}}:void 0),wi||(wi=!1,Py(e,0))}function Ny(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top;for(let l=t.firstChild,c=0;l;l=l.nextSibling,c++){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=_n(l).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.top<=o&&d.bottom>=a){o=Math.max(d.bottom,o),a=Math.min(d.top,a);let h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<r){n=l,r=h,i=h&&n.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&h&&(s=c+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(s=c+1)}}return n&&n.nodeType==3?nA(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:Ny(n,i)}function nA(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=tr(r,1);if(s.top!=s.bottom&&Rf(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Rf(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rA(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function iA(t,e,n){let{node:r,offset:i}=Ny(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function sA(t,e,n,r){let i=-1;for(let s=e;s!=t.dom;){let o=t.docView.nearestDesc(s,!0);if(!o)return null;if(o.node.isBlock&&o.parent){let a=o.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=o.posBefore;else if(a.right<r.left||a.bottom<r.top)i=o.posAfter;else break}s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function Ry(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Rf(e,c))return Ry(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function oA(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top+1),o;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let l=t.dom.getBoundingClientRect();if(!Rf(e,l)||(s=Ry(t.dom,e,l),!s))return null}if(Et)for(let l=s;r&&l;l=Pf(l))l.draggable&&(r=void 0);if(s=rA(s,e),r){if(Cn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],c;l.nodeName=="IMG"&&(c=l.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=sA(t,r,i,e))}o==null&&(o=iA(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function tr(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const aA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Iy(t,e,n){let{node:r,offset:i}=t.docView.domFromPos(e,n<0?-1:1),s=Rl||Cn;if(r.nodeType==3)if(s&&(aA.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let o=tr(_n(r,i,i),n);if(Cn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=tr(_n(r,i-1,i-1),-1);if(a.top==o.top){let l=tr(_n(r,i,i+1),-1);if(l.top!=o.top)return Ms(l,l.left<a.left)}}return o}else{let o=i,a=i,l=n<0?1:-1;return n<0&&!i?(a++,l=-1):n>=0&&i==r.nodeValue.length?(o--,l=1):n<0?o--:a++,Ms(tr(_n(r,o,a),l),l<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==mn(r))){let o=r.childNodes[i-1];if(o.nodeType==1)return vu(o.getBoundingClientRect(),!1)}if(i<mn(r)){let o=r.childNodes[i];if(o.nodeType==1)return vu(o.getBoundingClientRect(),!0)}return vu(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==mn(r))){let o=r.childNodes[i-1],a=o.nodeType==3?_n(o,mn(o)-(s?0:1)):o.nodeType==1&&(o.nodeName!="BR"||!o.nextSibling)?o:null;if(a)return Ms(tr(a,1),!1)}if(i<mn(r)){let o=r.childNodes[i];for(;o.pmViewDesc&&o.pmViewDesc.ignoreForCoords;)o=o.nextSibling;let a=o?o.nodeType==3?_n(o,0,s?0:1):o.nodeType==1?o:null:null;if(a)return Ms(tr(a,-1),!0)}return Ms(tr(r.nodeType==3?_n(r):r,-n),n>=0)}function Ms(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function vu(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function By(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function lA(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return By(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}let o=Iy(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=_n(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const uA=/[\u0590-\u08ac]/;function cA(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return!uA.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:By(t,e,()=>{let l=a.getRangeAt(0),c=a.focusNode,u=a.focusOffset,f=a.caretBidiLevel;a.modify("move",n,"character");let h=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(a.focusNode.nodeType==1?a.focusNode:a.focusNode.parentNode)||c==a.focusNode&&u==a.focusOffset;return a.removeAllRanges(),a.addRange(l),f!=null&&(a.caretBidiLevel=f),h})}let Jh=null,Gh=null,Yh=!1;function fA(t,e,n){return Jh==e&&Gh==n?Yh:(Jh=e,Gh=n,Yh=n=="up"||n=="down"?lA(t,e,n):cA(t,e,n))}const rn=0,Qh=1,Vi=2,Dn=3;class Bo{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=rn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Tt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof $y){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Ly&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Tt(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Tt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let f=a;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Tt(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Tt(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let d=0,h=0;d<this.children.length;d++){let p=this.children[d],m=h+p.size;if(s>h&&o<m)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Cn||Et)&&e==n){let{node:d,offset:h}=a;if(d.nodeType==3){if(u=!!(h&&d.nodeValue[h-1]==`
`),u&&h==d.nodeValue.length)for(let p=d,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:Tt(m)+1});break}let v=p.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let p=d.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Cn&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let d=c.focusNode.childNodes[c.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||u&&Et)&&Do(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Do(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch(d){if(!(d instanceof DOMException))throw d}}if(!f){if(e>n){let h=a;a=l,l=h}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Vi:Qh,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Dn:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Vi:Dn}r=o}this.dirty=Vi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Vi:Qh;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Ly extends Bo{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==rn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class dA extends Bo{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class di extends Bo{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Wt.renderSpec(document,n.type.spec.toDOM(n,r))),new di(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Dn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Dn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=rn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=rn}}slice(e,n,r){let i=di.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=xc(s,n,o,r)),e>0&&(s=xc(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class hi extends Bo{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,o&&this.updateChildren(l,c)}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=Wt.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let d=u;return u=Hy(u,r,n),c?l=new hA(e,n,r,i,u,f||null,d,c,s,o+1):n.isText?new Il(e,n,r,i,u,d,s):new hi(e,n,r,i,u,f||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>R.empty)}return e}matchesNode(e,n,r){return this.dirty==rn&&e.eq(this.node)&&Ac(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new mA(this,o&&o.node);vA(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?Re.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,f,d)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,f,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,f,h,e)||l.updateNextNode(c,u,f,e,d)||l.addNode(c,u,f,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Vi)&&(o&&this.protectLocalComposition(e,o),Vy(this.contentDOM,this.children,e),ls&&bA(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ae)||r<n||i>n+this.node.content.size)return null;let s=e.domSelection(),o=kA(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=CA(this.node.content,a,r-n,i-n);return l<0?null:{node:o,pos:l,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new dA(this,s,n,i);e.input.compositionNodes.push(o),this.children=xc(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Dn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=rn}updateOuterDeco(e){if(Ac(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=jy(this.dom,this.nodeDOM,Ec(this.outerDeco,this.node,n),Ec(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Xh(t,e,n,r,i){return Hy(r,e,t),new hi(void 0,t,e,n,r,r,r,i,0)}class Il extends hi{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Dn||this.dirty!=rn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=rn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Il(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Dn)}get domAtom(){return!1}}class $y extends Bo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==rn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class hA extends hi{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Dn)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Vy(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=Zh(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof di){let l=r?r.previousSibling:t.lastChild;Vy(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Zh(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const to=function(t){t&&(this.nodeName=t)};to.prototype=Object.create(null);const Wr=[new to];function Ec(t,e,n){if(t.length==0)return Wr;let r=n?Wr[0]:new to,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(!!o){o.nodeName&&i.push(r=new to(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new to(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function jy(t,e,n,r){if(n==Wr&&r==Wr)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Wr[0]),i=l}pA(i,a||Wr[0],o)}return i}function pA(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Hy(t,e,n){return jy(t,t,Wr,Ec(e,n,t.nodeType!=1))}function Ac(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Zh(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class mA{constructor(e,n){this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gA(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=rn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[s])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=di.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Dn&&o.dom==o.contentDOM&&(o.dirty=Vi),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof hi){let l=this.preMatch.matched.get(a);if(l!=null&&l!=s)return!1;let c=a.dom;if(!(this.lock&&(c==this.lock||c.nodeType==1&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Dn&&Ac(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,o),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,s){this.top.children.splice(this.index++,0,hi.create(this.top,e,n,r,i,s)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Ly(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof di;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Il)||/\n$/.test(e.node.text))&&((Et||gt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new $y(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function gA(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof di)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function yA(t,e){return t.type.side-e.type.side}function vA(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){if(o<i.length&&i[o].to==s){let p=i[o++],m;for(;o<i.length&&i[o].to==s;)(m||(m=[p])).push(i[o++]);if(m){m.sort(yA);for(let v=0;v<m.length;v++)n(m[v],c,!!l)}else n(p,c,!!l)}let u,f;if(l)f=-1,u=l,l=null;else if(c<t.childCount)f=c,u=t.child(c++);else break;for(let p=0;p<a.length;p++)a[p].to<=s&&a.splice(p--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let d=s+u.nodeSize;if(u.isText){let p=d;o<i.length&&i[o].from<p&&(p=i[o].from);for(let m=0;m<a.length;m++)a[m].to<p&&(p=a[m].to);p<d&&(l=u.cut(p-s),u=u.cut(0,p-s),d=p,f=-1)}let h=u.isInline&&!u.isLeaf?a.filter(p=>!p.inline):a.slice();r(u,h,e.forChild(s,u),f),s=d}}function bA(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function kA(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=mn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function CA(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function xc(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function zy(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Nf(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Y.isSelectable(u)&&i.parent&&!(u.isInline&&GE(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new Y(o==f?a:r.resolve(f))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=If(t,l,a,u)}return c}function Ky(t){return t.editable?t.hasFocus():qy(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function kr(t,e=!1){let n=t.state.selection;if(Uy(t,n),!!Ky(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&gt){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Do(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)EA(t);else{let{anchor:r,head:i}=n,s,o;ep&&!(n instanceof ae)&&(n.$from.parent.inlineContent||(s=tp(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=tp(t,n.to))),t.docView.setSelection(r,i,t.root,e),ep&&(s&&np(s),o&&np(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&DA(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ep=Et||gt&&qE<63;function tp(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Et&&i&&i.contentEditable=="false")return bu(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return bu(i);if(s)return bu(s)}}function bu(t){return t.contentEditable="true",Et&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function np(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function DA(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ky(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function EA(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Tt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Rt&&dr<=11&&(r.disabled=!0,r.disabled=!1)}function Uy(t,e){if(e instanceof Y){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(rp(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else rp(t)}function rp(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function If(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ae.between(e,n,r)}function ip(t){return t.editable&&t.root.activeElement!=t.dom?!1:qy(t)}function qy(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function AA(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelection();return Do(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Sc(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&me.findFrom(s,e)}function Hr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function sp(t,e,n){let r=t.state.selection;if(r instanceof ae){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Sc(t.state,e);return i&&i instanceof Y?Hr(t,i):!1}else if(!(Kt&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?Y.isSelectable(s)?Hr(t,new Y(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Rl?Hr(t,new ae(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else{if(r instanceof Y&&r.node.isInline)return Hr(t,new ae(e>0?r.$to:r.$from));{let i=Sc(t.state,e);return i?Hr(t,i):!1}}}function Ia(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function no(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function ku(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Cn&&n.nodeType==1&&r<Ia(n)&&no(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(no(a))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Wy(n))break;{let a=n.previousSibling;for(;a&&no(a);)i=n.parentNode,s=Tt(a),a=a.previousSibling;if(a)n=a,r=Ia(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?wc(t,e,n,r):i&&wc(t,e,i,s)}function Cu(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ia(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(no(a))s=n,o=++r;else break}else{if(Wy(n))break;{let a=n.nextSibling;for(;a&&no(a);)s=a.parentNode,o=Tt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Ia(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&wc(t,e,s,o)}function Wy(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function wc(t,e,n,r){if(Nf(e)){let s=document.createRange();s.setEnd(n,r),s.setStart(n,r),e.removeAllRanges(),e.addRange(s)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&kr(t)},50)}function op(t,e,n){let r=t.state.selection;if(r instanceof ae&&!r.empty||n.indexOf("s")>-1||Kt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Sc(t.state,e);if(o&&o instanceof Y)return Hr(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Gt?me.near(o,e):me.findFrom(o,e);return a?Hr(t,a):!1}return!1}function ap(t,e){if(!(t.state.selection instanceof ae))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function lp(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function xA(t){if(!Et||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;lp(t,r,"true"),setTimeout(()=>lp(t,r,"false"),20)}return!1}function SA(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function wA(t,e){let n=e.keyCode,r=SA(e);return n==8||Kt&&n==72&&r=="c"?ap(t,-1)||ku(t):n==46||Kt&&n==68&&r=="c"?ap(t,1)||Cu(t):n==13||n==27?!0:n==37||Kt&&n==66&&r=="c"?sp(t,-1,r)||ku(t):n==39||Kt&&n==70&&r=="c"?sp(t,1,r)||Cu(t):n==38||Kt&&n==80&&r=="c"?op(t,-1,r)||ku(t):n==40||Kt&&n==78&&r=="c"?xA(t)||op(t,1,r)||Cu(t):r==(Kt?"m":"c")&&(n==66||n==73||n==89||n==90)}function Jy(t,e){let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||Wt.fromSchema(t.state.schema),a=e0(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=Zy[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function Gy(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,s||r)}),s)return e?new J(R.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r));if(f)a=f;else{let d=i.marks(),{schema:h}=t.state,p=Wt.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=o.appendChild(document.createElement("p"));m&&v.appendChild(p.serializeNode(h.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n)}),o=MA(n),Rl&&_A(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0&&o.firstChild;f--)o=o.firstChild;if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||fi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!OA.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=FA(up(a,+u[1],+u[2]),u[4]);else if(a=J.maxOpen(TA(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let h=a.content.firstChild;f<a.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=a.content.lastChild;d<a.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);a=up(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a)}),a}const OA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function TA(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&Qy(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Xy(o[o.length-1],s.length));let u=Yy(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return R.from(o)}return t}function Yy(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,R.from(t));return t}function Qy(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Qy(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(R.from(Yy(n,t,i+1))))}}function Xy(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Xy(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(R.empty,!0);return t.copy(n.append(r))}function Oc(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return i<r-1&&(a=Oc(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,t.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(R.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function up(t,e,n){return e<t.openStart&&(t=new J(Oc(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new J(Oc(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Zy={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let cp=null;function e0(){return cp||(cp=document.implementation.createHTMLDocument("title"))}function MA(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=e0().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Zy[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function _A(t){let e=t.querySelectorAll(gt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function FA(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=R.from(l.create(r[a+1],i)),s++,o++}return new J(i,s,o)}const At={};let yt={};class PA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function NA(t){for(let e in At){let n=At[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{IA(t,r)&&!Bf(t,r)&&(t.editable||!(r.type in yt))&&n(t,r)})}Et&&t.dom.addEventListener("input",()=>null),Tc(t)}function Jr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function RA(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Tc(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Bf(t,r))})}function Bf(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function IA(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function BA(t,e){!Bf(t,e)&&At[e.type]&&(t.editable||!(e.type in yt))&&At[e.type](t,e)}yt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!n0(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(pn&&gt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ls&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,$i(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||wA(t,n)?n.preventDefault():Jr(t,"key")};yt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};yt.keypress=(t,e)=>{let n=e;if(n0(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Kt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ae)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Bl(t){return{left:t.clientX,top:t.clientY}}function LA(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Lf(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Zi(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function $A(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Y.isSelectable(r)?(Zi(t,new Y(n),"pointer"),!0):!1}function VA(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Y&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Y.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Zi(t,Y.create(t.state.doc,i),"pointer"),!0):!1}function jA(t,e,n,r,i){return Lf(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?VA(t,n):$A(t,n))}function HA(t,e,n,r){return Lf(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function zA(t,e,n,r){return Lf(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||KA(t,n,r)}function KA(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Zi(t,ae.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Zi(t,ae.create(r,a+1,a+1+o.content.size),"pointer");else if(Y.isSelectable(o))Zi(t,Y.create(r,a),"pointer");else continue;return!0}}function $f(t){return Ba(t)}const t0=Kt?"metaKey":"ctrlKey";At.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=$f(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&LA(n,t.input.lastClick)&&!n[t0]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Bl(n));!o||(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new UA(t,o,n,!!r)):(s=="doubleClick"?HA:zA)(t,o.pos,o.inside,n)?n.preventDefault():Jr(t,"pointer"))};class UA{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[t0],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Y&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Cn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Jr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>kr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Bl(e))),this.allowDefault||!n?Jr(this.view,"pointer"):jA(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Et&&this.mightDrag&&!this.mightDrag.node.isAtom||gt&&!(this.view.state.selection instanceof ae)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Zi(this.view,me.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Jr(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Jr(this.view,"pointer"),e.buttons==0&&this.done()}}At.touchdown=t=>{$f(t),Jr(t,"pointer")};At.contextmenu=t=>$f(t);function n0(t,e){return t.composing?!0:Et&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const qA=pn?5e3:-1;yt.compositionstart=yt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Ba(t,!0),t.markCursor=null;else if(Ba(t),Cn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){r.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}r0(t,qA)};yt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,r0(t,20))};function r0(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ba(t),e))}function i0(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=WA());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function WA(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ba(t,e=!1){if(!(pn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),i0(t),e||t.docView&&t.docView.dirty){let n=zy(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function JA(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const us=Rt&&dr<15||ls&&WE<604;At.copy=yt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=us?null:n.clipboardData,o=r.content(),{dom:a,text:l}=Jy(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):JA(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function GA(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function YA(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Mc(t,r.value,null,e):Mc(t,r.textContent,r.innerHTML,e)},50)}function Mc(t,e,n,r){let i=Gy(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||J.empty)))return!0;if(!i)return!1;let s=GA(i),o=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}yt.paste=(t,e)=>{let n=e;if(t.composing&&!pn)return;let r=us?null:n.clipboardData;r&&Mc(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():YA(t,n)};class QA{constructor(e,n){this.slice=e,this.move=n}}const s0=Kt?"altKey":"ctrlKey";At.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Bl(n));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Y?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Y.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(Y.create(t.state.doc,c.posBefore)))}}let o=t.state.selection.content(),{dom:a,text:l}=Jy(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(us?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",us||n.dataTransfer.setData("text/plain",l),t.dragging=new QA(o,!n[s0])};At.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};yt.dragover=yt.dragenter=(t,e)=>e.preventDefault();yt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Bl(n));if(!i)return;let s=t.state.doc.resolve(i.pos);if(!s)return;let o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o)}):o=Gy(t,n.dataTransfer.getData(us?"Text":"text/plain"),us?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[s0]);if(t.someProp("handleDrop",p=>p(t,n,o||J.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?Mf(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&Y.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Y(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,v,y,k)=>p=k),c.setSelection(If(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};At.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&kr(t)},20))};At.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};At.beforeinput=(t,e)=>{if(gt&&pn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,$i(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in yt)At[t]=yt[t];function Eo(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Vf{constructor(e,n){this.toDOM=e,this.spec=n||ni,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new tn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Vf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Eo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class hr{constructor(e,n){this.attrs=e,this.spec=n||ni}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new tn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof hr&&Eo(this.attrs,e.attrs)&&Eo(this.spec,e.spec)}static is(e){return e.type instanceof hr}destroy(){}}class jf{constructor(e,n){this.attrs=e,this.spec=n||ni}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new tn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof jf&&Eo(this.attrs,e.attrs)&&Eo(this.spec,e.spec)}destroy(){}}class tn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new tn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new tn(e,e,new Vf(n,r))}static inline(e,n,r,i){return new tn(e,n,new hr(r,i))}static node(e,n,r,i){return new tn(e,n,new jf(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hr}}const Pi=[],ni={};class ut{constructor(e,n){this.local=e.length?e:Pi,this.children=n.length?n:Pi}static create(e,n){return n.length?La(n,e,0,ni):lt}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==lt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ni)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?XA(this.children,o||[],e,n,r,i,s):o?new ut(o.sort(ri),Pi):lt}add(e,n){return n.length?this==lt?ut.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(!!(u=a0(n,a,c))){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,La(u,a,c+1,ni)),s+=3}});let o=o0(s?l0(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new ut(o.length?this.local.concat(o).sort(ri):this.local,i||this.children)}remove(e){return e.length==0||this==lt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=lt?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ut(i,r):lt}forChild(e,n){if(this==lt)return this;if(n.isLeaf)return ut.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof hr){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new ut(i.sort(ri),Pi);return r?new lr([a,r]):a}return r||lt}eq(e){if(this==e)return!0;if(!(e instanceof ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Hf(this.localsInner(e))}localsInner(e){if(this==lt)return Pi;if(e.inlineContent||!this.local.some(hr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof hr||n.push(this.local[r]);return n}}ut.empty=new ut([],[]);ut.removeOverlap=Hf;const lt=ut.empty;class lr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ni));return lr.from(r)}forChild(e,n){if(n.isLeaf)return ut.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=lt&&(s instanceof lr?r=r.concat(s.members):r.push(s))}return lr.from(r)}eq(e){if(!(e instanceof lr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(!!s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Hf(r?n:n.sort(ri)):Pi}static from(e){switch(e.length){case 0:return lt;case 1:return e[0];default:return new lr(e)}}}function XA(t,e,n,r,i,s,o){let a=t.slice(),l=(u,f,d,h)=>{for(let p=0;p<a.length;p+=3){let m=a[p+1],v;if(m<0||u>m+s)continue;let y=a[p]+s;f>=y?a[p+1]=u<=y?-2:-1:d>=i&&(v=h-d-(f-u))&&(a[p]+=v,a[p+1]+=v)}};for(let u=0;u<n.maps.length;u++)n.maps[u].forEach(l);let c=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){c=!0,a[u+1]=-1;continue}let f=n.map(t[u]+s),d=f-i;if(d<0||d>=r.content.size){c=!0;continue}let h=n.map(t[u+1]+s,-1),p=h-i,{index:m,offset:v}=r.content.findIndex(d),y=r.maybeChild(m);if(y&&v==d&&v+y.nodeSize==p){let k=a[u+2].mapInner(n,y,f+1,t[u]+s+1,o);k!=lt?(a[u]=d,a[u+1]=p,a[u+2]=k):(a[u+1]=-2,c=!0)}else c=!0}if(c){let u=ZA(a,t,e,n,i,s,o),f=La(u,r,0,o);e=f.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<f.children.length;d+=3){let p=f.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,f.children[d],f.children[d+1],f.children[d+2])}}return new ut(e.sort(ri),a)}function o0(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new tn(i.from+e,i.to+e,i.type))}return n}function ZA(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function a0(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function l0(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function La(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=a0(t,a,l+n);if(c){s=!0;let u=La(c,a,n+l+1,r);u!=lt&&i.push(l,l+a.nodeSize,u)}});let o=o0(s?l0(t):t,-n).sort(ri);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new ut(o,i):lt}function ri(t,e){return t.from-e.from||t.to-e.to}function Hf(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),fp(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),fp(e,i,r.copy(s.from,r.to)));break}}}return e}function fp(t,e,n){for(;e<t.length&&ri(n,t[e])>0;)e++;t.splice(e,0,n)}function Du(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=lt&&e.push(r)}),t.cursorWrapper&&e.push(ut.create(t.state.doc,[t.cursorWrapper.deco])),lr.from(e)}const ex={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},tx=Rt&&dr<=11;class nx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class rx{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new nx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Rt&&dr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),tx&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,ex),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!ip(this.view)){if(this.suppressingSelectionUpdates)return kr(this.view);if(Rt&&dr<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&Do(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(e.rangeCount==0)return!0;let n=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&ip(this.view)&&!this.ignoreSelectionChange(n),i=-1,s=-1,o=!1,a=[];if(this.view.editable)for(let l=0;l<e.length;l++){let c=this.registerMutation(e[l],a);c&&(i=i<0?c.from:Math.min(c.from,i),s=s<0?c.to:Math.max(c.to,s),c.typeOver&&(o=!0))}if(Cn&&a.length>1){let l=a.filter(c=>c.nodeName=="BR");if(l.length==2){let c=l[0],u=l[1];c.parentNode&&c.parentNode.parentNode==u.parentNode?u.remove():c.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,s),ix(this.view)),this.handleDOMChange(i,s,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||kr(this.view),this.currentSelection.set(n))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Rt&&dr<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=i&&i.parentNode==e.target?Tt(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Tt(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let dp=!1;function ix(t){dp||(dp=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function sx(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelection(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Nf(l)||c.push({node:l.focusNode,offset:l.focusOffset})),gt&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let y=r.childNodes[v-1],k=y.pmViewDesc;if(y.nodeName=="BR"&&!k){s=v;break}if(!k||k.size)break}let f=t.state.doc,d=t.someProp("domParser")||fi.fromSchema(t.state.schema),h=f.resolve(o),p=null,m=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:ox,context:h});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),p={anchor:v+o,head:y+o}}return{doc:m,sel:p,from:o,to:a}}function ox(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Et&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Et&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function ax(t,e,n,r,i){if(e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=zy(t,D);if(L&&!t.state.selection.eq(L)){let j=t.state.tr.setSelection(L);D=="pointer"?j.setMeta("pointer",!0):D=="key"&&j.scrollIntoView(),t.dispatch(j)}return}let s=t.state.doc.resolve(e),o=s.sharedDepth(n);e=s.before(o+1),n=t.state.doc.resolve(n).after(o+1);let a=t.state.selection,l=sx(t,e,n);if(gt&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from){let D=t.cursorWrapper.deco.type.toDOM.nextSibling,L=D&&D.nodeValue?D.nodeValue.length:1;l.sel={anchor:l.sel.anchor+L,head:l.sel.anchor+L}}let c=t.state.doc,u=c.slice(l.from,l.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let h=cx(u.content,l.doc.content,l.from,f,d);if((ls&&t.input.lastIOSEnter>Date.now()-225||pn)&&i.some(D=>D.nodeName=="DIV"||D.nodeName=="P")&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",D=>D(t,$i(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof ae&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let D=hp(t,t.state.doc,l.sel);D&&!D.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(D))}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof ae&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Rt&&dr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let p=l.doc.resolveNoCache(h.start-l.from),m=l.doc.resolveNoCache(h.endB-l.from),v=c.resolve(h.start),y=p.sameParent(m)&&p.parent.inlineContent&&v.end()>=h.endA,k;if((ls&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!y&&p.pos<l.doc.content.size&&(k=me.findFrom(l.doc.resolve(p.pos+1),1,!0))&&k.head==m.pos)&&t.someProp("handleKeyDown",D=>D(t,$i(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&ux(c,h.start,h.endA,p,m)&&t.someProp("handleKeyDown",D=>D(t,$i(8,"Backspace")))){pn&&gt&&t.domObserver.suppressSelectionUpdates();return}gt&&pn&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),pn&&!y&&p.start()!=m.start()&&m.parentOffset==0&&p.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,m=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,$i(13,"Enter"))})},20));let S=h.start,b=h.endA,O,x,P;if(y){if(p.pos==m.pos)Rt&&dr<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>kr(t),20)),O=t.state.tr.delete(S,b),x=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(P=lx(p.parent.content.cut(p.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,h.endA-v.start()))))O=t.state.tr,P.type=="add"?O.addMark(S,b,P.mark):O.removeMark(S,b,P.mark);else if(p.parent.child(p.index()).isText&&p.index()==m.index()-(m.textOffset?0:1)){let D=p.parent.textBetween(p.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",L=>L(t,S,b,D)))return;O=t.state.tr.insertText(D,S,b)}}if(O||(O=t.state.tr.replace(S,b,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let D=hp(t,O.doc,l.sel);D&&!(gt&&pn&&t.composing&&D.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(D.head==S||D.head==O.mapping.map(b)-1)||Rt&&D.empty&&D.head==S)&&O.setSelection(D)}x&&O.ensureMarks(x),t.dispatch(O.scrollIntoView())}function hp(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:If(t,e.resolve(n.anchor),e.resolve(n.head))}function lx(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(R.from(c).eq(t))return{mark:a,type:o}}function ux(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Eu(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Eu(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Eu(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Eu(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function cx(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}return o<s&&t.size<e.size?(s-=r<=s&&r>=o?s-r:0,a=s+(a-o),o=s):a<s&&(s-=r<=s&&r>=a?s-r:0,o=s+(o-a),a=s),{start:s,endA:o,endB:a}}class fx{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PA,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(vp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gp(this),mp(this),this.nodeViews=yp(this),this.docView=Xh(this.state.doc,pp(this),Du(this),this.dom,this),this.domObserver=new rx(this,(r,i,s,o)=>ax(this,r,i,s,o)),this.domObserver.start(),NA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Tc(this),this._props=e,e.plugins&&(e.plugins.forEach(vp),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,n){let r=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(i0(this),s=!0),this.state=e,n){let f=yp(this);hx(f,this.nodeViews)&&(this.nodeViews=f,i=!0),Tc(this)}this.editable=gp(this),mp(this);let o=Du(this),a=pp(this),l=n?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,a,o);(c||!e.selection.eq(r.selection))&&(s=!0);let u=l=="preserve"&&s&&this.dom.style.overflowAnchor==null&&ZE(this);if(s){this.domObserver.stop();let f=c&&(Rt||gt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&dx(r.selection,e.selection);if(c){let d=gt?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(e.doc,a,o,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Xh(e.doc,a,o,this.dom,this)),d&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&AA(this))?kr(this,f):(Uy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),l=="reset")this.dom.scrollTop=0;else if(l=="to selection"){let f=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",d=>d(this)))if(e.selection instanceof Y){let d=this.docView.domAfterPos(e.selection.from);d.nodeType==1&&Wh(this,d.getBoundingClientRect(),f)}else Wh(this,this.coordsAtPos(e.selection.head,1),f)}else u&&eA(u)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tA(this.dom),kr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return oA(this,e)}coordsAtPos(e,n=1){return Iy(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return fA(this,n||this.state,e)}destroy(){!this.docView||(RA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Du(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return BA(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function pp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[tn.node(0,t.state.doc.content.size,e)]}function mp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:tn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function dx(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function yp(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function hx(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function vp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Cr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},$a={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},bp=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),px=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),mx=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),kp=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),gx=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),yx=bp&&(kp||+bp[1]<57)||mx&&kp;for(var rt=0;rt<10;rt++)Cr[48+rt]=Cr[96+rt]=String(rt);for(var rt=1;rt<=24;rt++)Cr[rt+111]="F"+rt;for(var rt=65;rt<=90;rt++)Cr[rt]=String.fromCharCode(rt+32),$a[rt]=String.fromCharCode(rt);for(var Au in Cr)$a.hasOwnProperty(Au)||($a[Au]=Cr[Au]);function vx(t){var e=yx&&(t.ctrlKey||t.altKey||t.metaKey)||(px||gx)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?$a:Cr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const bx=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function kx(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))bx?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Cx(t){let e=Object.create(null);for(let n in t)e[kx(n)]=t[n];return e}function xu(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function Dx(t){return new st({props:{handleKeyDown:u0(t)}})}function u0(t){let e=Cx(t);return function(n,r){let i=vx(r),s=i.length==1&&i!=" ",o,a=e[xu(i,r,!s)];if(a&&a(n.state,n.dispatch,n))return!0;if(s&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Cr[r.keyCode])&&o!=i){let l=e[xu(o,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(s&&r.shiftKey){let l=e[xu(i,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}const Ex=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),Ax=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let i=c0(r);if(!i){let o=r.blockRange(),a=o&&Ds(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&h0(t,i,e))return!0;if(r.parent.content.size==0&&(cs(s,"end")||Y.isSelectable(s))){let o=_f(t.doc,r.before(),r.after(),J.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(cs(s,"end")?me.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Y.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function cs(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const xx=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=c0(r)}let o=s&&s.nodeBefore;return!o||!Y.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Y.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function c0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const Sx=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let i=f0(r);if(!i)return!1;let s=i.nodeAfter;if(h0(t,i,e))return!0;if(r.parent.content.size==0&&(cs(s,"start")||Y.isSelectable(s))){let o=_f(t.doc,r.before(),r.after(),J.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(cs(s,"start")?me.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Y.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},wx=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=f0(r)}let o=s&&s.nodeAfter;return!o||!Y.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Y.create(t.doc,s.pos)).scrollIntoView()),!0)};function f0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Ox=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Ds(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},Tx=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function d0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Mx=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=d0(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(me.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},_x=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Gt||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=d0(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(ae.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},Fx=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Xi(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ds(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Px=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Y.create(t.doc,i))),!0)};function Nx(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Io(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function h0(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Nx(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=R.empty;for(let m=s.length-1;m>=0;m--)d=R.from(s[m].create(null,d));d=R.from(r.copy(d));let h=t.tr.step(new Ze(e.pos-1,f,e.pos,f,new J(d,1,0),s.length,!0)),p=f+2*s.length;Io(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let l=me.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&Ds(c);if(u!=null&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&cs(i,"start",!0)&&cs(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(n){let m=R.empty;for(let y=d.length-1;y>=0;y--)m=R.from(d[y].copy(m));let v=t.tr.step(new Ze(e.pos-d.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new J(m,d.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function p0(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(ae.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Rx=p0(-1),Ix=p0(1);function Bx(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Tf(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Cp(t,e=null){return function(n,r){let{from:i,to:s}=n.selection,o=!1;return n.doc.nodesBetween(i,s,(a,l)=>{if(o)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)o=!0;else{let c=n.doc.resolve(l),u=c.index();o=c.parent.canReplaceWith(u,u+1,t)}}),o?(r&&r(n.tr.setBlockType(i,s,t,e).scrollIntoView()),!0):!1}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function Lx(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new _a(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new _a(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=Tf(l,t,e,o);return c?(r&&r($x(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function $x(t,e,n,r,i){let s=R.empty;for(let u=n.length-1;u>=0;u--)s=R.from(n[u].type.create(n[u].attrs,s));t.step(new Ze(e.start-(r?2:0),e.end,e.start,e.end,new J(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&Xi(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Vx(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?jx(e,n,t,s):Hx(e,n,s):!0:!1}}function jx(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);return s<o&&(i.step(new Ze(s-1,o,s,o,new J(R.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new _a(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth)),e(i.lift(r,Ds(r)).scrollIntoView()),!0}function Hx(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?R.empty:R.from(i))))return!1;let f=s.pos,d=f+o.nodeSize;return r.step(new Ze(f-(a?1:0),d+(l?1:0),f+1,d-1,new J((a?R.empty:R.from(i.copy(R.empty))).append(l?R.empty:R.from(i.copy(R.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function zx(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=R.from(c?t.create():null),f=new J(R.from(t.create(null,R.from(a.type.create(null,u)))),c?3:1,0),d=s.start,h=s.end;n(e.tr.step(new Ze(d-(c?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function Ll(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class $l{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>{const v=this.buildProps(c,n),y=h(...m)(v);return a.push(y),f}])),run:u};return f}createCan(e){const{rawCommands:n,state:r}=this,i=void 0,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:i})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i;s.storedMarks&&e.setStoredMarks(s.storedMarks);const a={tr:e,editor:i,view:o,state:Ll({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Kx{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ee(t,e,n){return t.config[e]===void 0&&t.parent?ee(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ee(t.parent,e,n):null}):t.config[e]}function Vl(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function m0(t){const e=[],{nodeExtensions:n,markExtensions:r}=Vl(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ee(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([d,h])=>{e.push({type:f,name:d,attribute:{...s,...h}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ee(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const d={...s,...f};f.isRequired&&f.default===void 0&&delete d.default,e.push({type:o.name,name:u,attribute:d})})}),e}function et(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function tt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}i==="class"?r[i]=[r[i],s].join(" "):i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function _c(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>tt(n,r),{})}function g0(t){return typeof t=="function"}function De(t,e=void 0,...n){return g0(t)?e?t.bind(e)(...n):t(...n):t}function Ux(t={}){return Object.keys(t).length===0&&t.constructor===Object}function qx(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Dp(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):qx(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function Ep(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Ux(n)?!1:n!=null))}function Wx(t){var e;const n=m0(t),{nodeExtensions:r,markExtensions:i}=Vl(t),s=(e=r.find(l=>ee(l,"topNode")))===null||e===void 0?void 0:e.name,o=Object.fromEntries(r.map(l=>{const c=n.filter(v=>v.type===l.name),u={name:l.name,options:l.options,storage:l.storage},f=t.reduce((v,y)=>{const k=ee(y,"extendNodeSchema",u);return{...v,...k?k(l):{}}},{}),d=Ep({...f,content:De(ee(l,"content",u)),marks:De(ee(l,"marks",u)),group:De(ee(l,"group",u)),inline:De(ee(l,"inline",u)),atom:De(ee(l,"atom",u)),selectable:De(ee(l,"selectable",u)),draggable:De(ee(l,"draggable",u)),code:De(ee(l,"code",u)),defining:De(ee(l,"defining",u)),isolating:De(ee(l,"isolating",u)),attrs:Object.fromEntries(c.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),h=De(ee(l,"parseHTML",u));h&&(d.parseDOM=h.map(v=>Dp(v,c)));const p=ee(l,"renderHTML",u);p&&(d.toDOM=v=>p({node:v,HTMLAttributes:_c(v,c)}));const m=ee(l,"renderText",u);return m&&(d.toText=m),[l.name,d]})),a=Object.fromEntries(i.map(l=>{const c=n.filter(m=>m.type===l.name),u={name:l.name,options:l.options,storage:l.storage},f=t.reduce((m,v)=>{const y=ee(v,"extendMarkSchema",u);return{...m,...y?y(l):{}}},{}),d=Ep({...f,inclusive:De(ee(l,"inclusive",u)),excludes:De(ee(l,"excludes",u)),group:De(ee(l,"group",u)),spanning:De(ee(l,"spanning",u)),code:De(ee(l,"code",u)),attrs:Object.fromEntries(c.map(m=>{var v;return[m.name,{default:(v=m==null?void 0:m.attribute)===null||v===void 0?void 0:v.default}]}))}),h=De(ee(l,"parseHTML",u));h&&(d.parseDOM=h.map(m=>Dp(m,c)));const p=ee(l,"renderHTML",u);return p&&(d.toDOM=m=>p({mark:m,HTMLAttributes:_c(m,c)})),[l.name,d]}));return new dE({topNode:s,nodes:o,marks:a})}function Su(t,e){return e.nodes[t]||e.marks[t]||null}function Ap(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const Jx=(t,e=500)=>{let n="";return t.parent.nodesBetween(Math.max(0,t.parentOffset-e),t.parentOffset,(r,i,s,o)=>{var a,l,c;n+=((l=(a=r.type.spec).toText)===null||l===void 0?void 0:l.call(a,{node:r,pos:i,parent:s,index:o}))||((c=t.nodeBefore)===null||c===void 0?void 0:c.text)||"%leaf%"}),n};function zf(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class jl{constructor(e){this.find=e.find,this.handler=e.handler}}const Gx=(t,e)=>{if(zf(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function wu(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!!(!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code)))return!1;let u=!1;const f=Jx(c)+s;return o.forEach(d=>{if(u)return;const h=Gx(f,d.find);if(!h)return;const p=l.state.tr,m=Ll({state:l.state,transaction:p}),v={from:r-(h[0].length-s.length),to:i},{commands:y,chain:k,can:S}=new $l({editor:n,state:m});d.handler({state:m,range:v,match:h,commands:y,chain:k,can:S})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),u=!0)}),u}function Yx(t){const{editor:e,rules:n}=t,r=new st({state:{init(){return null},apply(i,s){const o=i.getMeta(r);return o||(i.selectionSet||i.docChanged?null:s)}},props:{handleTextInput(i,s,o,a){return wu({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&wu({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?wu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Qx(t){return typeof t=="number"}class Xx{constructor(e){this.find=e.find,this.handler=e.handler}}const Zx=(t,e)=>{if(zf(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function eS(t){const{editor:e,state:n,from:r,to:i,rule:s}=t,{commands:o,chain:a,can:l}=new $l({editor:e,state:n}),c=[];return n.doc.nodesBetween(r,i,(f,d)=>{if(!f.isTextblock||f.type.spec.code)return;const h=Math.max(r,d),p=Math.min(i,d+f.content.size),m=f.textBetween(h-d,p-d,void 0,"\uFFFC");Zx(m,s.find).forEach(y=>{if(y.index===void 0)return;const k=h+y.index+1,S=k+y[0].length,b={from:n.tr.mapping.map(k),to:n.tr.mapping.map(S)},O=s.handler({state:n,range:b,match:y,commands:o,chain:a,can:l});c.push(O)})}),c.every(f=>f!==null)}function tS(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1;return n.map(a=>new st({view(l){const c=u=>{var f;r=!((f=l.dom.parentElement)===null||f===void 0)&&f.contains(u.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",c),{destroy(){window.removeEventListener("dragstart",c)}}},props:{handleDOMEvents:{drop:l=>(s=r===l.dom.parentElement,!1),paste:(l,c)=>{var u;const f=(u=c.clipboardData)===null||u===void 0?void 0:u.getData("text/html");return i=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(l,c,u)=>{const f=l[0],d=f.getMeta("uiEvent")==="paste"&&!i,h=f.getMeta("uiEvent")==="drop"&&!s;if(!d&&!h)return;const p=c.doc.content.findDiffStart(u.doc.content),m=c.doc.content.findDiffEnd(u.doc.content);if(!Qx(p)||!m||p===m.b)return;const v=u.tr,y=Ll({state:u,transaction:v});if(!(!eS({editor:e,state:y,from:Math.max(p-1,0),to:m.b,rule:a})||!v.steps.length))return v}}))}function nS(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class ji{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ji.resolve(e),this.schema=Wx(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Su(r.name,this.schema)};r.type==="mark"&&((i=De(ee(r,"keepOnSplit",s)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const o=ee(r,"onBeforeCreate",s);o&&this.editor.on("beforeCreate",o);const a=ee(r,"onCreate",s);a&&this.editor.on("create",a);const l=ee(r,"onUpdate",s);l&&this.editor.on("update",l);const c=ee(r,"onSelectionUpdate",s);c&&this.editor.on("selectionUpdate",c);const u=ee(r,"onTransaction",s);u&&this.editor.on("transaction",u);const f=ee(r,"onFocus",s);f&&this.editor.on("focus",f);const d=ee(r,"onBlur",s);d&&this.editor.on("blur",d);const h=ee(r,"onDestroy",s);h&&this.editor.on("destroy",h)})}static resolve(e){const n=ji.sort(ji.flatten(e)),r=nS(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ee(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=ee(r,"priority")||100,o=ee(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Su(n.name,this.schema)},i=ee(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=ji.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Su(o.name,this.schema)},l=[],c=ee(o,"addKeyboardShortcuts",a);if(c){const h=Object.fromEntries(Object.entries(c()).map(([m,v])=>[m,()=>v({editor:e})])),p=Dx(h);l.push(p)}const u=ee(o,"addInputRules",a);Ap(o,e.options.enableInputRules)&&u&&r.push(...u());const f=ee(o,"addPasteRules",a);Ap(o,e.options.enablePasteRules)&&f&&i.push(...f());const d=ee(o,"addProseMirrorPlugins",a);if(d){const h=d();l.push(...h)}return l}).flat();return[Yx({editor:e,rules:r}),...tS({editor:e,rules:i}),...s]}get attributes(){return m0(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Vl(this.extensions);return Object.fromEntries(n.filter(r=>!!ee(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:et(r.name,this.schema)},o=ee(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,f)=>{const d=_c(l,i);return o()({editor:e,node:l,getPos:u,decorations:f,HTMLAttributes:d,extension:r})};return[r.name,a]}))}}function rS(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ou(t){return rS(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Hl(t,e){const n={...t};return Ou(t)&&Ou(e)&&Object.keys(e).forEach(r=>{Ou(e[r])?r in t?n[r]=Hl(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class vt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ee(this,"addOptions",{name:this.name}))),this.storage=De(ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vt(e)}configure(e={}){const n=this.extend();return n.options=Hl(this.options,e),n.storage=De(ee(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new vt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ee(n,"addOptions",{name:n.name})),n.storage=De(ee(n,"addStorage",{name:n.name,options:n.options})),n}}function y0(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,(c,u,f,d)=>{var h;const p=o==null?void 0:o[c.type.name];p?(c.isBlock&&!l&&(a+=s,l=!0),f&&(a+=p({node:c,pos:u,parent:f,index:d,range:e}))):c.isText?(a+=(h=c==null?void 0:c.text)===null||h===void 0?void 0:h.slice(Math.max(r,u)-u,i-u),l=!1):c.isBlock&&!l&&(a+=s,l=!0)}),a}function v0(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const iS=vt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new st({key:new $t("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=v0(n);return y0(r,{from:o,to:a},{textSerializers:l})}}})]}}),sS=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),oS=(t=!1)=>({commands:e})=>e.setContent("",t),aS=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),d=c.resolve(u.map(l+a.nodeSize)),h=f.blockRange(d);if(!h)return;const p=Ds(h);if(a.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,m)}(p||p===0)&&e.lift(h,p)})}),!0},lS=t=>e=>t(e),uS=()=>({state:t,dispatch:e})=>_x(t,e),cS=t=>({tr:e,state:n,dispatch:r})=>{const i=et(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},fS=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},dS=()=>({state:t,dispatch:e})=>Ex(t,e),hS=()=>({commands:t})=>t.keyboardShortcut("Enter"),pS=()=>({state:t,dispatch:e})=>Mx(t,e);function Va(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:zf(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Fc(t,e,n={}){return t.find(r=>r.type===e&&Va(r.attrs,n))}function mS(t,e,n={}){return!!Fc(t,e,n)}function Kf(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Fc([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(Fc([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&mS([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function xr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const gS=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=xr(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const f=Kf(l,s,e);if(f&&f.from<=c&&f.to>=u){const d=ae.create(o,f.from,f.to);n.setSelection(d)}}return!0},yS=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function vS(t){var e;return((e=t.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function b0(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!vS(t)}function k0(t){return b0(t)&&t instanceof ae}function $n(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function C0(t,e=null){if(!e)return null;const n=me.atStart(t),r=me.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?ae.create(t,$n(0,i,s),$n(t.content.size,i,s)):ae.create(t,$n(e,i,s),$n(e,i,s))}function Uf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const bS=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{Uf()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!k0(n.state.selection))return o(),!0;const a=C0(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},kS=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),CS=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function xp(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function ja(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)?R.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),ja("",e,n)}if(typeof t=="string"){const r=fi.fromSchema(e);return n.slice?r.parseSlice(xp(t),n.parseOptions).content:r.parse(xp(t),n.parseOptions)}return ja("",e,n)}function DS(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ft||i instanceof Ze))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(me.near(t.doc.resolve(o),n))}const ES=t=>t.toString().startsWith("<"),AS=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const o=ja(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,c=!0,u=!0;if((ES(o)?o:[o]).forEach(d=>{d.check(),c=c?d.isText&&d.marks.length===0:!1,u=u?d.isBlock:!1}),a===l&&u){const{parent:d}=r.doc.resolve(a);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(a-=1,l+=1)}c?r.insertText(e,a,l):r.replaceWith(a,l,o),n.updateSelection&&DS(r,r.steps.length-1,-1)}return!0},xS=()=>({state:t,dispatch:e})=>Ax(t,e),SS=()=>({state:t,dispatch:e})=>Sx(t,e);function D0(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function wS(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Uf()||D0()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const OS=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=wS(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Ao(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?et(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const h=Math.max(r,d),p=Math.min(i,d+f.nodeSize);a.push({node:f,from:h,to:p})});const l=i-r,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>Va(f.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=l}const TS=(t,e={})=>({state:n,dispatch:r})=>{const i=et(t,n.schema);return Ao(n,i,e)?Ox(n,r):!1},MS=()=>({state:t,dispatch:e})=>Fx(t,e),_S=t=>({state:e,dispatch:n})=>{const r=et(t,e.schema);return Vx(r)(e,n)},FS=()=>({state:t,dispatch:e})=>Tx(t,e);function zl(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Sp(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const PS=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=zl(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=et(t,r.schema)),a==="mark"&&(o=xr(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,Sp(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&n.addMark(u,u+c.nodeSize,o.create(Sp(f.attrs,e)))})})}),!0):!1},NS=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),RS=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),IS=()=>({state:t,dispatch:e})=>xx(t,e),BS=()=>({state:t,dispatch:e})=>wx(t,e),LS=()=>({state:t,dispatch:e})=>Px(t,e),$S=()=>({state:t,dispatch:e})=>Ix(t,e),VS=()=>({state:t,dispatch:e})=>Rx(t,e);function E0(t,e,n={}){return ja(t,e,{slice:!1,parseOptions:n})}const jS=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:s})=>{const{doc:o}=r,a=E0(t,i.schema,n);return s&&r.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!e),!0};function qf(t,e){const n=xr(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}const HS=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=xr(t,r.schema);if(i)if(o){const c=qf(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(d,h)=>{const p=Math.max(h,u),m=Math.min(h+d.nodeSize,f);d.marks.find(y=>y.type===l)?d.marks.forEach(y=>{l===y.type&&n.addMark(p,m,l.create({...y.attrs,...e}))}):n.addMark(p,m,l.create(e))})});return!0},zS=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),KS=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=et(t,n.schema);return s.isTextblock?i().command(({commands:o})=>Cp(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>Cp(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},US=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=me.atStart(r).from,s=me.atEnd(r).to,o=$n(t,i,s),a=Y.create(r,o);e.setSelection(a)}return!0},qS=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=ae.atStart(r).from,a=ae.atEnd(r).to,l=$n(i,o,a),c=$n(s,o,a),u=ae.create(r,l,c);e.setSelection(u)}return!0},WS=t=>({state:e,dispatch:n})=>{const r=et(t,e.schema);return zx(r)(e,n)};function ha(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function JS(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function wp(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const GS=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=ha(c,a.node().type.name,a.node().attrs);if(s instanceof Y&&s.node.isBlock)return!a.parentOffset||!Xi(o,a.pos)?!1:(r&&(t&&wp(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const f=l.parentOffset===l.parent.content.size;s instanceof ae&&e.deleteSelection();const d=a.depth===0?void 0:JS(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=f&&d?[{type:d,attrs:u}]:void 0,p=Xi(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&Xi(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:u}]:void 0),p&&(e.split(e.mapping.map(a.pos),1,h),d&&!f&&!a.parentOffset&&a.parent.type!==d)){const m=e.mapping.map(a.before()),v=e.doc.resolve(m);a.node(-1).canReplaceWith(v.index(),v.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}t&&wp(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},YS=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var s;const o=et(t,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==o)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let v=R.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let P=a.depth-y;P>=a.depth-3;P-=1)v=R.from(a.node(P).copy(v));const k=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,S=ha(f,a.node().type.name,a.node().attrs),b=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(S))||void 0;v=v.append(R.from(o.createAndFill(null,b)||void 0));const O=a.before(a.depth-(y-1));e.replace(O,a.after(-k),new J(v,4-y,0));let x=-1;e.doc.nodesBetween(O,e.doc.content.size,(P,D)=>{if(x>-1)return!1;P.isTextblock&&P.content.size===0&&(x=D+1)}),x>-1&&e.setSelection(ae.near(e.doc.resolve(x))),e.scrollIntoView()}return!0}const d=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,h=ha(f,u.type.name,u.attrs),p=ha(f,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const m=d?[{type:o,attrs:h},{type:d,attrs:p}]:[{type:o,attrs:h}];return Xi(e.doc,a.pos,2)?(r&&e.split(a.pos,2,m).scrollIntoView(),!0):!1};function QS(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Wf(t){return e=>QS(e.$from,t)}function Op(t,e){const{nodeExtensions:n}=Vl(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=De(ee(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}const Tp=(t,e)=>{const n=Wf(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Io(t.doc,n.pos)&&t.join(n.pos),!0},Mp=(t,e)=>{const n=Wf(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Io(t.doc,r)&&t.join(r),!0},XS=(t,e)=>({editor:n,tr:r,state:i,dispatch:s,chain:o,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,u=et(t,i.schema),f=et(e,i.schema),{selection:d}=i,{$from:h,$to:p}=d,m=h.blockRange(p);if(!m)return!1;const v=Wf(y=>Op(y.type.name,c))(d);if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===u)return a.liftListItem(f);if(Op(v.node.type.name,c)&&u.validContent(v.node.content)&&s)return o().command(()=>(r.setNodeMarkup(v.pos,u),!0)).command(()=>Tp(r,u)).command(()=>Mp(r,u)).run()}return o().command(()=>l().wrapInList(u)?!0:a.clearNodes()).wrapInList(u).command(()=>Tp(r,u)).command(()=>Mp(r,u)).run()};function Pc(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?xr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>Va(f.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,p=d.pos;t.doc.nodesBetween(h,p,(m,v)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(h,v),k=Math.min(p,v+m.nodeSize);o+=k-y,a.push(...m.marks.map(b=>({mark:b,from:y,to:k})))})}),o===0)return!1;const l=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>Va(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+c:l)>=o}const ZS=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=xr(t,r.schema);return Pc(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},ew=(t,e,n={})=>({state:r,commands:i})=>{const s=et(t,r.schema),o=et(e,r.schema);return Ao(r,s,n)?i.setNode(o):i.setNode(s,n)},tw=(t,e={})=>({state:n,commands:r})=>{const i=et(t,n.schema);return Ao(n,i,e)?r.lift(i):r.wrapIn(i,e)},nw=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},rw=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},iw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=xr(t,r.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&o){let{from:d,to:h}=a;const p=(s=c.marks().find(v=>v.type===l))===null||s===void 0?void 0:s.attrs,m=Kf(c,l,p);m&&(d=m.from,h=m.to),n.removeMark(d,h,l)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,l)});return n.removeStoredMark(l),!0},sw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=zl(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=et(t,r.schema)),a==="mark"&&(o=xr(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(f,d)=>{s&&s===f.type&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(h=>{if(o===h.type){const p=Math.max(d,c),m=Math.min(d+f.nodeSize,u);n.addMark(p,m,o.create({...h.attrs,...e}))}})})}),!0):!1},ow=(t,e={})=>({state:n,dispatch:r})=>{const i=et(t,n.schema);return Bx(i,e)(n,r)},aw=(t,e={})=>({state:n,dispatch:r})=>{const i=et(t,n.schema);return Lx(i,e)(n,r)};var lw=Object.freeze({__proto__:null,blur:sS,clearContent:oS,clearNodes:aS,command:lS,createParagraphNear:uS,deleteNode:cS,deleteRange:fS,deleteSelection:dS,enter:hS,exitCode:pS,extendMarkRange:gS,first:yS,focus:bS,forEach:kS,insertContent:CS,insertContentAt:AS,joinBackward:xS,joinForward:SS,keyboardShortcut:OS,lift:TS,liftEmptyBlock:MS,liftListItem:_S,newlineInCode:FS,resetAttributes:PS,scrollIntoView:NS,selectAll:RS,selectNodeBackward:IS,selectNodeForward:BS,selectParentNode:LS,selectTextblockEnd:$S,selectTextblockStart:VS,setContent:jS,setMark:HS,setMeta:zS,setNode:KS,setNodeSelection:US,setTextSelection:qS,sinkListItem:WS,splitBlock:GS,splitListItem:YS,toggleList:XS,toggleMark:ZS,toggleNode:ew,toggleWrap:tw,undoInputRule:nw,unsetAllMarks:rw,unsetMark:iw,updateAttributes:sw,wrapIn:ow,wrapInList:aw});const uw=vt.create({name:"commands",addCommands(){return{...lw}}}),cw=vt.create({name:"editable",addProseMirrorPlugins(){return[new st({key:new $t("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fw=vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new st({key:new $t("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),dw=vt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:d,parent:h}=f,p=me.atStart(c).from===d;return!u||!p||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Uf()||D0()?s:i},addProseMirrorPlugins(){return[new st({key:new $t("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:s,to:o}=e.selection,a=me.atStart(e.doc).from,l=me.atEnd(e.doc).to,c=s===a&&o===l,u=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!c||!u)return;const f=n.tr,d=Ll({state:n,transaction:f}),{commands:h}=new $l({editor:this.editor,state:d});if(h.clearNodes(),!!f.steps.length)return f}})]}}),hw=vt.create({name:"tabindex",addProseMirrorPlugins(){return[new st({key:new $t("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var pw=Object.freeze({__proto__:null,ClipboardTextSerializer:iS,Commands:uw,Editable:cw,FocusEvents:fw,Keymap:dw,Tabindex:hw});function mw(t,e){const n=et(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function A0(t,e){const n=zl(typeof e=="string"?e:e.name,t.schema);return n==="node"?mw(t,e):n==="mark"?qf(t,e):{}}function gw(t,e){const n=Wt.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function yw(t,e){const n={from:0,to:t.content.size};return y0(t,n,e)}function vw(t,e,n={}){if(!e)return Ao(t,null,n)||Pc(t,null,n);const r=zl(e,t.schema);return r==="node"?Ao(t,e,n):r==="mark"?Pc(t,e,n):!1}function bw(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}const kw=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Cw(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class Dw extends Kx{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Cw(kw,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=g0(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(pw):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new ji(n,this)}createCommandManager(){this.commandManager=new $l({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=E0(this.options.content,this.schema,this.options.parseOptions),n=C0(e,this.options.autofocus);this.view=new fx(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Li.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return A0(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return vw(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return gw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return yw(this.state.doc,{blockSeparator:n,textSerializers:{...r,...v0(this.schema)}})}get isEmpty(){return bw(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function Ew(t,e){const n=new Oy(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Aw(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function xw(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Sw(t){const e=xw(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function ww(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),f=e.invert().map(c,-1),d=e.invert().map(u);r.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),Sw(r)}function Ha(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t-1),o=Kf(s,i.type);!o||r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function Ow(t){return b0(t)&&t instanceof Y}function x0(t,e,n){const i=t.state.doc.content.size,s=$n(e,0,i),o=$n(n,0,i),a=t.coordsAtPos(s),l=t.coordsAtPos(o,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),f=Math.min(a.left,l.left),d=Math.max(a.right,l.right),h=d-f,p=u-c,y={top:c,bottom:u,left:f,right:d,width:h,height:p,x:f,y:c};return{...y,toJSON:()=>y}}function fs(t){return new jl({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];let l=n.to;if(o){const c=a.search(/\S/),u=n.from+a.indexOf(o),f=u+o.length;if(Ha(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>u).length)return null;f<n.to&&s.delete(f,n.to),u>n.from&&s.delete(n.from+c,u),l=n.from+c+o.length,s.addMark(n.from+c,l,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function Tw(t){return new jl({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);let c=o+l;c>a?c=a:a=c+r[1].length;const u=r[0][r[0].length-1];s.insertText(u,o+r[0].length-1),s.replaceWith(c,a,t.type.create(i))}else r[0]&&s.replaceWith(o,a,t.type.create(i))}})}function Nc(t){return new jl({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=De(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Jf(t){return new jl({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),l=a&&Tf(a,t.type,i);if(!l)return null;s.wrap(a,l);const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Io(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}class En{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ee(this,"addOptions",{name:this.name}))),this.storage=De(ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new En(e)}configure(e={}){const n=this.extend();return n.options=Hl(this.options,e),n.storage=De(ee(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new En(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ee(n,"addOptions",{name:n.name})),n.storage=De(ee(n,"addStorage",{name:n.name,options:n.options})),n}}class xt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ee(this,"addOptions",{name:this.name}))),this.storage=De(ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xt(e)}configure(e={}){const n=this.extend();return n.options=Hl(this.options,e),n.storage=De(ee(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new xt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ee(n,"addOptions",{name:n.name})),n.storage=De(ee(n,"addStorage",{name:n.name,options:n.options})),n}}function pi(t){return new Xx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];let l=n.to;if(o){const c=a.search(/\S/),u=n.from+a.indexOf(o),f=u+o.length;if(Ha(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>u).length)return null;f<n.to&&s.delete(f,n.to),u>n.from&&s.delete(n.from+c,u),l=n.from+c+o.length,s.addMark(n.from+c,l,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}var Ct="top",Yt="bottom",Qt="right",Dt="left",Kl="auto",Lo=[Ct,Yt,Qt,Dt],ds="start",xo="end",Mw="clippingParents",S0="viewport",_s="popper",_w="reference",_p=Lo.reduce(function(t,e){return t.concat([e+"-"+ds,e+"-"+xo])},[]),w0=[].concat(Lo,[Kl]).reduce(function(t,e){return t.concat([e,e+"-"+ds,e+"-"+xo])},[]),Fw="beforeRead",Pw="read",Nw="afterRead",Rw="beforeMain",Iw="main",Bw="afterMain",Lw="beforeWrite",$w="write",Vw="afterWrite",Rc=[Fw,Pw,Nw,Rw,Iw,Bw,Lw,$w,Vw];function An(t){return t?(t.nodeName||"").toLowerCase():null}function an(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hs(t){var e=an(t).Element;return t instanceof e||t instanceof Element}function It(t){var e=an(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Gf(t){if(typeof ShadowRoot=="undefined")return!1;var e=an(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function jw(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!It(s)||!An(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Hw(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!It(i)||!An(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var O0={name:"applyStyles",enabled:!0,phase:"write",fn:jw,effect:Hw,requires:["computeStyles"]};function sn(t){return t.split("-")[0]}var ii=Math.max,za=Math.min,ps=Math.round;function ms(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(It(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(r=ps(n.width)/o||1),s>0&&(i=ps(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Yf(t){var e=ms(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function T0(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Gf(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function on(t){return an(t).getComputedStyle(t)}function zw(t){return["table","td","th"].indexOf(An(t))>=0}function Sr(t){return((hs(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ul(t){return An(t)==="html"?t:t.assignedSlot||t.parentNode||(Gf(t)?t.host:null)||Sr(t)}function Fp(t){return!It(t)||on(t).position==="fixed"?null:t.offsetParent}function Kw(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&It(t)){var r=on(t);if(r.position==="fixed")return null}var i=Ul(t);for(Gf(i)&&(i=i.host);It(i)&&["html","body"].indexOf(An(i))<0;){var s=on(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function $o(t){for(var e=an(t),n=Fp(t);n&&zw(n)&&on(n).position==="static";)n=Fp(n);return n&&(An(n)==="html"||An(n)==="body"&&on(n).position==="static")?e:n||Kw(t)||e}function Qf(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ro(t,e,n){return ii(t,za(e,n))}function Uw(t,e,n){var r=ro(t,e,n);return r>n?n:r}function M0(){return{top:0,right:0,bottom:0,left:0}}function _0(t){return Object.assign({},M0(),t)}function F0(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var qw=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,_0(typeof e!="number"?e:F0(e,Lo))};function Ww(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=sn(n.placement),l=Qf(a),c=[Dt,Qt].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var f=qw(i.padding,n),d=Yf(s),h=l==="y"?Ct:Dt,p=l==="y"?Yt:Qt,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],v=o[l]-n.rects.reference[l],y=$o(s),k=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,S=m/2-v/2,b=f[h],O=k-d[u]-f[p],x=k/2-d[u]/2+S,P=ro(b,x,O),D=l;n.modifiersData[r]=(e={},e[D]=P,e.centerOffset=P-x,e)}}function Jw(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;if(i!=null&&!(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i))){if(It(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!T0(e.elements.popper,i)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}e.elements.arrow=i}}var Gw={name:"arrow",enabled:!0,phase:"main",fn:Ww,effect:Jw,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gs(t){return t.split("-")[1]}var Yw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qw(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:ps(e*i)/i||0,y:ps(n*i)/i||0}}function Pp(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,m=p===void 0?0:p,v=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var y=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),S=Dt,b=Ct,O=window;if(c){var x=$o(n),P="clientHeight",D="clientWidth";if(x===an(n)&&(x=Sr(n),on(x).position!=="static"&&a==="absolute"&&(P="scrollHeight",D="scrollWidth")),x=x,i===Ct||(i===Dt||i===Qt)&&s===xo){b=Yt;var L=f&&x===O&&O.visualViewport?O.visualViewport.height:x[P];m-=L-r.height,m*=l?1:-1}if(i===Dt||(i===Ct||i===Yt)&&s===xo){S=Qt;var j=f&&x===O&&O.visualViewport?O.visualViewport.width:x[D];h-=j-r.width,h*=l?1:-1}}var z=Object.assign({position:a},c&&Yw),_=u===!0?Qw({x:h,y:m}):{x:h,y:m};if(h=_.x,m=_.y,l){var G;return Object.assign({},z,(G={},G[b]=k?"0":"",G[S]=y?"0":"",G.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",G))}return Object.assign({},z,(e={},e[b]=k?m+"px":"",e[S]=y?h+"px":"",e.transform="",e))}function Xw(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a;{var c=on(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some(function(f){return c.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:sn(e.placement),variation:gs(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Pp(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Pp(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Zw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xw,data:{}},ra={passive:!0};function eO(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=an(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,ra)}),a&&l.addEventListener("resize",n.update,ra),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,ra)}),a&&l.removeEventListener("resize",n.update,ra)}}var tO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eO,data:{}},nO={left:"right",right:"left",bottom:"top",top:"bottom"};function pa(t){return t.replace(/left|right|bottom|top/g,function(e){return nO[e]})}var rO={start:"end",end:"start"};function Np(t){return t.replace(/start|end/g,function(e){return rO[e]})}function Xf(t){var e=an(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Zf(t){return ms(Sr(t)).left+Xf(t).scrollLeft}function iO(t){var e=an(t),n=Sr(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+Zf(t),y:a}}function sO(t){var e,n=Sr(t),r=Xf(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ii(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ii(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Zf(t),l=-r.scrollTop;return on(i||n).direction==="rtl"&&(a+=ii(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ed(t){var e=on(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function P0(t){return["html","body","#document"].indexOf(An(t))>=0?t.ownerDocument.body:It(t)&&ed(t)?t:P0(Ul(t))}function io(t,e){var n;e===void 0&&(e=[]);var r=P0(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=an(r),o=i?[s].concat(s.visualViewport||[],ed(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(io(Ul(o)))}function Ic(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function oO(t){var e=ms(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Rp(t,e){return e===S0?Ic(iO(t)):hs(e)?oO(e):Ic(sO(Sr(t)))}function aO(t){var e=io(Ul(t)),n=["absolute","fixed"].indexOf(on(t).position)>=0,r=n&&It(t)?$o(t):t;return hs(r)?e.filter(function(i){return hs(i)&&T0(i,r)&&An(i)!=="body"}):[]}function lO(t,e,n){var r=e==="clippingParents"?aO(t):[].concat(e),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var c=Rp(t,l);return a.top=ii(c.top,a.top),a.right=za(c.right,a.right),a.bottom=za(c.bottom,a.bottom),a.left=ii(c.left,a.left),a},Rp(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function N0(t){var e=t.reference,n=t.element,r=t.placement,i=r?sn(r):null,s=r?gs(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ct:l={x:o,y:e.y-n.height};break;case Yt:l={x:o,y:e.y+e.height};break;case Qt:l={x:e.x+e.width,y:a};break;case Dt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Qf(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ds:l[c]=l[c]-(e[u]/2-n[u]/2);break;case xo:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function So(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,o=s===void 0?Mw:s,a=n.rootBoundary,l=a===void 0?S0:a,c=n.elementContext,u=c===void 0?_s:c,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,m=_0(typeof p!="number"?p:F0(p,Lo)),v=u===_s?_w:_s,y=t.rects.popper,k=t.elements[d?v:u],S=lO(hs(k)?k:k.contextElement||Sr(t.elements.popper),o,l),b=ms(t.elements.reference),O=N0({reference:b,element:y,strategy:"absolute",placement:i}),x=Ic(Object.assign({},y,O)),P=u===_s?x:b,D={top:S.top-P.top+m.top,bottom:P.bottom-S.bottom+m.bottom,left:S.left-P.left+m.left,right:P.right-S.right+m.right},L=t.modifiersData.offset;if(u===_s&&L){var j=L[i];Object.keys(D).forEach(function(z){var _=[Qt,Yt].indexOf(z)>=0?1:-1,G=[Ct,Yt].indexOf(z)>=0?"y":"x";D[z]+=j[G]*_})}return D}function uO(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?w0:l,u=gs(r),f=u?a?_p:_p.filter(function(p){return gs(p)===u}):Lo,d=f.filter(function(p){return c.indexOf(p)>=0});d.length===0&&(d=f,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var h=d.reduce(function(p,m){return p[m]=So(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[sn(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function cO(t){if(sn(t)===Kl)return[];var e=pa(t);return[Np(t),e,Np(e)]}function fO(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,v=e.options.placement,y=sn(v),k=y===v,S=l||(k||!p?[pa(v)]:cO(v)),b=[v].concat(S).reduce(function(Je,A){return Je.concat(sn(A)===Kl?uO(e,{placement:A,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:m}):A)},[]),O=e.rects.reference,x=e.rects.popper,P=new Map,D=!0,L=b[0],j=0;j<b.length;j++){var z=b[j],_=sn(z),G=gs(z)===ds,U=[Ct,Yt].indexOf(_)>=0,ve=U?"width":"height",te=So(e,{placement:z,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),re=U?G?Qt:Dt:G?Yt:Ct;O[ve]>x[ve]&&(re=pa(re));var ie=pa(re),be=[];if(s&&be.push(te[_]<=0),a&&be.push(te[re]<=0,te[ie]<=0),be.every(function(Je){return Je})){L=z,D=!1;break}P.set(z,be)}if(D)for(var Se=p?3:1,je=function(A){var W=b.find(function(K){var q=P.get(K);if(q)return q.slice(0,A).every(function(ke){return ke})});if(W)return L=W,"break"},We=Se;We>0;We--){var ot=je(We);if(ot==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}var dO={name:"flip",enabled:!0,phase:"main",fn:fO,requiresIfExists:["offset"],data:{_skip:!1}};function Ip(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bp(t){return[Ct,Qt,Yt,Dt].some(function(e){return t[e]>=0})}function hO(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=So(e,{elementContext:"reference"}),a=So(e,{altBoundary:!0}),l=Ip(o,r),c=Ip(a,i,s),u=Bp(l),f=Bp(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}var pO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hO};function mO(t,e,n){var r=sn(t),i=[Dt,Ct].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Dt,Qt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function gO(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=w0.reduce(function(u,f){return u[f]=mO(f,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}var yO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gO};function vO(t){var e=t.state,n=t.name;e.modifiersData[n]=N0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var bO={name:"popperOffsets",enabled:!0,phase:"read",fn:vO,data:{}};function kO(t){return t==="x"?"y":"x"}function CO(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,m=p===void 0?0:p,v=So(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=sn(e.placement),k=gs(e.placement),S=!k,b=Qf(y),O=kO(b),x=e.modifiersData.popperOffsets,P=e.rects.reference,D=e.rects.popper,L=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,j=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(!!x){if(s){var G,U=b==="y"?Ct:Dt,ve=b==="y"?Yt:Qt,te=b==="y"?"height":"width",re=x[b],ie=re+v[U],be=re-v[ve],Se=h?-D[te]/2:0,je=k===ds?P[te]:D[te],We=k===ds?-D[te]:-P[te],ot=e.elements.arrow,Je=h&&ot?Yf(ot):{width:0,height:0},A=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:M0(),W=A[U],K=A[ve],q=ro(0,P[te],Je[te]),ke=S?P[te]/2-Se-q-W-j.mainAxis:je-q-W-j.mainAxis,Me=S?-P[te]/2+Se+q+K+j.mainAxis:We+q+K+j.mainAxis,ce=e.elements.arrow&&$o(e.elements.arrow),he=ce?b==="y"?ce.clientTop||0:ce.clientLeft||0:0,Te=(G=z==null?void 0:z[b])!=null?G:0,g=re+ke-Te-he,C=re+Me-Te,E=ro(h?za(ie,g):ie,re,h?ii(be,C):be);x[b]=E,_[b]=E-re}if(a){var M,T=b==="x"?Ct:Dt,B=b==="x"?Yt:Qt,V=x[O],N=O==="y"?"height":"width",$=V+v[T],F=V-v[B],Z=[Ct,Dt].indexOf(y)!==-1,Q=(M=z==null?void 0:z[O])!=null?M:0,ne=Z?$:V-P[N]-D[N]-Q+j.altAxis,fe=Z?V+P[N]+D[N]-Q-j.altAxis:F,Ae=h&&Z?Uw(ne,V,fe):ro(h?ne:$,V,h?fe:F);x[O]=Ae,_[O]=Ae-V}e.modifiersData[r]=_}}var DO={name:"preventOverflow",enabled:!0,phase:"main",fn:CO,requiresIfExists:["offset"]};function EO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function AO(t){return t===an(t)||!It(t)?Xf(t):EO(t)}function xO(t){var e=t.getBoundingClientRect(),n=ps(e.width)/t.offsetWidth||1,r=ps(e.height)/t.offsetHeight||1;return n!==1||r!==1}function SO(t,e,n){n===void 0&&(n=!1);var r=It(e),i=It(e)&&xO(e),s=Sr(e),o=ms(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((An(e)!=="body"||ed(s))&&(a=AO(e)),It(e)?(l=ms(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Zf(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function wO(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function OO(t){var e=wO(t);return Rc.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function TO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function er(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(i,s){return i.replace(/%s/,s)},t)}var Fr='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',MO='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Lp=["name","enabled","phase","fn","effect","requires","options"];function _O(t){t.forEach(function(e){[].concat(Object.keys(e),Lp).filter(function(n,r,i){return i.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof e.name!="string"&&console.error(er(Fr,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(er(Fr,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":Rc.indexOf(e.phase)<0&&console.error(er(Fr,e.name,'"phase"',"either "+Rc.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(er(Fr,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(er(Fr,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(er(Fr,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(er(Fr,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+Lp.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach(function(r){t.find(function(i){return i.name===r})==null&&console.error(er(MO,String(e.name),r,r))})})})}function FO(t,e){var n=new Set;return t.filter(function(r){var i=e(r);if(!n.has(i))return n.add(i),!0})}function PO(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var $p="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",NO="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Vp={placement:"bottom",modifiers:[],strategy:"absolute"};function jp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function RO(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Vp:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vp,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(y){var k=typeof y=="function"?y(u.options):y;m(),u.options=Object.assign({},s,u.options,k),u.scrollParents={reference:hs(a)?io(a):a.contextElement?io(a.contextElement):[],popper:io(l)};var S=OO(PO([].concat(r,u.options.modifiers)));u.orderedModifiers=S.filter(function(z){return z.enabled});{var b=FO([].concat(S,u.options.modifiers),function(z){var _=z.name;return _});if(_O(b),sn(u.options.placement)===Kl){var O=u.orderedModifiers.find(function(z){var _=z.name;return _==="flip"});O||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var x=on(l),P=x.marginTop,D=x.marginRight,L=x.marginBottom,j=x.marginLeft;[P,D,L,j].some(function(z){return parseFloat(z)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return p(),h.update()},forceUpdate:function(){if(!d){var y=u.elements,k=y.reference,S=y.popper;if(!jp(k,S)){console.error($p);return}u.rects={reference:SO(k,$o(S),u.options.strategy==="fixed"),popper:Yf(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(z){return u.modifiersData[z.name]=Object.assign({},z.data)});for(var b=0,O=0;O<u.orderedModifiers.length;O++){if(b+=1,b>100){console.error(NO);break}if(u.reset===!0){u.reset=!1,O=-1;continue}var x=u.orderedModifiers[O],P=x.fn,D=x.options,L=D===void 0?{}:D,j=x.name;typeof P=="function"&&(u=P({state:u,options:L,name:j,instance:h})||u)}}},update:TO(function(){return new Promise(function(v){h.forceUpdate(),v(u)})}),destroy:function(){m(),d=!0}};if(!jp(a,l))return console.error($p),h;h.setOptions(c).then(function(v){!d&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var y=v.name,k=v.options,S=k===void 0?{}:k,b=v.effect;if(typeof b=="function"){var O=b({state:u,name:y,instance:h,options:S}),x=function(){};f.push(O||x)}})}function m(){f.forEach(function(v){return v()}),f=[]}return h}}var IO=[tO,bO,Zw,O0,yO,dO,DO,Gw,pO],BO=RO({defaultModifiers:IO}),LO="tippy-box",R0="tippy-content",$O="tippy-backdrop",I0="tippy-arrow",B0="tippy-svg-arrow",Lr={passive:!0,capture:!0},L0=function(){return document.body};function VO(t,e){return{}.hasOwnProperty.call(t,e)}function Tu(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function td(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function $0(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Hp(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function jO(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function HO(t){return t.split(/\s+/).filter(Boolean)}function Ni(t){return[].concat(t)}function zp(t,e){t.indexOf(e)===-1&&t.push(e)}function zO(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function KO(t){return t.split("-")[0]}function Ka(t){return[].slice.call(t)}function Kp(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function so(){return document.createElement("div")}function wo(t){return["Element","Fragment"].some(function(e){return td(t,e)})}function UO(t){return td(t,"NodeList")}function qO(t){return td(t,"MouseEvent")}function WO(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function JO(t){return wo(t)?[t]:UO(t)?Ka(t):Array.isArray(t)?t:Ka(document.querySelectorAll(t))}function Mu(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Up(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function GO(t){var e,n=Ni(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function YO(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=KO(o.placement),u=o.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,d=c==="top"?u.bottom.y:0,h=c==="right"?u.left.x:0,p=c==="left"?u.right.x:0,m=s.top-r+f>l,v=r-s.bottom-d>l,y=s.left-n+h>l,k=n-s.right-p>l;return m||v||y||k})}function _u(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function qp(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var dn={isTouch:!1},Wp=0;function QO(){dn.isTouch||(dn.isTouch=!0,window.performance&&document.addEventListener("mousemove",V0))}function V0(){var t=performance.now();t-Wp<20&&(dn.isTouch=!1,document.removeEventListener("mousemove",V0)),Wp=t}function XO(){var t=document.activeElement;if(WO(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function ZO(){document.addEventListener("touchstart",QO,Lr),window.addEventListener("blur",XO)}var eT=typeof window!="undefined"&&typeof document!="undefined",tT=eT?!!window.msCrypto:!1;function Oi(t){var e=t==="destroy"?"n already-":" ";return[t+"() was called on a"+e+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Jp(t){var e=/[ \t]{2,}/g,n=/^[ \t]*/gm;return t.replace(e," ").replace(n,"").trim()}function nT(t){return Jp(`
  %ctippy.js

  %c`+Jp(t)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function j0(t){return[nT(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Oo;rT();function rT(){Oo=new Set}function Fn(t,e){if(t&&!Oo.has(e)){var n;Oo.add(e),(n=console).warn.apply(n,j0(e))}}function Bc(t,e){if(t&&!Oo.has(e)){var n;Oo.add(e),(n=console).error.apply(n,j0(e))}}function iT(t){var e=!t,n=Object.prototype.toString.call(t)==="[object Object]"&&!t.addEventListener;Bc(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Bc(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var H0={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},sT={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},_t=Object.assign({appendTo:L0,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},H0,sT),oT=Object.keys(_t),aT=function(e){K0(e,[]);var n=Object.keys(e);n.forEach(function(r){_t[r]=e[r]})};function z0(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=_t[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function lT(t,e){var n=e?Object.keys(z0(Object.assign({},_t,{plugins:e}))):oT,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function Gp(t,e){var n=Object.assign({},e,{content:$0(e.content,[t])},e.ignoreAttributes?{}:lT(t,e.plugins));return n.aria=Object.assign({},_t.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}function K0(t,e){t===void 0&&(t={}),e===void 0&&(e=[]);var n=Object.keys(t);n.forEach(function(r){var i=jO(_t,Object.keys(H0)),s=!VO(i,r);s&&(s=e.filter(function(o){return o.name===r}).length===0),Fn(s,["`"+r+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var uT=function(){return"innerHTML"};function Lc(t,e){t[uT()]=e}function Yp(t){var e=so();return t===!0?e.className=I0:(e.className=B0,wo(t)?e.appendChild(t):Lc(e,t)),e}function Qp(t,e){wo(e.content)?(Lc(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Lc(t,e.content):t.textContent=e.content)}function $c(t){var e=t.firstElementChild,n=Ka(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(R0)}),arrow:n.find(function(r){return r.classList.contains(I0)||r.classList.contains(B0)}),backdrop:n.find(function(r){return r.classList.contains($O)})}}function U0(t){var e=so(),n=so();n.className=LO,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=so();r.className=R0,r.setAttribute("data-state","hidden"),Qp(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=$c(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Qp(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(Yp(o.arrow))):l.appendChild(Yp(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}U0.$$tippy=!0;var cT=1,ia=[],Fu=[];function fT(t,e){var n=Gp(t,Object.assign({},_t,z0(Kp(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,u,f,d,h=[],p=Hp(g,n.interactiveDebounce),m,v=cT++,y=null,k=zO(n.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:v,reference:t,popper:so(),popperInstance:y,props:n,state:S,plugins:k,clearDelayTimeouts:ne,setProps:fe,setContent:Ae,show:Pe,hide:Ne,hideWithInteractivity:Le,enable:Z,disable:Q,unmount:St,destroy:qn};if(!n.render)return Bc(!0,"render() function has not been supplied."),b;var O=n.render(b),x=O.popper,P=O.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+b.id,b.popper=x,t._tippy=b,x._tippy=b;var D=k.map(function(w){return w.fn(b)}),L=t.hasAttribute("aria-expanded");return ce(),Se(),re(),ie("onCreate",[b]),n.showOnCreate&&$(),x.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&U().addEventListener("mousemove",p)}),b;function j(){var w=b.props.touch;return Array.isArray(w)?w:[w,0]}function z(){return j()[0]==="hold"}function _(){var w;return!!((w=b.props.render)!=null&&w.$$tippy)}function G(){return m||t}function U(){var w=G().parentNode;return w?GO(w):document}function ve(){return $c(x)}function te(w){return b.state.isMounted&&!b.state.isVisible||dn.isTouch||u&&u.type==="focus"?0:Tu(b.props.delay,w?0:1,_t.delay)}function re(w){w===void 0&&(w=!1),x.style.pointerEvents=b.props.interactive&&!w?"":"none",x.style.zIndex=""+b.props.zIndex}function ie(w,X,le){if(le===void 0&&(le=!0),D.forEach(function(ge){ge[w]&&ge[w].apply(ge,X)}),le){var pe;(pe=b.props)[w].apply(pe,X)}}function be(){var w=b.props.aria;if(!!w.content){var X="aria-"+w.content,le=x.id,pe=Ni(b.props.triggerTarget||t);pe.forEach(function(ge){var Ge=ge.getAttribute(X);if(b.state.isVisible)ge.setAttribute(X,Ge?Ge+" "+le:le);else{var Vt=Ge&&Ge.replace(le,"").trim();Vt?ge.setAttribute(X,Vt):ge.removeAttribute(X)}})}}function Se(){if(!(L||!b.props.aria.expanded)){var w=Ni(b.props.triggerTarget||t);w.forEach(function(X){b.props.interactive?X.setAttribute("aria-expanded",b.state.isVisible&&X===G()?"true":"false"):X.removeAttribute("aria-expanded")})}}function je(){U().removeEventListener("mousemove",p),ia=ia.filter(function(w){return w!==p})}function We(w){if(!(dn.isTouch&&(l||w.type==="mousedown"))){var X=w.composedPath&&w.composedPath()[0]||w.target;if(!(b.props.interactive&&qp(x,X))){if(Ni(b.props.triggerTarget||t).some(function(le){return qp(le,X)})){if(dn.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else ie("onClickOutside",[b,w]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),a=!0,setTimeout(function(){a=!1}),b.state.isMounted||W())}}}function ot(){l=!0}function Je(){l=!1}function A(){var w=U();w.addEventListener("mousedown",We,!0),w.addEventListener("touchend",We,Lr),w.addEventListener("touchstart",Je,Lr),w.addEventListener("touchmove",ot,Lr)}function W(){var w=U();w.removeEventListener("mousedown",We,!0),w.removeEventListener("touchend",We,Lr),w.removeEventListener("touchstart",Je,Lr),w.removeEventListener("touchmove",ot,Lr)}function K(w,X){ke(w,function(){!b.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&X()})}function q(w,X){ke(w,X)}function ke(w,X){var le=ve().box;function pe(ge){ge.target===le&&(_u(le,"remove",pe),X())}if(w===0)return X();_u(le,"remove",f),_u(le,"add",pe),f=pe}function Me(w,X,le){le===void 0&&(le=!1);var pe=Ni(b.props.triggerTarget||t);pe.forEach(function(ge){ge.addEventListener(w,X,le),h.push({node:ge,eventType:w,handler:X,options:le})})}function ce(){z()&&(Me("touchstart",Te,{passive:!0}),Me("touchend",C,{passive:!0})),HO(b.props.trigger).forEach(function(w){if(w!=="manual")switch(Me(w,Te),w){case"mouseenter":Me("mouseleave",C);break;case"focus":Me(tT?"focusout":"blur",E);break;case"focusin":Me("focusout",E);break}})}function he(){h.forEach(function(w){var X=w.node,le=w.eventType,pe=w.handler,ge=w.options;X.removeEventListener(le,pe,ge)}),h=[]}function Te(w){var X,le=!1;if(!(!b.state.isEnabled||M(w)||a)){var pe=((X=u)==null?void 0:X.type)==="focus";u=w,m=w.currentTarget,Se(),!b.state.isVisible&&qO(w)&&ia.forEach(function(ge){return ge(w)}),w.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?le=!0:$(w),w.type==="click"&&(o=!le),le&&!pe&&F(w)}}function g(w){var X=w.target,le=G().contains(X)||x.contains(X);if(!(w.type==="mousemove"&&le)){var pe=N().concat(x).map(function(ge){var Ge,Vt=ge._tippy,Ei=(Ge=Vt.popperInstance)==null?void 0:Ge.state;return Ei?{popperRect:ge.getBoundingClientRect(),popperState:Ei,props:n}:null}).filter(Boolean);YO(pe,w)&&(je(),F(w))}}function C(w){var X=M(w)||b.props.trigger.indexOf("click")>=0&&o;if(!X){if(b.props.interactive){b.hideWithInteractivity(w);return}F(w)}}function E(w){b.props.trigger.indexOf("focusin")<0&&w.target!==G()||b.props.interactive&&w.relatedTarget&&x.contains(w.relatedTarget)||F(w)}function M(w){return dn.isTouch?z()!==w.type.indexOf("touch")>=0:!1}function T(){B();var w=b.props,X=w.popperOptions,le=w.placement,pe=w.offset,ge=w.getReferenceClientRect,Ge=w.moveTransition,Vt=_()?$c(x).arrow:null,Ei=ge?{getBoundingClientRect:ge,contextElement:ge.contextElement||G()}:t,bd={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(zo){var Ai=zo.state;if(_()){var Av=ve(),Gl=Av.box;["placement","reference-hidden","escaped"].forEach(function(Ko){Ko==="placement"?Gl.setAttribute("data-placement",Ai.placement):Ai.attributes.popper["data-popper-"+Ko]?Gl.setAttribute("data-"+Ko,""):Gl.removeAttribute("data-"+Ko)}),Ai.attributes.popper={}}}},Or=[{name:"offset",options:{offset:pe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ge}},bd];_()&&Vt&&Or.push({name:"arrow",options:{element:Vt,padding:3}}),Or.push.apply(Or,(X==null?void 0:X.modifiers)||[]),b.popperInstance=BO(Ei,x,Object.assign({},X,{placement:le,onFirstUpdate:d,modifiers:Or}))}function B(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function V(){var w=b.props.appendTo,X,le=G();b.props.interactive&&w===L0||w==="parent"?X=le.parentNode:X=$0(w,[le]),X.contains(x)||X.appendChild(x),b.state.isMounted=!0,T(),Fn(b.props.interactive&&w===_t.appendTo&&le.nextElementSibling!==x,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function N(){return Ka(x.querySelectorAll("[data-tippy-root]"))}function $(w){b.clearDelayTimeouts(),w&&ie("onTrigger",[b,w]),A();var X=te(!0),le=j(),pe=le[0],ge=le[1];dn.isTouch&&pe==="hold"&&ge&&(X=ge),X?r=setTimeout(function(){b.show()},X):b.show()}function F(w){if(b.clearDelayTimeouts(),ie("onUntrigger",[b,w]),!b.state.isVisible){W();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(w.type)>=0&&o)){var X=te(!1);X?i=setTimeout(function(){b.state.isVisible&&b.hide()},X):s=requestAnimationFrame(function(){b.hide()})}}function Z(){b.state.isEnabled=!0}function Q(){b.hide(),b.state.isEnabled=!1}function ne(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function fe(w){if(Fn(b.state.isDestroyed,Oi("setProps")),!b.state.isDestroyed){ie("onBeforeUpdate",[b,w]),he();var X=b.props,le=Gp(t,Object.assign({},X,Kp(w),{ignoreAttributes:!0}));b.props=le,ce(),X.interactiveDebounce!==le.interactiveDebounce&&(je(),p=Hp(g,le.interactiveDebounce)),X.triggerTarget&&!le.triggerTarget?Ni(X.triggerTarget).forEach(function(pe){pe.removeAttribute("aria-expanded")}):le.triggerTarget&&t.removeAttribute("aria-expanded"),Se(),re(),P&&P(X,le),b.popperInstance&&(T(),N().forEach(function(pe){requestAnimationFrame(pe._tippy.popperInstance.forceUpdate)})),ie("onAfterUpdate",[b,w])}}function Ae(w){b.setProps({content:w})}function Pe(){Fn(b.state.isDestroyed,Oi("show"));var w=b.state.isVisible,X=b.state.isDestroyed,le=!b.state.isEnabled,pe=dn.isTouch&&!b.props.touch,ge=Tu(b.props.duration,0,_t.duration);if(!(w||X||le||pe)&&!G().hasAttribute("disabled")&&(ie("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,_()&&(x.style.visibility="visible"),re(),A(),b.state.isMounted||(x.style.transition="none"),_()){var Ge=ve(),Vt=Ge.box,Ei=Ge.content;Mu([Vt,Ei],0)}d=function(){var Or;if(!(!b.state.isVisible||c)){if(c=!0,x.offsetHeight,x.style.transition=b.props.moveTransition,_()&&b.props.animation){var Jl=ve(),zo=Jl.box,Ai=Jl.content;Mu([zo,Ai],ge),Up([zo,Ai],"visible")}be(),Se(),zp(Fu,b),(Or=b.popperInstance)==null||Or.forceUpdate(),ie("onMount",[b]),b.props.animation&&_()&&q(ge,function(){b.state.isShown=!0,ie("onShown",[b])})}},V()}}function Ne(){Fn(b.state.isDestroyed,Oi("hide"));var w=!b.state.isVisible,X=b.state.isDestroyed,le=!b.state.isEnabled,pe=Tu(b.props.duration,1,_t.duration);if(!(w||X||le)&&(ie("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,o=!1,_()&&(x.style.visibility="hidden"),je(),W(),re(!0),_()){var ge=ve(),Ge=ge.box,Vt=ge.content;b.props.animation&&(Mu([Ge,Vt],pe),Up([Ge,Vt],"hidden"))}be(),Se(),b.props.animation?_()&&K(pe,b.unmount):b.unmount()}}function Le(w){Fn(b.state.isDestroyed,Oi("hideWithInteractivity")),U().addEventListener("mousemove",p),zp(ia,p),p(w)}function St(){Fn(b.state.isDestroyed,Oi("unmount")),b.state.isVisible&&b.hide(),b.state.isMounted&&(B(),N().forEach(function(w){w._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),Fu=Fu.filter(function(w){return w!==b}),b.state.isMounted=!1,ie("onHidden",[b]))}function qn(){Fn(b.state.isDestroyed,Oi("destroy")),!b.state.isDestroyed&&(b.clearDelayTimeouts(),b.unmount(),he(),delete t._tippy,b.state.isDestroyed=!0,ie("onDestroy",[b]))}}function Es(t,e){e===void 0&&(e={});var n=_t.plugins.concat(e.plugins||[]);iT(t),K0(e,n),ZO();var r=Object.assign({},e,{plugins:n}),i=JO(t);{var s=wo(r.content),o=i.length>1;Fn(s&&o,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var a=i.reduce(function(l,c){var u=c&&fT(c,r);return u&&l.push(u),l},[]);return wo(t)?a[0]:a}Es.defaultProps=_t;Es.setDefaultProps=aT;Es.currentInput=dn;Object.assign({},O0,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Es.setDefaultProps({render:U0});class dT{constructor({editor:e,element:n,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:o,state:a,from:l,to:c})=>{const{doc:u,selection:f}=a,{empty:d}=f,h=!u.textBetween(l,c).length&&k0(a.selection);return!(!o.hasFocus()||d||h)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var a;if(this.preventHide){this.preventHide=!1;return}(o==null?void 0:o.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(o.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Es(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,i,s;const{state:o,composing:a}=e,{doc:l,selection:c}=o,u=n&&n.doc.eq(l)&&n.selection.eq(c);if(a||u)return;this.createTooltip();const{ranges:f}=c,d=Math.min(...f.map(m=>m.$from.pos)),h=Math.max(...f.map(m=>m.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:o,oldState:n,from:d,to:h}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>{if(Ow(o.selection)){const m=e.nodeDOM(d);if(m)return m.getBoundingClientRect()}return x0(e,d,h)})}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const q0=t=>new st({key:typeof t.pluginKey=="string"?new $t(t.pluginKey):t.pluginKey,view:e=>new dT({view:e,...t})});vt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[q0({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class hT{constructor({editor:e,element:n,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:o,state:a})=>{const{selection:l}=a,{$anchor:c,empty:u}=l,f=c.depth===1,d=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent;return!(!o.hasFocus()||!u||!f||!d)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var a;if(this.preventHide){this.preventHide=!1;return}(o==null?void 0:o.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(o.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Es(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,i,s;const{state:o}=e,{doc:a,selection:l}=o,{from:c,to:u}=l;if(n&&n.doc.eq(a)&&n.selection.eq(l))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:o,oldState:n}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>x0(e,c,u))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const W0=t=>new st({key:typeof t.pluginKey=="string"?new $t(t.pluginKey):t.pluginKey,view:e=>new hT({view:e,...t})});vt.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[W0({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const C_=yi({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=_o(null);return No(()=>{const{pluginKey:r,editor:i,tippyOptions:s,shouldShow:o}=t;i.registerPlugin(q0({pluginKey:r,editor:i,element:n.value,tippyOptions:s,shouldShow:o}))}),vi(()=>{const{pluginKey:r,editor:i}=t;i.unregisterPlugin(r)}),()=>{var r;return vn("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function Xp(t){return Cb((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class pT extends Dw{constructor(e={}){return super(e),this.vueRenderers=ks(new Map),this.contentComponent=null,this.reactiveState=Xp(this.view.state),this.reactiveExtensionStorage=Xp(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),af(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const D_=yi({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=_o(),n=wl();return yf(()=>{const r=t.editor;r&&r.options.element&&e.value&&hf(()=>{if(!e.value||!r.options.element.firstChild)return;const i=Ji(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),vi(()=>{const r=t.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=vn(j1,{to:e.teleportElement,key:e.id},vn(e.component,{ref:e.id,...e.props}));t.push(n)}),vn("div",{ref:e=>{this.rootEl=e}},...t)}});yi({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=_o(null);return No(()=>{const{pluginKey:r,editor:i,tippyOptions:s,shouldShow:o}=t;i.registerPlugin(W0({pluginKey:r,editor:i,element:n.value,tippyOptions:s,shouldShow:o}))}),vi(()=>{const{pluginKey:r,editor:i}=t;i.unregisterPlugin(r)}),()=>{var r;return vn("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});yi({props:{as:{type:String,default:"div"}},render(){return vn(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});yi({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return vn(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});const E_=(t={})=>{const e=Rm();return No(()=>{e.value=new pT(t)}),vi(()=>{var n;(n=e.value)===null||n===void 0||n.destroy()}),e},mT=/^\s*>\s$/,gT=xt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Jf({find:mT,type:this.type})]}}),yT=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,vT=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,bT=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,kT=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,CT=En.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[fs({find:yT,type:this.type}),fs({find:bT,type:this.type})]},addPasteRules(){return[pi({find:vT,type:this.type}),pi({find:kT,type:this.type})]}}),DT=/^\s*([-+*])\s$/,ET=xt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Jf({find:DT,type:this.type})]}}),AT=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,xT=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,ST=En.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[fs({find:AT,type:this.type})]},addPasteRules(){return[pi({find:xT,type:this.type})]}}),wT=/^```([a-z]+)?[\s\n]$/,OT=/^~~~([a-z]+)?[\s\n]$/,TT=xt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",tt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[Nc({find:wT,type:this.type,getAttributes:t=>({language:t[1]})}),Nc({find:OT,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new st({key:new $t("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o}=t.state;return o.replaceSelectionWith(this.type.create({language:s})),o.setSelection(ae.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),MT=xt.create({name:"doc",topNode:!0,content:"block+"});function _T(t={}){return new st({view(e){return new FT(e,t)}})}class FT{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let o=e.nodeBefore,a=e.nodeAfter;if(o||a){let l=this.editorView.nodeDOM(this.cursorPos-(o?o.nodeSize:0)).getBoundingClientRect(),c=o?l.bottom:l.top;o&&a&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:l.left,right:l.right,top:c-this.width/2,bottom:c+this.width/2}}}if(!n){let o=this.editorView.coordsAtPos(this.cursorPos);n={left:o.left-this.width/2,right:o.left+this.width/2,top:o.top,bottom:o.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,s=-pageYOffset;else{let o=r.getBoundingClientRect();i=o.left-r.scrollLeft,s=o.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-s+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(o=Mf(this.editorView.state.doc,o,this.editorView.dragging.slice),o==null))return this.setCursor(null);this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const PT=vt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_T(this.options)]}}),Dr=typeof navigator!="undefined"?navigator:null,Zp=typeof document!="undefined"?document:null,wr=Dr&&Dr.userAgent||"",Vc=/Edge\/(\d+)/.exec(wr),J0=/MSIE \d/.exec(wr),jc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wr),Vo=!!(J0||jc||Vc),G0=J0?document.documentMode:jc?+jc[1]:Vc?+Vc[1]:0,ql=!Vo&&/gecko\/(\d+)/i.test(wr);ql&&+(/Firefox\/(\d+)/.exec(wr)||[0,0])[1];const Hc=!Vo&&/Chrome\/(\d+)/.exec(wr),ki=!!Hc,NT=Hc?+Hc[1]:0,Ci=!Vo&&!!Dr&&/Apple Computer/.test(Dr.vendor),nd=Ci&&(/Mobile\/\w+/.test(wr)||!!Dr&&Dr.maxTouchPoints>2),Ut=nd||(Dr?/Mac/.test(Dr.platform):!1),jo=/Android \d/.test(wr),rd=!!Zp&&"webkitFontSmoothing"in Zp.documentElement.style,RT=rd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Ho=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},IT=function(t,e,n,r){return n&&(em(t,e,n,r,-1)||em(t,e,n,r,1))},BT=/^(img|br|input|textarea|hr)$/i;function em(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ua(t))){let s=t.parentNode;if(!s||s.nodeType!=1||$T(t)||BT.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ho(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ua(t):0}else return!1}}function Ua(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function LT(t,e,n){for(let r=e==0,i=e==Ua(t);r||i;){if(t==n)return!0;let s=Ho(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ua(t)}}function $T(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Y0=function(t){let e=t.isCollapsed;return e&&ki&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Q0(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function VT(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Y0(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Y.isSelectable(u)&&i.parent&&!(u.isInline&&LT(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new Y(o==f?a:r.resolve(f))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=Z0(t,l,a,u)}return c}function X0(t){return t.editable?t.hasFocus():KT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function id(t,e=!1){let n=t.state.selection;if(zT(t,n),!!X0(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ki){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&IT(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)HT(t);else{let{anchor:r,head:i}=n,s,o;tm&&!(n instanceof ae)&&(n.$from.parent.inlineContent||(s=nm(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=nm(t,n.to))),t.docView.setSelection(r,i,t.root,e),tm&&(s&&rm(s),o&&rm(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&jT(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const tm=Ci||ki&&NT<63;function nm(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Ci&&i&&i.contentEditable=="false")return Pu(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Pu(i);if(s)return Pu(s)}}function Pu(t){return t.contentEditable="true",Ci&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function rm(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function jT(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!X0(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function HT(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Ho(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Vo&&G0<=11&&(r.disabled=!0,r.disabled=!1)}function zT(t,e){if(e instanceof Y){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(im(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else im(t)}function im(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Z0(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ae.between(e,n,r)}function KT(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zc(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&me.findFrom(s,e)}function zr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function sm(t,e,n){let r=t.state.selection;if(r instanceof ae){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=zc(t.state,e);return i&&i instanceof Y?zr(t,i):!1}else if(!(Ut&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?Y.isSelectable(s)?zr(t,new Y(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):rd?zr(t,new ae(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else{if(r instanceof Y&&r.node.isInline)return zr(t,new ae(e>0?r.$to:r.$from));{let i=zc(t.state,e);return i?zr(t,i):!1}}}function qa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function oo(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Nu(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(ql&&n.nodeType==1&&r<qa(n)&&oo(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(oo(a))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(ev(n))break;{let a=n.previousSibling;for(;a&&oo(a);)i=n.parentNode,s=Ho(a),a=a.previousSibling;if(a)n=a,r=qa(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Kc(t,e,n,r):i&&Kc(t,e,i,s)}function Ru(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=qa(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(oo(a))s=n,o=++r;else break}else{if(ev(n))break;{let a=n.nextSibling;for(;a&&oo(a);)s=a.parentNode,o=Ho(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=qa(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Kc(t,e,s,o)}function ev(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Kc(t,e,n,r){if(Y0(e)){let s=document.createRange();s.setEnd(n,r),s.setStart(n,r),e.removeAllRanges(),e.addRange(s)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&id(t)},50)}function om(t,e,n){let r=t.state.selection;if(r instanceof ae&&!r.empty||n.indexOf("s")>-1||Ut&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=zc(t.state,e);if(o&&o instanceof Y)return zr(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Gt?me.near(o,e):me.findFrom(o,e);return a?zr(t,a):!1}return!1}function am(t,e){if(!(t.state.selection instanceof ae))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function lm(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function UT(t){if(!Ci||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;lm(t,r,"true"),setTimeout(()=>lm(t,r,"false"),20)}return!1}function qT(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function WT(t,e){let n=e.keyCode,r=qT(e);return n==8||Ut&&n==72&&r=="c"?am(t,-1)||Nu(t):n==46||Ut&&n==68&&r=="c"?am(t,1)||Ru(t):n==13||n==27?!0:n==37||Ut&&n==66&&r=="c"?sm(t,-1,r)||Nu(t):n==39||Ut&&n==70&&r=="c"?sm(t,1,r)||Ru(t):n==38||Ut&&n==80&&r=="c"?om(t,-1,r)||Nu(t):n==40||Ut&&n==78&&r=="c"?UT(t)||om(t,1,r)||Ru(t):r==(Ut?"m":"c")&&(n==66||n==73||n==89||n==90)}function tv(t,e){let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||Wt.fromSchema(t.state.schema),a=av(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=ov[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function nv(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,s||r)}),s)return e?new J(R.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r));if(f)a=f;else{let d=i.marks(),{schema:h}=t.state,p=Wt.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=o.appendChild(document.createElement("p"));m&&v.appendChild(p.serializeNode(h.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n)}),o=YT(n),rd&&QT(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0&&o.firstChild;f--)o=o.firstChild;if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||fi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!JT.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=XT(um(a,+u[1],+u[2]),u[4]);else if(a=J.maxOpen(GT(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let h=a.content.firstChild;f<a.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=a.content.lastChild;d<a.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);a=um(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a)}),a}const JT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GT(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&iv(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=sv(o[o.length-1],s.length));let u=rv(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return R.from(o)}return t}function rv(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,R.from(t));return t}function iv(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=iv(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(R.from(rv(n,t,i+1))))}}function sv(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,sv(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(R.empty,!0);return t.copy(n.append(r))}function Uc(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return i<r-1&&(a=Uc(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,t.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(R.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function um(t,e,n){return e<t.openStart&&(t=new J(Uc(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new J(Uc(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ov={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let cm=null;function av(){return cm||(cm=document.implementation.createHTMLDocument("title"))}function YT(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=av().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ov[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function QT(t){let e=t.querySelectorAll(ki?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function XT(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=R.from(l.create(r[a+1],i)),s++,o++}return new J(i,s,o)}const wn={};let Lt={};function Gr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}Lt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!uv(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(jo&&ki&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),nd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Q0(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||WT(t,n)?n.preventDefault():Gr(t,"key")};Lt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Lt.keypress=(t,e)=>{let n=e;if(uv(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ut&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ae)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Wl(t){return{left:t.clientX,top:t.clientY}}function ZT(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function sd(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function es(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function eM(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Y.isSelectable(r)?(es(t,new Y(n),"pointer"),!0):!1}function tM(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Y&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Y.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(es(t,Y.create(t.state.doc,i),"pointer"),!0):!1}function nM(t,e,n,r,i){return sd(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?tM(t,n):eM(t,n))}function rM(t,e,n,r){return sd(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function iM(t,e,n,r){return sd(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||sM(t,n,r)}function sM(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(es(t,ae.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)es(t,ae.create(r,a+1,a+1+o.content.size),"pointer");else if(Y.isSelectable(o))es(t,Y.create(r,a),"pointer");else continue;return!0}}function od(t){return Wa(t)}const lv=Ut?"metaKey":"ctrlKey";wn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=od(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&ZT(n,t.input.lastClick)&&!n[lv]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Wl(n));!o||(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new oM(t,o,n,!!r)):(s=="doubleClick"?rM:iM)(t,o.pos,o.inside,n)?n.preventDefault():Gr(t,"pointer"))};class oM{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[lv],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Y&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ql&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>id(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Wl(e))),this.allowDefault||!n?Gr(this.view,"pointer"):nM(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ci&&this.mightDrag&&!this.mightDrag.node.isAtom||ki&&!(this.view.state.selection instanceof ae)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(es(this.view,me.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Gr(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Gr(this.view,"pointer"),e.buttons==0&&this.done()}}wn.touchdown=t=>{od(t),Gr(t,"pointer")};wn.contextmenu=t=>od(t);function uv(t,e){return t.composing?!0:Ci&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const aM=jo?5e3:-1;Lt.compositionstart=Lt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Wa(t,!0),t.markCursor=null;else if(Wa(t),ql&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){r.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}cv(t,aM)};Lt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,cv(t,20))};function cv(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Wa(t),e))}function lM(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uM());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function uM(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Wa(t,e=!1){if(!(jo&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),lM(t),e||t.docView&&t.docView.dirty){let n=VT(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function cM(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ys=Vo&&G0<15||nd&&RT<604;wn.copy=Lt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=ys?null:n.clipboardData,o=r.content(),{dom:a,text:l}=tv(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):cM(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fM(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function dM(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?qc(t,r.value,null,e):qc(t,r.textContent,r.innerHTML,e)},50)}function qc(t,e,n,r){let i=nv(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||J.empty)))return!0;if(!i)return!1;let s=fM(i),o=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Lt.paste=(t,e)=>{let n=e;if(t.composing&&!jo)return;let r=ys?null:n.clipboardData;r&&qc(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():dM(t,n)};class hM{constructor(e,n){this.slice=e,this.move=n}}const fv=Ut?"altKey":"ctrlKey";wn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Wl(n));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Y?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Y.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(Y.create(t.state.doc,c.posBefore)))}}let o=t.state.selection.content(),{dom:a,text:l}=tv(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(ys?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",ys||n.dataTransfer.setData("text/plain",l),t.dragging=new hM(o,!n[fv])};wn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Lt.dragover=Lt.dragenter=(t,e)=>e.preventDefault();Lt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Wl(n));if(!i)return;let s=t.state.doc.resolve(i.pos);if(!s)return;let o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o)}):o=nv(t,n.dataTransfer.getData(ys?"Text":"text/plain"),ys?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[fv]);if(t.someProp("handleDrop",p=>p(t,n,o||J.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?Mf(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&Y.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Y(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,v,y,k)=>p=k),c.setSelection(Z0(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};wn.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&id(t)},20))};wn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};wn.beforeinput=(t,e)=>{if(ki&&jo&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Q0(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Lt)wn[t]=Lt[t];function To(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ad{constructor(e,n){this.toDOM=e,this.spec=n||si,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new yn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ad&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&To(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class pr{constructor(e,n){this.attrs=e,this.spec=n||si}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new yn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof pr&&To(this.attrs,e.attrs)&&To(this.spec,e.spec)}static is(e){return e.type instanceof pr}destroy(){}}class ld{constructor(e,n){this.attrs=e,this.spec=n||si}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new yn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof ld&&To(this.attrs,e.attrs)&&To(this.spec,e.spec)}destroy(){}}class yn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new yn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new yn(e,e,new ad(n,r))}static inline(e,n,r,i){return new yn(e,n,new pr(r,i))}static node(e,n,r,i){return new yn(e,n,new ld(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof pr}}const Ri=[],si={};class ct{constructor(e,n){this.local=e.length?e:Ri,this.children=n.length?n:Ri}static create(e,n){return n.length?Ja(n,e,0,si):pt}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==pt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||si)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?pM(this.children,o||[],e,n,r,i,s):o?new ct(o.sort(oi),Ri):pt}add(e,n){return n.length?this==pt?ct.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(!!(u=hv(n,a,c))){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,Ja(u,a,c+1,si)),s+=3}});let o=dv(s?pv(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new ct(o.length?this.local.concat(o).sort(oi):this.local,i||this.children)}remove(e){return e.length==0||this==pt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=pt?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ct(i,r):pt}forChild(e,n){if(this==pt)return this;if(n.isLeaf)return ct.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof pr){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new ct(i.sort(oi),Ri);return r?new Kr([a,r]):a}return r||pt}eq(e){if(this==e)return!0;if(!(e instanceof ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ud(this.localsInner(e))}localsInner(e){if(this==pt)return Ri;if(e.inlineContent||!this.local.some(pr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof pr||n.push(this.local[r]);return n}}ct.empty=new ct([],[]);ct.removeOverlap=ud;const pt=ct.empty;class Kr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,si));return Kr.from(r)}forChild(e,n){if(n.isLeaf)return ct.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=pt&&(s instanceof Kr?r=r.concat(s.members):r.push(s))}return Kr.from(r)}eq(e){if(!(e instanceof Kr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(!!s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?ud(r?n:n.sort(oi)):Ri}static from(e){switch(e.length){case 0:return pt;case 1:return e[0];default:return new Kr(e)}}}function pM(t,e,n,r,i,s,o){let a=t.slice(),l=(u,f,d,h)=>{for(let p=0;p<a.length;p+=3){let m=a[p+1],v;if(m<0||u>m+s)continue;let y=a[p]+s;f>=y?a[p+1]=u<=y?-2:-1:d>=i&&(v=h-d-(f-u))&&(a[p]+=v,a[p+1]+=v)}};for(let u=0;u<n.maps.length;u++)n.maps[u].forEach(l);let c=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){c=!0,a[u+1]=-1;continue}let f=n.map(t[u]+s),d=f-i;if(d<0||d>=r.content.size){c=!0;continue}let h=n.map(t[u+1]+s,-1),p=h-i,{index:m,offset:v}=r.content.findIndex(d),y=r.maybeChild(m);if(y&&v==d&&v+y.nodeSize==p){let k=a[u+2].mapInner(n,y,f+1,t[u]+s+1,o);k!=pt?(a[u]=d,a[u+1]=p,a[u+2]=k):(a[u+1]=-2,c=!0)}else c=!0}if(c){let u=mM(a,t,e,n,i,s,o),f=Ja(u,r,0,o);e=f.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<f.children.length;d+=3){let p=f.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,f.children[d],f.children[d+1],f.children[d+2])}}return new ct(e.sort(oi),a)}function dv(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new yn(i.from+e,i.to+e,i.type))}return n}function mM(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function hv(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function pv(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ja(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=hv(t,a,l+n);if(c){s=!0;let u=Ja(c,a,n+l+1,r);u!=pt&&i.push(l,l+a.nodeSize,u)}});let o=dv(s?pv(t):t,-n).sort(oi);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new ct(o,i):pt}function oi(t,e){return t.from-e.from||t.to-e.to}function ud(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),fm(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),fm(e,i,r.copy(s.from,r.to)));break}}}return e}function fm(t,e,n){for(;e<t.length&&oi(n,t[e])>0;)e++;t.splice(e,0,n)}class He extends me{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return He.valid(r)?new He(r):me.near(r)}content(){return J.empty}eq(e){return e instanceof He&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new He(e.resolve(n.pos))}getBookmark(){return new cd(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!gM(e)||!yM(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&He.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(He.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Y.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(He.valid(a))return a}return null}}}He.prototype.visible=!1;He.findFrom=He.findGapCursorFrom;me.jsonID("gapcursor",He);class cd{constructor(e){this.pos=e}map(e){return new cd(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return He.valid(n)?new He(n):me.near(n)}}function gM(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function yM(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function vM(){return new st({props:{decorations:DM,createSelectionBetween(t,e,n){return e.pos==n.pos&&He.valid(n)?new He(n):null},handleClick:kM,handleKeyDown:bM,handleDOMEvents:{beforeinput:CM}}})}const bM=u0({ArrowLeft:sa("horiz",-1),ArrowRight:sa("horiz",1),ArrowUp:sa("vert",-1),ArrowDown:sa("vert",1)});function sa(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ae){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=He.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new He(c))),!0):!1}}function kM(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!He.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Y.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new He(r))),!0)}function CM(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof He))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=R.empty;for(let o=r.length-1;o>=0;o--)i=R.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new J(i,0,0));return s.setSelection(ae.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function DM(t){if(!(t.selection instanceof He))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ct.create(t.doc,[yn.widget(t.selection.head,e,{key:"gapcursor"})])}const EM=vt.create({name:"gapCursor",addProseMirrorPlugins(){return[vM()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=De(ee(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),AM=xt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",tt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const f=l.filter(d=>a.includes(d.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),xM=xt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,tt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Nc({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ga=200,it=function(){};it.prototype.append=function(e){return e.length?(e=it.from(e),!this.length&&e||e.length<Ga&&this.leafAppend(e)||this.length<Ga&&e.leafPrepend(this)||this.appendInner(e)):this};it.prototype.prepend=function(e){return e.length?it.from(e).append(this):this};it.prototype.appendInner=function(e){return new SM(this,e)};it.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?it.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};it.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};it.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};it.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};it.from=function(e){return e instanceof it?e:e&&e.length?new mv(e):it.empty};var mv=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ga)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ga)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(it);it.empty=new mv([]);var SM=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(it),gv=it;const wM=500;class en{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),s=i.maps.length),s--,u.push(f);return}if(i){u.push(new un(f.map));let h=f.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new un(p,void 0,void 0,c.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(s)):f.selection,l=new en(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),d=new un(e.mapping.maps[u],f,n),h;(h=l&&l.merge(d))&&(d=h,u?s.pop():a=a.slice(0,a.length-1)),s.push(d),n&&(o++,n=void 0),i||(l=d)}let c=o-r.depth;return c>TM&&(a=OM(a,c),o-=c),new en(a.append(s),o)}remapping(e,n){let r=new Qi;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new en(this.items.append(e.map(n=>new un(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=n;this.items.forEach(d=>{let h=s.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(d.step){let m=e.steps[h].invert(e.docs[h]),v=d.selection&&d.selection.map(s.slice(l+1,h));v&&a++,r.push(new un(p,m,v))}else r.push(new un(p))},i);let c=[];for(let d=n;d<o;d++)c.push(new un(s.maps[d]));let u=this.items.slice(0,i).append(c).append(r),f=new en(u,a);return f.emptyItemCount()>wM&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let f=new un(c.invert(),l,u),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else o.map&&r--},this.items.length,0),new en(gv.from(i.reverse()),s)}}en.empty=new en(gv.empty,0);function OM(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class un{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new un(n.getMap().invert(),n,this.selection)}}}class sr{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const TM=20;function MM(t,e,n,r){let i=n.getMeta(mr),s;if(i)return i.historyState;n.getMeta(FM)&&(t=new sr(t.done,t.undone,null,0));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(mr))return o.getMeta(mr).redo?new sr(t.done.addTransform(n,void 0,r,ma(e)),t.undone,dm(n.mapping.maps[n.steps.length-1]),t.prevTime):new sr(t.done,t.undone.addTransform(n,void 0,r,ma(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_M(n,t.prevRanges)),l=o?Iu(t.prevRanges,n.mapping):dm(n.mapping.maps[n.steps.length-1]);return new sr(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,ma(e)),en.empty,l,n.time)}else return(s=n.getMeta("rebased"))?new sr(t.done.rebased(n,s),t.undone.rebased(n,s),Iu(t.prevRanges,n.mapping),t.prevTime):new sr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Iu(t.prevRanges,n.mapping),t.prevTime)}function _M(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function dm(t){let e=[];return t.forEach((n,r,i,s)=>e.push(i,s)),e}function Iu(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function yv(t,e,n,r){let i=ma(e),s=mr.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,i);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),c=new sr(r?l:o.remaining,r?o.remaining:l,null,0);n(o.transform.setSelection(a).setMeta(mr,{redo:r,historyState:c}).scrollIntoView())}let Bu=!1,hm=null;function ma(t){let e=t.plugins;if(hm!=e){Bu=!1,hm=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Bu=!0;break}}return Bu}const mr=new $t("history"),FM=new $t("closeHistory");function PM(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new st({key:mr,state:{init(){return new sr(en.empty,en.empty,null,0)},apply(e,n,r){return MM(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?vv:r=="historyRedo"?bv:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const vv=(t,e)=>{let n=mr.getState(t);return!n||n.done.eventCount==0?!1:(e&&yv(n,t,e,!1),!0)},bv=(t,e)=>{let n=mr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&yv(n,t,e,!0),!0)},NM=vt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>vv(t,e),redo:()=>({state:t,dispatch:e})=>bv(t,e)}},addProseMirrorPlugins(){return[PM(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),RM=xt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",tt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:i}=e.selection,s=i.end();if(i.nodeAfter)e.setSelection(ae.create(e.doc,i.pos));else{const o=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();o&&(e.insert(s,o),e.setSelection(ae.create(e.doc,s)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[Tw({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),IM=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,BM=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,LM=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,$M=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,VM=En.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[fs({find:IM,type:this.type}),fs({find:LM,type:this.type})]},addPasteRules(){return[pi({find:BM,type:this.type}),pi({find:$M,type:this.type})]}}),jM=xt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",tt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),HM=/^(\d+)\.\s$/,zM=xt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",tt(this.options.HTMLAttributes,n),0]:["ol",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Jf({find:HM,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),KM=xt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),UM=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,qM=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,WM=En.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[fs({find:UM,type:this.type})]},addPasteRules(){return[pi({find:qM,type:this.type})]}}),JM=xt.create({name:"text",group:"inline"}),A_=vt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,f,d,h,p,m,v,y;const k=[];return this.options.blockquote!==!1&&k.push(gT.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&k.push(CT.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&k.push(ET.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&k.push(ST.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&k.push(TT.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&k.push(MT.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&k.push(PT.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&k.push(EM.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&k.push(AM.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&k.push(xM.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&k.push(NM.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&k.push(RM.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&k.push(VM.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&k.push(jM.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&k.push(zM.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&k.push(KM.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&k.push(WM.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&k.push(JM.configure((y=this.options)===null||y===void 0?void 0:y.text)),k}}),x_=En.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=qf(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),S_=En.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function fd(t){this.j={},this.jr=[],this.jd=null,this.t=t}fd.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var r=n,i=this.j[e];if(i)return r&&(i.t=r),i;i=Ie();var s=Ya(this,e);return s?(Object.assign(i.j,s.j),i.jr.append(s.jr),i.jr=s.jd,i.t=r||s.t):i.t=r,this.j[e]=i,i}};var Ie=function(){return new fd},oe=function(e){return new fd(e)},H=function(e,n,r){e.j[n]||(e.j[n]=r)},Ye=function(e,n,r){e.jr.push([n,r])},Ya=function(e,n){var r=e.j[n];if(r)return r;for(var i=0;i<e.jr.length;i++){var s=e.jr[i][0],o=e.jr[i][1];if(s.test(n))return o}return e.jd},xe=function(e,n,r){for(var i=0;i<n.length;i++)H(e,n[i],r)},GM=function(e,n){for(var r=0;r<n.length;r++){var i=n[r][0],s=n[r][1];H(e,i,s)}},Pr=function(e,n,r,i){for(var s=0,o=n.length,a;s<o&&(a=e.j[n[s]]);)e=a,s++;if(s>=o)return[];for(;s<o-1;)a=i(),H(e,n[s],a),e=a,s++;H(e,n[o-1],r)},Xt="DOMAIN",Pn="LOCALHOST",cn="TLD",zt="NUM",vs="PROTOCOL",dd="MAILTO",kv="WS",hd="NL",Hi="OPENBRACE",ao="OPENBRACKET",lo="OPENANGLEBRACKET",uo="OPENPAREN",Ur="CLOSEBRACE",zi="CLOSEBRACKET",Ki="CLOSEANGLEBRACKET",Ui="CLOSEPAREN",Qa="AMPERSAND",Xa="APOSTROPHE",Za="ASTERISK",qi="AT",el="BACKSLASH",tl="BACKTICK",nl="CARET",co="COLON",pd="COMMA",rl="DOLLAR",or="DOT",il="EQUALS",md="EXCLAMATION",sl="HYPHEN",ol="PERCENT",al="PIPE",ll="PLUS",ul="POUND",cl="QUERY",gd="QUOTE",yd="SEMI",Rn="SLASH",fl="TILDE",dl="UNDERSCORE",hl="SYM",YM=Object.freeze({__proto__:null,DOMAIN:Xt,LOCALHOST:Pn,TLD:cn,NUM:zt,PROTOCOL:vs,MAILTO:dd,WS:kv,NL:hd,OPENBRACE:Hi,OPENBRACKET:ao,OPENANGLEBRACKET:lo,OPENPAREN:uo,CLOSEBRACE:Ur,CLOSEBRACKET:zi,CLOSEANGLEBRACKET:Ki,CLOSEPAREN:Ui,AMPERSAND:Qa,APOSTROPHE:Xa,ASTERISK:Za,AT:qi,BACKSLASH:el,BACKTICK:tl,CARET:nl,COLON:co,COMMA:pd,DOLLAR:rl,DOT:or,EQUALS:il,EXCLAMATION:md,HYPHEN:sl,PERCENT:ol,PIPE:al,PLUS:ll,POUND:ul,QUERY:cl,QUOTE:gd,SEMI:yd,SLASH:Rn,TILDE:fl,UNDERSCORE:dl,SYM:hl}),pm="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),Fs=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Ps=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Ns=/\uFE0F/,Rs=/\d/,mm=/\s/;function QM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=Ie(),n=oe(zt),r=oe(Xt),i=Ie(),s=oe(kv),o=[[Rs,r],[Fs,r],[Ps,r],[Ns,r]],a=function(){var b=oe(Xt);return b.j={"-":i},b.jr=[].concat(o),b},l=function(b){var O=a();return O.t=b,O};GM(e,[["'",oe(Xa)],["{",oe(Hi)],["[",oe(ao)],["<",oe(lo)],["(",oe(uo)],["}",oe(Ur)],["]",oe(zi)],[">",oe(Ki)],[")",oe(Ui)],["&",oe(Qa)],["*",oe(Za)],["@",oe(qi)],["`",oe(tl)],["^",oe(nl)],[":",oe(co)],[",",oe(pd)],["$",oe(rl)],[".",oe(or)],["=",oe(il)],["!",oe(md)],["-",oe(sl)],["%",oe(ol)],["|",oe(al)],["+",oe(ll)],["#",oe(ul)],["?",oe(cl)],['"',oe(gd)],["/",oe(Rn)],[";",oe(yd)],["~",oe(fl)],["_",oe(dl)],["\\",oe(el)]]),H(e,`
`,oe(hd)),Ye(e,mm,s),H(s,`
`,Ie()),Ye(s,mm,s);for(var c=0;c<pm.length;c++)Pr(e,pm[c],l(cn),a);var u=a(),f=a(),d=a(),h=a();Pr(e,"file",u,a),Pr(e,"ftp",f,a),Pr(e,"http",d,a),Pr(e,"mailto",h,a);var p=a(),m=oe(vs),v=oe(dd);H(f,"s",p),H(f,":",m),H(d,"s",p),H(d,":",m),H(u,":",m),H(p,":",m),H(h,":",v);for(var y=a(),k=0;k<t.length;k++)Pr(e,t[k],y,a);return H(y,":",m),Pr(e,"localhost",l(Pn),a),Ye(e,Rs,n),Ye(e,Fs,r),Ye(e,Ps,r),Ye(e,Ns,r),Ye(n,Rs,n),Ye(n,Fs,r),Ye(n,Ps,r),Ye(n,Ns,r),H(n,"-",i),H(r,"-",i),H(i,"-",i),Ye(r,Rs,r),Ye(r,Fs,r),Ye(r,Ps,r),Ye(r,Ns,r),Ye(i,Rs,r),Ye(i,Fs,r),Ye(i,Ps,r),Ye(i,Ns,r),e.jd=oe(hl),e}function XM(t,e){for(var n=ZM(e.replace(/[A-Z]/g,function(h){return h.toLowerCase()})),r=n.length,i=[],s=0,o=0;o<r;){for(var a=t,l=null,c=0,u=null,f=-1,d=-1;o<r&&(l=Ya(a,n[o]));)a=l,a.accepts()?(f=0,d=0,u=a):f>=0&&(f+=n[o].length,d++),c+=n[o].length,s+=n[o].length,o++;s-=f,o-=d,c-=f,i.push({t:u.t,v:e.substr(s-c,c),s:s-c,e:s})}return i}function ZM(t){for(var e=[],n=t.length,r=0;r<n;){var i=t.charCodeAt(r),s=void 0,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function ga(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ga=function(e){return typeof e}:ga=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(t)}var at={defaultProtocol:"http",events:null,format:gm,formatHref:gm,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function e_(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:at.defaultProtocol,this.events="events"in t?t.events:at.events,this.format="format"in t?t.format:at.format,this.formatHref="formatHref"in t?t.formatHref:at.formatHref,this.nl2br="nl2br"in t?t.nl2br:at.nl2br,this.tagName="tagName"in t?t.tagName:at.tagName,this.target="target"in t?t.target:at.target,this.rel="rel"in t?t.rel:at.rel,this.validate="validate"in t?t.validate:at.validate,this.truncate="truncate"in t?t.truncate:at.truncate,this.className="className"in t?t.className:at.className,this.attributes=t.attributes||at.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:at.ignoreTags,n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}e_.prototype={resolve:function(e){var n=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",n,e),tagName:this.get("tagName",n,e),className:this.get("className",n,e),target:this.get("target",n,e),rel:this.get("rel",n,e),events:this.getObject("events",n,e),attributes:this.getObject("attributes",n,e),truncate:this.get("truncate",n,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,n,r){var i=this[e];if(!i)return i;var s;switch(ga(i)){case"function":return i(n,r.t);case"object":return s=r.t in i?i[r.t]:at[e],typeof s=="function"?s(n,r.t):s}return i},getObject:function(e,n,r){var i=this[e];return typeof i=="function"?i(n,r.t):i}};function gm(t){return t}function t_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r.constructor=e,e.prototype=r,e}function pl(){}pl.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Di(t,e){function n(r,i){this.t=t,this.v=r,this.tk=i}return t_(pl,n,e),n}var Cv=Di("email",{isLink:!0}),Wc=Di("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Jc=Di("text"),Dv=Di("nl"),nr=Di("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at.defaultProtocol,n=this.tk,r=!1,i=!1,s=[],o=0;n[o].t===vs;)r=!0,s.push(n[o].v),o++;for(;n[o].t===Rn;)i=!0,s.push(n[o].v),o++;for(;o<n.length;o++)s.push(n[o].v);return s=s.join(""),r||i||(s="".concat(e,"://").concat(s)),s},hasProtocol:function(){return this.tk[0].t===vs}}),n_=Object.freeze({__proto__:null,MultiToken:pl,Base:pl,createTokenClass:Di,MailtoEmail:Cv,Email:Wc,Text:Jc,Nl:Dv,Url:nr});function r_(){var t=Ie(),e=Ie(),n=Ie(),r=Ie(),i=Ie(),s=Ie(),o=Ie(),a=oe(nr),l=Ie(),c=oe(nr),u=oe(nr),f=Ie(),d=Ie(),h=Ie(),p=Ie(),m=Ie(),v=oe(nr),y=oe(nr),k=oe(nr),S=oe(nr),b=Ie(),O=Ie(),x=Ie(),P=Ie(),D=Ie(),L=Ie(),j=oe(Wc),z=Ie(),_=oe(Wc),G=oe(Cv),U=Ie(),ve=Ie(),te=Ie(),re=Ie(),ie=oe(Dv);H(t,hd,ie),H(t,vs,e),H(t,dd,n),H(e,Rn,r),H(r,Rn,i),H(t,cn,s),H(t,Xt,s),H(t,Pn,a),H(t,zt,s),H(i,cn,u),H(i,Xt,u),H(i,zt,u),H(i,Pn,u),H(s,or,o),H(D,or,L),H(o,cn,a),H(o,Xt,s),H(o,zt,s),H(o,Pn,s),H(L,cn,j),H(L,Xt,D),H(L,zt,D),H(L,Pn,D),H(a,or,o),H(j,or,L),H(a,co,l),H(a,Rn,u),H(l,zt,c),H(c,Rn,u),H(j,co,z),H(z,zt,_);var be=[Qa,Za,qi,el,tl,nl,rl,Xt,il,sl,Pn,zt,ol,al,ll,ul,vs,Rn,hl,fl,cn,dl],Se=[Xa,Ki,Ur,zi,Ui,co,pd,or,md,lo,Hi,ao,uo,cl,gd,yd];H(u,Hi,d),H(u,ao,h),H(u,lo,p),H(u,uo,m),H(f,Hi,d),H(f,ao,h),H(f,lo,p),H(f,uo,m),H(d,Ur,u),H(h,zi,u),H(p,Ki,u),H(m,Ui,u),H(v,Ur,u),H(y,zi,u),H(k,Ki,u),H(S,Ui,u),H(b,Ur,u),H(O,zi,u),H(x,Ki,u),H(P,Ui,u),xe(d,be,v),xe(h,be,y),xe(p,be,k),xe(m,be,S),xe(d,Se,b),xe(h,Se,O),xe(p,Se,x),xe(m,Se,P),xe(v,be,v),xe(y,be,y),xe(k,be,k),xe(S,be,S),xe(v,Se,v),xe(y,Se,y),xe(k,Se,k),xe(S,Se,S),xe(b,be,v),xe(O,be,y),xe(x,be,k),xe(P,be,S),xe(b,Se,b),xe(O,Se,O),xe(x,Se,x),xe(P,Se,P),xe(u,be,u),xe(f,be,u),xe(u,Se,f),xe(f,Se,f),H(n,cn,G),H(n,Xt,G),H(n,zt,G),H(n,Pn,G),xe(G,be,G),xe(G,Se,U),xe(U,be,G),xe(U,Se,U);var je=[Qa,Xa,Za,el,tl,nl,Ur,rl,Xt,il,sl,zt,Hi,ol,al,ll,ul,cl,Rn,hl,fl,cn,dl];return xe(s,je,ve),H(s,qi,te),xe(a,je,ve),H(a,qi,te),xe(o,je,ve),xe(ve,je,ve),H(ve,qi,te),H(ve,or,re),xe(re,je,ve),H(te,cn,D),H(te,Xt,D),H(te,zt,D),H(te,Pn,j),t}function i_(t,e,n){for(var r=n.length,i=0,s=[],o=[];i<r;){for(var a=t,l=null,c=null,u=0,f=null,d=-1;i<r&&!(l=Ya(a,n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||Ya(a,n[i].t));)l=null,a=c,a.accepts()?(d=0,f=a):d>=0&&d++,i++,u++;if(d<0)for(var h=i-u;h<i;h++)o.push(n[h]);else{o.length>0&&(s.push(Lu(Jc,e,o)),o=[]),i-=d,u-=d;var p=f.t,m=n.slice(i-u,i);s.push(Lu(p,e,m))}}return o.length>0&&s.push(Lu(Jc,e,o)),s}function Lu(t,e,n){var r=n[0].s,i=n[n.length-1].e,s=e.substr(r,i-r);return new t(s,n)}var s_=typeof console!="undefined"&&console&&console.warn||function(){},wt={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function o_(t){if(wt.initialized&&s_('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");wt.customProtocols.push(t)}function a_(){wt.scanner={start:QM(wt.customProtocols),tokens:YM},wt.parser={start:r_(),tokens:n_};for(var t={createTokenClass:Di},e=0;e<wt.pluginQueue.length;e++)wt.pluginQueue[e][1]({scanner:wt.scanner,parser:wt.parser,utils:t});wt.initialized=!0}function Ev(t){return wt.initialized||a_(),i_(wt.parser.start,t,XM(wt.scanner.start,t))}function vd(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=Ev(t),r=[],i=0;i<n.length;i++){var s=n[i];s.isLink&&(!e||s.t===e)&&r.push(s.toObject())}return r}function ym(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=Ev(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function l_(t){return new st({key:new $t("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=Ew(n.doc,[...e]),{mapping:l}=a;if(ww(a).forEach(({oldRange:u,newRange:f})=>{Ha(u.from,u.to,n.doc).filter(d=>d.mark.type===t.type).forEach(d=>{const h=l.map(d.from),p=l.map(d.to),m=Ha(h,p,r.doc).filter(O=>O.mark.type===t.type);if(!m.length)return;const v=m[0],y=n.doc.textBetween(d.from,d.to,void 0," "),k=r.doc.textBetween(v.from,v.to,void 0," "),S=ym(y),b=ym(k);S&&!b&&o.removeMark(v.from,v.to,t.type)}),Aw(r.doc,f,d=>d.isTextblock).forEach(d=>{const h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");vd(h).filter(p=>p.isLink).filter(p=>t.validate?t.validate(p.value):!0).map(p=>({...p,from:d.pos+p.start+1,to:d.pos+p.end+1})).filter(p=>{const m=f.from>=p.from&&f.from<=p.to,v=f.to>=p.from&&f.to<=p.to;return m||v}).forEach(p=>{o.addMark(p.from,p.to,t.type.create({href:p.href}))})})}),!!o.steps.length)return o}})}function u_(t){return new st({key:new $t("handleClickLink"),props:{handleClick:(e,n,r)=>{var i;const s=A0(e.state,t.type.name);return((i=r.target)===null||i===void 0?void 0:i.closest("a"))&&s.href?(window.open(s.href,s.target),!0):!1}}})}function c_(t){return new st({key:new $t("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=vd(a).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const w_=En.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(o_)},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pi({find:t=>vd(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(l_({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(u_({type:this.type})),this.options.linkOnPaste&&t.push(c_({editor:this.editor,type:this.type})),t}});zn(",key,ref,innerHTML,textContent,ref_key,ref_for");Ik();export{ut as $,af as A,Zm as B,dt as C,kn as D,j1 as E,Ot as F,yg as G,vh as H,Oe as I,v_ as J,s1 as K,d_ as L,E_ as M,D_ as N,C_ as O,vt as P,h_ as Q,tD as R,A_ as S,rs as T,g_ as U,m_ as V,b_ as W,st as X,$t as Y,ae as Z,tn as _,_o as a,ET as a0,CT as a1,VM as a2,S_ as a3,NM as a4,w_ as a5,zM as a6,x_ as a7,vi as b,hn as c,Ag as d,i1 as e,yi as f,Pt as g,vn as h,go as i,nn as j,f_ as k,k_ as l,q1 as m,hf as n,No as o,la as p,wl as q,ks as r,p_ as s,rg as t,y_ as u,Tk as v,Ws as w,yf as x,yh as y,sD as z};
