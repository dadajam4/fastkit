import{r as S,a as y,o as E}from"./vendor.b2c83758.js";import{M as a,B as I,D as B}from"./index.900ff698.js";let u;function D(){const t=S({}),i=y("pending"),s=[];a.forEach(({key:e})=>{t[e]=!1});const f=()=>i.value==="pending",h=()=>i.value==="ready";function l(){!I||!f()||(i.value="resvered",a.forEach(e=>{const{key:o,condition:p}=e,r=window.matchMedia(p),c=g=>{t[o]=g.matches},v={key:o,mql:r,handler:c,remove:()=>{r.removeEventListener("change",c),B(s,v)}};r.addEventListener("change",c),t[o]=r.matches,s.push(v)}))}function d(e){return t[e]}function m(){for(const e of s)t[e.key]=e.mql.matches}function M(){for(const e of s)t[e.key]=!1,e.remove()}const n=function(o){return d(o)};return n.state=()=>t,n.listeners=()=>s,n.conditions=()=>a,n.bootState=()=>i.value,n.isPending=f,n.isBooted=h,n.matches=d,n.flush=m,n.setup=l,n.dispose=M,n}function N(){return u||(u=D()),u}function O(){const t=N();return t.isBooted()||E(()=>{t.setup()}),t}export{O as u};
